<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>17 Midterm Exam | ECON 4-6260 Behavioral Economics</title>
  <meta name="description" content="17 Midterm Exam | ECON 4-6260 Behavioral Economics" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="17 Midterm Exam | ECON 4-6260 Behavioral Economics" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="17 Midterm Exam | ECON 4-6260 Behavioral Economics" />
  
  
  

<meta name="author" content="James Bland" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exams.html"/>

<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="common-content-both-econ-4260-and-econ-6260.html"><a href="common-content-both-econ-4260-and-econ-6260.html"><i class="fa fa-check"></i>Common content (both ECON 4260 and ECON 6260)</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#boring-stuff-first-expectation-for-class"><i class="fa fa-check"></i><b>1.1</b> Boring stuff first: Expectation for class</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-will-we-be-studying"><i class="fa fa-check"></i><b>1.2</b> What will we be studying?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#doing-economic-research-without-experiments"><i class="fa fa-check"></i><b>1.3</b> Doing economic research without experiments</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#economic-experiments"><i class="fa fa-check"></i><b>1.4</b> Economic experiments</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#why-pay-money"><i class="fa fa-check"></i><b>1.5</b> Why pay money?</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#how-this-will-work-for-econ46260"><i class="fa fa-check"></i><b>1.6</b> How this will work for ECON4/6260</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#and-now-for-our-first-experiment"><i class="fa fa-check"></i><b>1.7</b> And now for our first experiment</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#reasons-for-running-an-experiment"><i class="fa fa-check"></i><b>1.8</b> Reasons for running an experiment</a></li>
<li class="chapter" data-level="1.9" data-path="introduction.html"><a href="introduction.html#studying-theoretical-predictions---i"><i class="fa fa-check"></i><b>1.9</b> Studying theoretical predictions - I</a></li>
<li class="chapter" data-level="1.10" data-path="introduction.html"><a href="introduction.html#studying-theoretical-predictions---ii"><i class="fa fa-check"></i><b>1.10</b> Studying theoretical predictions - II</a></li>
<li class="chapter" data-level="1.11" data-path="introduction.html"><a href="introduction.html#studying-theoretical-predictions---iii"><i class="fa fa-check"></i><b>1.11</b> Studying theoretical predictions - III</a></li>
<li class="chapter" data-level="1.12" data-path="introduction.html"><a href="introduction.html#studying-theoretical-predictions---iv"><i class="fa fa-check"></i><b>1.12</b> Studying theoretical predictions - IV</a></li>
<li class="chapter" data-level="1.13" data-path="introduction.html"><a href="introduction.html#economic-experiments-and-causality"><i class="fa fa-check"></i><b>1.13</b> Economic experiments and causality</a></li>
<li class="chapter" data-level="1.14" data-path="introduction.html"><a href="introduction.html#complement-to-data-from-outside-the-lab"><i class="fa fa-check"></i><b>1.14</b> Complement to data from outside the lab</a></li>
<li class="chapter" data-level="1.15" data-path="introduction.html"><a href="introduction.html#a-roadmap-for-this-course"><i class="fa fa-check"></i><b>1.15</b> A roadmap for this course</a></li>
<li class="chapter" data-level="1.16" data-path="introduction.html"><a href="introduction.html#outline-of-topics-covered-not-necessarily-in-order"><i class="fa fa-check"></i><b>1.16</b> Outline of topics covered (not necessarily in order)</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="markets.html"><a href="markets.html"><i class="fa fa-check"></i><b>2</b> Markets</a>
<ul>
<li class="chapter" data-level="2.1" data-path="markets.html"><a href="markets.html#markets-1"><i class="fa fa-check"></i><b>2.1</b> Markets</a></li>
<li class="chapter" data-level="2.2" data-path="markets.html"><a href="markets.html#an-experiment"><i class="fa fa-check"></i><b>2.2</b> An experiment</a></li>
<li class="chapter" data-level="2.3" data-path="markets.html"><a href="markets.html#induced-value-theory"><i class="fa fa-check"></i><b>2.3</b> Induced value theory</a></li>
<li class="chapter" data-level="2.4" data-path="markets.html"><a href="markets.html#in-market-experiments"><i class="fa fa-check"></i><b>2.4</b> In market experiments</a></li>
<li class="chapter" data-level="2.5" data-path="markets.html"><a href="markets.html#numerical-example---buyers"><i class="fa fa-check"></i><b>2.5</b> Numerical example - Buyers</a></li>
<li class="chapter" data-level="2.6" data-path="markets.html"><a href="markets.html#numerical-example---sellers"><i class="fa fa-check"></i><b>2.6</b> Numerical example - Sellers</a></li>
<li class="chapter" data-level="2.7" data-path="markets.html"><a href="markets.html#numerical-example---supply-and-demand-curves"><i class="fa fa-check"></i><b>2.7</b> Numerical example - Supply and demand curves</a></li>
<li class="chapter" data-level="2.8" data-path="markets.html"><a href="markets.html#point-predictions-from-markets"><i class="fa fa-check"></i><b>2.8</b> Point predictions from markets</a></li>
<li class="chapter" data-level="2.9" data-path="markets.html"><a href="markets.html#point-predictions"><i class="fa fa-check"></i><b>2.9</b> Point predictions</a></li>
<li class="chapter" data-level="2.10" data-path="markets.html"><a href="markets.html#comparative-static-predictions"><i class="fa fa-check"></i><b>2.10</b> Comparative static predictions</a></li>
<li class="chapter" data-level="2.11" data-path="markets.html"><a href="markets.html#other-take-aways"><i class="fa fa-check"></i><b>2.11</b> Other take-aways</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html"><i class="fa fa-check"></i><b>3</b> Risk and decision-making</a>
<ul>
<li class="chapter" data-level="3.1" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#risk-and-uncertainty"><i class="fa fa-check"></i><b>3.1</b> Risk and uncertainty</a></li>
<li class="chapter" data-level="3.2" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#example-insurance"><i class="fa fa-check"></i><b>3.2</b> Example: Insurance</a></li>
<li class="chapter" data-level="3.3" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#expected-value"><i class="fa fa-check"></i><b>3.3</b> Expected value</a></li>
<li class="chapter" data-level="3.4" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#expected-value-1"><i class="fa fa-check"></i><b>3.4</b> Expected Value</a></li>
<li class="chapter" data-level="3.5" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#but-most-people-care-about-risk"><i class="fa fa-check"></i><b>3.5</b> But most people care about risk!</a></li>
<li class="chapter" data-level="3.6" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#expected-utility-theory"><i class="fa fa-check"></i><b>3.6</b> Expected utility theory</a></li>
<li class="chapter" data-level="3.7" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#insurance-with-risk-aversion"><i class="fa fa-check"></i><b>3.7</b> Insurance with risk aversion</a></li>
<li class="chapter" data-level="3.8" data-path="risk-and-decision-making.html"><a href="risk-and-decision-making.html#insurance-with-risk-aversion---graphically"><i class="fa fa-check"></i><b>3.8</b> Insurance with risk aversion - graphically</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bayes-rule.html"><a href="bayes-rule.html"><i class="fa fa-check"></i><b>4</b> Bayes’ rule</a>
<ul>
<li class="chapter" data-level="4.1" data-path="bayes-rule.html"><a href="bayes-rule.html#in-comparison-to-chapter-3-risk"><i class="fa fa-check"></i><b>4.1</b> In comparison to Chapter 3 (risk)</a></li>
<li class="chapter" data-level="4.2" data-path="bayes-rule.html"><a href="bayes-rule.html#conditional-probability"><i class="fa fa-check"></i><b>4.2</b> Conditional probability</a></li>
<li class="chapter" data-level="4.3" data-path="bayes-rule.html"><a href="bayes-rule.html#example"><i class="fa fa-check"></i><b>4.3</b> Example</a></li>
<li class="chapter" data-level="4.4" data-path="bayes-rule.html"><a href="bayes-rule.html#more-generally"><i class="fa fa-check"></i><b>4.4</b> More generally</a></li>
<li class="chapter" data-level="4.5" data-path="bayes-rule.html"><a href="bayes-rule.html#example-from-ps3---i"><i class="fa fa-check"></i><b>4.5</b> Example from PS3 - I</a></li>
<li class="chapter" data-level="4.6" data-path="bayes-rule.html"><a href="bayes-rule.html#example-ii"><i class="fa fa-check"></i><b>4.6</b> Example, II</a></li>
<li class="chapter" data-level="4.7" data-path="bayes-rule.html"><a href="bayes-rule.html#example-iii"><i class="fa fa-check"></i><b>4.7</b> Example, III</a></li>
<li class="chapter" data-level="4.8" data-path="bayes-rule.html"><a href="bayes-rule.html#example-iv"><i class="fa fa-check"></i><b>4.8</b> Example, IV</a></li>
<li class="chapter" data-level="4.9" data-path="bayes-rule.html"><a href="bayes-rule.html#example-v"><i class="fa fa-check"></i><b>4.9</b> Example, V</a></li>
<li class="chapter" data-level="4.10" data-path="bayes-rule.html"><a href="bayes-rule.html#example-vi"><i class="fa fa-check"></i><b>4.10</b> Example, VI</a></li>
<li class="chapter" data-level="4.11" data-path="bayes-rule.html"><a href="bayes-rule.html#example-vii"><i class="fa fa-check"></i><b>4.11</b> Example, VII</a></li>
<li class="chapter" data-level="4.12" data-path="bayes-rule.html"><a href="bayes-rule.html#example-viii"><i class="fa fa-check"></i><b>4.12</b> Example, VIII</a></li>
<li class="chapter" data-level="4.13" data-path="bayes-rule.html"><a href="bayes-rule.html#example-ix"><i class="fa fa-check"></i><b>4.13</b> Example, IX</a></li>
<li class="chapter" data-level="4.14" data-path="bayes-rule.html"><a href="bayes-rule.html#example-x"><i class="fa fa-check"></i><b>4.14</b> Example, X</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="anomalies-with-decision-making-under-risk.html"><a href="anomalies-with-decision-making-under-risk.html"><i class="fa fa-check"></i><b>5</b> Anomalies with decision-making under risk</a></li>
<li class="chapter" data-level="6" data-path="introduction-to-game-theory.html"><a href="introduction-to-game-theory.html"><i class="fa fa-check"></i><b>6</b> Introduction to Game Theory</a></li>
<li class="chapter" data-level="" data-path="masters-only-content-econ-6260.html"><a href="masters-only-content-econ-6260.html"><i class="fa fa-check"></i>Masters-only content (ECON 6260)</a></li>
<li class="chapter" data-level="7" data-path="reading-which-is-the-fair-sex.html"><a href="reading-which-is-the-fair-sex.html"><i class="fa fa-check"></i><b>7</b> Reading: Which is the fair sex?</a>
<ul>
<li class="chapter" data-level="7.1" data-path="reading-which-is-the-fair-sex.html"><a href="reading-which-is-the-fair-sex.html#plot-the-budget-sets"><i class="fa fa-check"></i><b>7.1</b> plot the budget sets</a></li>
<li class="chapter" data-level="7.2" data-path="reading-which-is-the-fair-sex.html"><a href="reading-which-is-the-fair-sex.html#classification-into-3-types-of-subject"><i class="fa fa-check"></i><b>7.2</b> Classification into 3 types of subject</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="parametric-recoverability-of-preferences.html"><a href="parametric-recoverability-of-preferences.html"><i class="fa fa-check"></i><b>8</b> Parametric recoverability of preferences</a>
<ul>
<li class="chapter" data-level="8.1" data-path="parametric-recoverability-of-preferences.html"><a href="parametric-recoverability-of-preferences.html#experiment-design"><i class="fa fa-check"></i><b>8.1</b> Experiment design</a></li>
<li class="chapter" data-level="8.2" data-path="parametric-recoverability-of-preferences.html"><a href="parametric-recoverability-of-preferences.html#the-money-metric"><i class="fa fa-check"></i><b>8.2</b> The “money metric”</a></li>
<li class="chapter" data-level="8.3" data-path="parametric-recoverability-of-preferences.html"><a href="parametric-recoverability-of-preferences.html#example-using-av2001s-data"><i class="fa fa-check"></i><b>8.3</b> Example using AV2001’s data</a></li>
<li class="chapter" data-level="8.4" data-path="parametric-recoverability-of-preferences.html"><a href="parametric-recoverability-of-preferences.html#for-this-paper"><i class="fa fa-check"></i><b>8.4</b> For this paper</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="penalty-kicks-and-msne.html"><a href="penalty-kicks-and-msne.html"><i class="fa fa-check"></i><b>9</b> Penalty Kicks and MSNE</a>
<ul>
<li class="chapter" data-level="9.1" data-path="penalty-kicks-and-msne.html"><a href="penalty-kicks-and-msne.html#other-datasets"><i class="fa fa-check"></i><b>9.1</b> Other datasets:</a></li>
<li class="chapter" data-level="9.2" data-path="penalty-kicks-and-msne.html"><a href="penalty-kicks-and-msne.html#msne---empirical-payoffs"><i class="fa fa-check"></i><b>9.2</b> MSNE - empirical payoffs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="problem-sets.html"><a href="problem-sets.html"><i class="fa fa-check"></i>Problem sets</a></li>
<li class="chapter" data-level="10" data-path="guessing-game.html"><a href="guessing-game.html"><i class="fa fa-check"></i><b>10</b> Guessing Game</a>
<ul>
<li class="chapter" data-level="10.1" data-path="guessing-game.html"><a href="guessing-game.html#a-description-of-what-happened"><i class="fa fa-check"></i><b>10.1</b> A description of what happened</a></li>
<li class="chapter" data-level="10.2" data-path="guessing-game.html"><a href="guessing-game.html#your-homework-assignment"><i class="fa fa-check"></i><b>10.2</b> Your homework assignment</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="guessing-game.html"><a href="guessing-game.html#solutions"><i class="fa fa-check"></i><b>10.2.1</b> Solutions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="markets-2.html"><a href="markets-2.html"><i class="fa fa-check"></i><b>11</b> Markets</a>
<ul>
<li class="chapter" data-level="11.1" data-path="markets-2.html"><a href="markets-2.html#your-homework-assignment-1"><i class="fa fa-check"></i><b>11.1</b> Your homework assignment</a></li>
<li class="chapter" data-level="11.2" data-path="markets-2.html"><a href="markets-2.html#solutions-1"><i class="fa fa-check"></i><b>11.2</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="risk.html"><a href="risk.html"><i class="fa fa-check"></i><b>12</b> Risk</a>
<ul>
<li class="chapter" data-level="12.1" data-path="risk.html"><a href="risk.html#questions"><i class="fa fa-check"></i><b>12.1</b> Questions</a></li>
<li class="chapter" data-level="12.2" data-path="risk.html"><a href="risk.html#solutions-2"><i class="fa fa-check"></i><b>12.2</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="bayes-rule-1.html"><a href="bayes-rule-1.html"><i class="fa fa-check"></i><b>13</b> Bayes’ rule</a>
<ul>
<li class="chapter" data-level="13.1" data-path="bayes-rule-1.html"><a href="bayes-rule-1.html#instructions"><i class="fa fa-check"></i><b>13.1</b> Instructions</a></li>
<li class="chapter" data-level="13.2" data-path="bayes-rule-1.html"><a href="bayes-rule-1.html#data-description"><i class="fa fa-check"></i><b>13.2</b> Data Description</a></li>
<li class="chapter" data-level="13.3" data-path="bayes-rule-1.html"><a href="bayes-rule-1.html#questions-1"><i class="fa fa-check"></i><b>13.3</b> Questions</a></li>
<li class="chapter" data-level="13.4" data-path="bayes-rule-1.html"><a href="bayes-rule-1.html#solutions-3"><i class="fa fa-check"></i><b>13.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="search.html"><a href="search.html"><i class="fa fa-check"></i><b>14</b> Search</a>
<ul>
<li class="chapter" data-level="14.1" data-path="search.html"><a href="search.html#instructions-1"><i class="fa fa-check"></i><b>14.1</b> Instructions</a></li>
<li class="chapter" data-level="14.2" data-path="search.html"><a href="search.html#questions-2"><i class="fa fa-check"></i><b>14.2</b> Questions</a></li>
<li class="chapter" data-level="14.3" data-path="search.html"><a href="search.html#solutions-4"><i class="fa fa-check"></i><b>14.3</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="x-2-games.html"><a href="x-2-games.html"><i class="fa fa-check"></i><b>15</b> 2 x 2 games</a>
<ul>
<li class="chapter" data-level="15.1" data-path="x-2-games.html"><a href="x-2-games.html#instructions-2"><i class="fa fa-check"></i><b>15.1</b> Instructions</a></li>
<li class="chapter" data-level="15.2" data-path="x-2-games.html"><a href="x-2-games.html#the-three-games"><i class="fa fa-check"></i><b>15.2</b> The three games:</a></li>
<li class="chapter" data-level="15.3" data-path="x-2-games.html"><a href="x-2-games.html#questions-3"><i class="fa fa-check"></i><b>15.3</b> Questions</a></li>
<li class="chapter" data-level="15.4" data-path="x-2-games.html"><a href="x-2-games.html#solutions-5"><i class="fa fa-check"></i><b>15.4</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="asymmetric-rock-paper-scissors.html"><a href="asymmetric-rock-paper-scissors.html"><i class="fa fa-check"></i><b>16</b> Asymmetric rock, paper, scissors</a>
<ul>
<li class="chapter" data-level="16.1" data-path="asymmetric-rock-paper-scissors.html"><a href="asymmetric-rock-paper-scissors.html#instructions-3"><i class="fa fa-check"></i><b>16.1</b> Instructions</a></li>
<li class="chapter" data-level="16.2" data-path="asymmetric-rock-paper-scissors.html"><a href="asymmetric-rock-paper-scissors.html#the-two-games"><i class="fa fa-check"></i><b>16.2</b> The two games:</a></li>
<li class="chapter" data-level="16.3" data-path="asymmetric-rock-paper-scissors.html"><a href="asymmetric-rock-paper-scissors.html#questions-4"><i class="fa fa-check"></i><b>16.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exams.html"><a href="exams.html"><i class="fa fa-check"></i>Exams</a></li>
<li class="chapter" data-level="17" data-path="midterm-exam.html"><a href="midterm-exam.html"><i class="fa fa-check"></i><b>17</b> Midterm Exam</a>
<ul>
<li class="chapter" data-level="17.1" data-path="midterm-exam.html"><a href="midterm-exam.html#experiment-1"><i class="fa fa-check"></i><b>17.1</b> Experiment 1</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="midterm-exam.html"><a href="midterm-exam.html#instructions-4"><i class="fa fa-check"></i><b>17.1.1</b> Instructions</a></li>
<li class="chapter" data-level="17.1.2" data-path="midterm-exam.html"><a href="midterm-exam.html#questions-5"><i class="fa fa-check"></i><b>17.1.2</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="midterm-exam.html"><a href="midterm-exam.html#experiment-2"><i class="fa fa-check"></i><b>17.2</b> Experiment 2</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="midterm-exam.html"><a href="midterm-exam.html#instructions-5"><i class="fa fa-check"></i><b>17.2.1</b> Instructions</a></li>
<li class="chapter" data-level="17.2.2" data-path="midterm-exam.html"><a href="midterm-exam.html#data-1"><i class="fa fa-check"></i><b>17.2.2</b> Data</a></li>
<li class="chapter" data-level="17.2.3" data-path="midterm-exam.html"><a href="midterm-exam.html#questions-6"><i class="fa fa-check"></i><b>17.2.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="midterm-exam.html"><a href="midterm-exam.html#solutions-6"><i class="fa fa-check"></i><b>17.3</b> Solutions</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="midterm-exam.html"><a href="midterm-exam.html#experiment-2-1"><i class="fa fa-check"></i><b>17.3.1</b> Experiment 2</a></li>
<li class="chapter" data-level="17.3.2" data-path="midterm-exam.html"><a href="midterm-exam.html#experiment-2-2"><i class="fa fa-check"></i><b>17.3.2</b> Experiment 2</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ECON 4-6260 Behavioral Economics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="midterm-exam" class="section level1" number="17">
<h1><span class="header-section-number">17</span> Midterm Exam</h1>
<div id="experiment-1" class="section level2" number="17.1">
<h2><span class="header-section-number">17.1</span> Experiment 1</h2>
<div id="instructions-4" class="section level3" number="17.1.1">
<h3><span class="header-section-number">17.1.1</span> Instructions</h3>
<p><strong>PART 1</strong></p>
<ul>
<li><p>Decisions: In this experiment, you will be given the opportunity to make a number of investment decisions.</p></li>
<li><p>Initial Cash: For each decision, you will be given an initial amount of money that must be invested.</p></li>
<li><p>Assets: There are two available assets.</p></li>
<li><p>Asset Characteristics: One of the assets will be safer (Asset S), but the other asset will offer the possibility of a higher return (Asset R).</p></li>
<li><p>Example: For example, suppose that each dollar invested in Asset S returns $1 for sure, and each dollar invested in Asset R returns either $0 or $2, with each outcome being equally likely. (The returns that you will encounter are different from those in this example, which is for illustrative purposes only.)</p></li>
<li><p>Single Round: The experiment will consist of a single round.</p></li>
<li><p>Decisions: You will make a number of investment decisions.</p></li>
<li><p>Budget: For each decision, you will be given an amount of cash that can either be invested in a safe asset or a risky asset or divided in any manner between the two assets.</p></li>
<li><p>Earnings: At the end of the round, your earnings from each investment decision will be calculated, and one of the decisions will be selected at random to determine your earnings for the round.</p></li>
<li><p>Final Earnings: Then the earnings from this randomly selected decision will determine your final earnings for the experiment.</p></li>
<li><p>Example: To continue the previous example, suppose that you have $5 to invest, and the returns for each dollar invested are:
Asset S: returns $1 for each dollar invested,
Asset R: returns either $0 or $2 for each dollar invested, with each outcome being equally likely.
In other words, each dollar invested in Asset S is yours to keep, and each dollar invested in Asset R will either be lost completely or doubled, depending on whether or not the investment is successful.</p></li>
<li><p>Investment Outcome: If you decide to invest some of the initial amount in Asset R, then the throw of a ten-sided die will be used to determine whether or not that investment is successful. In this example, the investment will be unsuccessful if the throw is 1, 2, 3, 4, or 5, and the investment will be successful if the throw is 6, 7, 8, 9, or 10. Since each outcome of the throw is equally likely, there are 5 chances in 10 that the investment is not successful and 5 chances in 10 that the investment is successful. In other words, the chances of success and failure are equal.</p></li>
<li><p>Throw of Die: After you have made your investment decision, the computer will generate a random number that represents the die throw; this number is equally likely to be any of the 10 outcomes: 1, 2, 3, 4, 5, 6, 7, 8, 9, or 10.</p></li>
<li><p>Allocation: You will be allowed to allocate your initial cash between the assets in any manner, e.g. investing all in one asset, all in the other, or investing some in each. The only requirement is that the amounts invested in Asset S and Asset R sum to the amount of initial cash available for that decision ($5 in this example).</p></li>
</ul>
<p>*Example: The asset returns may differ from those given in the previous example. For example, suppose that you have $10.00 to invest. All money invested is transformed:
+ Asset S: Dollars invested are multiplied by 1.
+ Asset R: Dollars invested are multiplied by 0 (5 chances out of 10) or by 2.1 (5 chances out of 10).
In other words, each dollar invested in Asset S is transformed into $1.00, and each dollar invested in Asset R will either be transformed into $0.00 or into $2.10, depending on whether or not the investment is successful.</p>
<ul>
<li><p>Investment Outcome: If you decide to invest some of the initial amount in Asset R, then the throw of a ten-sided die will be used to determine whether or not that investment is successful. In this example, the investment will be unsuccessful if the throw is 1, 2, 3, 4, or 5, and the investment will be successful if the throw is 6, 7, 8, 9, or 10. Since each outcome of the throw is equally likely, there are 5 chances in 10 that the investment is not successful and 5 chances in 10 that the investment is successful. The numbers used in the actual experiment may differ from those in this example and will be shown to you when it is time to make decisions.</p></li>
<li><p>Single Round: The experiment will consist of a single decision round.</p></li>
<li><p>Decisions: You will make a number of investment decisions.</p></li>
<li><p>Budget: For each decision, you will be given an amount of cash that can either be invested in a safe asset or a risky asset or divided in any manner between the two assets.</p></li>
<li><p>Earnings: At the end of the round, one of the decisions will be selected at random to determine your earnings for the round.</p></li>
<li><p>Final Earnings: Then the earnings from this randomly selected decision will determine your final earnings for the experiment.</p></li>
</ul>
<p><strong>PART 2</strong></p>
<ul>
<li><p>Decisions: In this experiment, you will be given the opportunity to make a number of investment decisions.</p></li>
<li><p>Initial Cash: For each decision, you will be given an initial amount of money that must be invested.</p></li>
<li><p>Assets: There are two available assets.</p></li>
<li><p>Asset Characteristics: One of the assets will be safer (Asset S), but the other asset will offer the possibility of a higher return (Asset R).</p></li>
<li><p>Example: For example, suppose that each dollar invested in Asset S returns $1 for sure, and each dollar invested in Asset R returns either $0 or $2, with each outcome being equally likely. (The returns that you will encounter are different from those in this example, which is for illustrative purposes only.)</p></li>
<li><p>Allocation: You will be allowed to allocate your initial cash between the assets in any manner, e.g. investing all in one asset, all in the other, or investing some in each</p></li>
<li><p>Rounds: The experiment will consist of a number of rounds.</p></li>
<li><p>Single Decision: In each round, you will only make a single decision.</p></li>
<li><p>Budget: For this decision, you will be given an amount of cash that can either be invested in a safe asset or a risky asset or divided in any manner between the two assets.</p></li>
<li><p>Earnings: At the end of the round, your earnings from the investment decision will be calculated.</p></li>
<li><p>Cumulative Earnings: At the end of the round, the earnings from the decision will be added to your cumulative earnings.</p></li>
<li><p>Example: To continue the previous example, suppose that you have $5 to invest, and the returns for each dollar invested are:</p>
<ul>
<li>Asset S: returns $1 for each dollar invested,</li>
<li>Asset R: returns either $0 or $2 for each dollar invested, with each outcome being equally likely.</li>
</ul></li>
<li><p>In other words, each dollar invested in Asset S is yours to keep, and each dollar invested in Asset R will either be lost completely or doubled, depending on whether or not the investment is successful.</p></li>
<li><p>Investment Outcome: If you decide to invest some of the initial amount in Asset R, then the throw of a ten-sided die will be used to determine whether or not that investment is successful. In this example, the investment will be unsuccessful if the throw is 1, 2, 3, 4, or 5, and the investment will be successful if the throw is 6, 7, 8, 9, or 10. Since each outcome of the throw is equally likely, there are 5 chances in 10 that the investment is not successful and 5 chances in 10 that the investment is successful. In other words, the chances of success and failure are equal.</p></li>
<li><p>Throw of Die: After you have made your investment decision, the computer will generate a random number that represents the die throw; this number is equally likely to be any of the 10 outcomes: 1, 2, 3, 4, 5, 6, 7, 8, 9, or 10.</p></li>
<li><p>Allocation: You will be allowed to allocate your initial cash between the assets in any manner, e.g. investing all in one asset, all in the other, or investing some in each. The only requirement is that the amounts invested in Asset S and Asset R sum to the amount of initial cash available for that decision ($5 in this example).</p></li>
<li><p>Example: The asset returns may differ from those given in the previous example. For example, suppose that you have $3.00 to invest. All money invested is transformed:</p>
<ul>
<li>Asset S: Dollars invested are multiplied by 1.</li>
<li>Asset R: Dollars invested are multiplied by 0 (5 chances out of 10) or by 2.5 (5 chances out of 10).</li>
</ul></li>
<li><p>In other words, each dollar invested in Asset S is transformed into $1.00, and each dollar invested in Asset R will either be transformed into $0.00 or into $2.50, depending on whether or not the investment is successful.</p></li>
<li><p>Investment Outcome: If you decide to invest some of the initial amount in Asset R, then the throw of a ten-sided die will be used to determine whether or not that investment is successful. In this example, the investment will be unsuccessful if the throw is 1, 2, 3, 4, or 5, and the investment will be successful if the throw is 6, 7, 8, 9, or 10. Since each outcome of the throw is equally likely, there are 5 chances in 10 that the investment is not successful and 5 chances in 10 that the investment is successful.</p></li>
<li><p>Rounds: The experiment will consist of a number of decision rounds.</p></li>
<li><p>Single Decision: In each round, you will only make a single decision.</p></li>
<li><p>Budget: For this decision, you will be given an amount of cash that can either be invested in a safe asset or a risky asset or divided in any manner between the two assets.</p></li>
<li><p>Earnings: At the end of the round, your earnings from the investment decision will be calculated.</p></li>
<li><p>Cumulative Earnings: Then the earnings from the decision will be added to your cumulative earnings.</p></li>
</ul>
</div>
<div id="questions-5" class="section level3" number="17.1.2">
<h3><span class="header-section-number">17.1.2</span> Questions</h3>
<ol style="list-style-type: decimal">
<li><p>Note that the task can be re-framed as follows:
<em>You have a budget of $10. You can invest as much or as little of this as you like in an asset that pays you $1 if the investment is successful, and $0 otherwise. The investment is successful with probability 50%. Each unit of the asset costs <span class="math inline">\(\$p\)</span></em></p>
<p>That is, the following two mathematical problems have the same solution:
<span class="math display">\[
 \begin{aligned}
 &amp;\max_y\left(0.5u(10-y+hy)+0.5u(10-y)\right)\\
 &amp;\max_y\left(0.5u(10-y+y/p)+0.5u(10-y)\right),\text{ where } p=1/h
 \end{aligned}
 \]</span></p>
<p>Hence, you can think of <span class="math inline">\(p=1/h\)</span> as the price of the asset, and investment <span class="math inline">\(y\)</span> as quantity demended. <strong>Plot the demand curve for this asset</strong>. Show all decisions in Part 1, and a line of best fit that can be interpreted as the class’ demand curve for this asset.</p></li>
<li><p>Produce a plot that shows the optimal choice in Part 1, for an expected utility maximizer with utility function <span class="math inline">\(u(x)=x^r\)</span>. Show <span class="math inline">\(r\)</span> on the horizontal axis, and optimal choice <span class="math inline">\(y^*\)</span> on the vertcal axis. There should be 10 curves, one for each unique value of the variable “High.Return”. Comment on a range of <span class="math inline">\(r\)</span> for which it would be difficult to distinguish between behavior for values of <span class="math inline">\(r\)</span> in this range.</p></li>
<li><p>Using data from Part 1, estimate risk preferences for each person …</p>
<ul>
<li>4260 students: assuming that each person’s utility function is either <span class="math inline">\(u(x)=x^{0.5}\)</span> or <span class="math inline">\(u(x)=x^{0.8}\)</span>.</li>
<li>6260 students: assuming that each person’s utility function is by <span class="math inline">\(u(x)=x^r\)</span>. Estimate <span class="math inline">\(r\)</span> for each person using both a sum of squares estimator (i.e nonlinear least squares) and a money metric estimator.</li>
</ul></li>
<li><p>Plot the predictions made using your estimates (horizontal axis) against actual choices (vertical axis). Add in a <span class="math inline">\(45^\circ\)</span> line, and comment on how well these predictions are working.</p>
<ul>
<li>6260 students: compare the predictions of both estimators.</li>
</ul></li>
<li><p>In Part 2 of this experiment, your earnings were added up over the four rounds, and you knew your cumulative earnings at the beginnning of a round. Explain why a risk-averse individual with utility function <span class="math inline">\(u(x)=x^r\)</span> should pay attention to their cumulative earnings when making a decision in Round 4 (i.e. the final round).</p></li>
<li><p>Determine whether your estimates from the Part 1 data do better at predicting decisions in Round 4 of Part 2 depending on whether or not people include cumulative earnings in their utility function.<br />
Note that you can compute the cumulative earnings at the beginning of Round 4 by subtracting that round’s earnings from cumulative earnings.</p></li>
<li><p>(6260 students only) The statement “in Part 2, people will invest more as their cumulative earnings increases” is a testable hypothesis. Explain why a simple linear regression with “Invested” as the dependent variable and “Cumulative earnings” (at the beginning of a round) as the explanatory variable, could not be used to test this assumption. That is, by running:
<span class="math display">\[
\begin{aligned}
\mathrm{Invested}_{i}&amp;=\beta_0+\beta_1\text{(Cumulative earnings)}_i+\epsilon_i
\end{aligned}
\]</span>
then testing:
<span class="math display">\[
H_0:\ \beta_1 = 0, \quad H_A:\ \beta_1&gt;0
\]</span></p></li>
</ol>
</div>
</div>
<div id="experiment-2" class="section level2" number="17.2">
<h2><span class="header-section-number">17.2</span> Experiment 2</h2>
<div id="instructions-5" class="section level3" number="17.2.1">
<h3><span class="header-section-number">17.2.1</span> Instructions</h3>
<ul>
<li><p>Rounds: The experiment consists of a sequence of “rounds”.</p></li>
<li><p>Guessing Which Cup is Used: In each round, we will use the computer to simulate the draw of a marble from a “cup”. There are two cups, with different mixes of colored marbles, and you will be asked to guess the cup that is being used.</p></li>
<li><p>Choosing Which Cup to Use: First, we draw a computer-generated random number which will be either 1, 2, … 6. Think of this as the throw of a die with 6 sides, with each side being equally likely.</p>
<ul>
<li>If the roll of the die yields 1 - 3, then the draw will be from the Blue cup, which contains 2 blue marble(s) and 1 red marble(s).</li>
<li>If the roll of the die yields 4 - 6, then the draw will be from the Red cup, which contains 2 red marble(s) and 1 blue marble(s).</li>
</ul></li>
<li><p>Private Draws: You will not be told in advance the result of the die throw, so you will not know which cup is being used. Once the computerized die throw determines the cup to be used, each of you will be shown a randomly selected marble from that cup. This draw will be your private information and should not be shared with other participants.</p></li>
<li><p>Independent Draws: The draws will be done independently, so it is as if we were to shake the cup, pick a marble at random, show it to you, return it to the cup, and shake it again before drawing another randomly selected marble for the next person, so the contents of the cup are always the same when a draw is made.</p></li>
<li><p>Groups: All participants are in the same group of size 7.</p></li>
<li><p>Decision Sequence: The same cup, Red or Blue, will be used to obtain an independent draw for each person in the group. After each person has seen a private draw, we will begin the sequence in which you will get a chance to indicate the cup that you think is being used (indicate R for red or B for blue). Each of you will be asked in turn for your prediction.</p></li>
<li><p>Information: The first person’s prediction will be announced via the computer screen, but the person’s private draw is not revealed. Then the computer will prompt the second person to submit a prediction, which will be announced, but again that person’s private draw will not be revealed.</p></li>
<li><p>End of Period: We will continue in this manner, giving everyone a chance to make a prediction in sequence, at which time the computer will reveal which cup was actually used. The private draws, however, will never be revealed.</p></li>
<li><p>Earnings: Each person’s money payoff will depend on whether their own predicton turns out to be correct. You will earn:
$1.00 for a correct prediction, and
$0.00 for an incorrect prediction.</p></li>
<li><p>Total Earnings: Your earnings in each period are added to those from previous rounds, and the computer will keep track of your total earnings for all periods.</p></li>
<li><p>Record Sheet: Your information and decisions will be organized in a Record Sheet , shown below. On the left side, the first column shows the Round number, and the second column shows Your Draw, blue B or red R, for this round.</p></li>
<li><p>Predictions: The next columns display predictions in the Order (1, 2, …) that they are made. When it is your turn to make a prediction, you will see a Predict box. Then enter your prediction, Blue Cup or Red Cup, in the box and remember to press the grey Predict button. An asterisk will be used to distinguish your past predictions from those of others.</p></li>
<li><p>Updating History: If it is not your turn, you will be able to see predictions being made as the page refreshes. Total earnings are recorded in the far right column.</p></li>
</ul>
</div>
<div id="data-1" class="section level3" number="17.2.2">
<h3><span class="header-section-number">17.2.2</span> Data</h3>
<p>I have coded the signals and predictions as <span class="math inline">\(1=\mathrm{red}\)</span>, <span class="math inline">\(1=\mathrm{blue}\)</span>.</p>
There is one file with all of the data: 2021MidtermData2.csv
<table>
<thead>
<tr>
<th style="text-align:right;">
Round
</th>
<th style="text-align:right;">
Group
</th>
<th style="text-align:right;">
Position
</th>
<th style="text-align:right;">
ID
</th>
<th style="text-align:right;">
Own.Signal
</th>
<th style="text-align:right;">
Prediction
</th>
<th style="text-align:right;">
Actual.Urn
</th>
<th style="text-align:right;">
Cumulative.Signals
</th>
<th style="text-align:right;">
Cumulative.Predictions
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
</tr>
</tbody>
</table>
<p>As well as four others, which contain the variables Own.Signal, Prediction, and ID. Each row is a position (from 1 to 8), and each column is a round (from 1 to 20).</p>
</div>
<div id="questions-6" class="section level3" number="17.2.3">
<h3><span class="header-section-number">17.2.3</span> Questions</h3>
<ol style="list-style-type: decimal">
<li><p>What is the probability that …</p>
<ul>
<li>The red cup is used?</li>
<li>You receive a red signal given that the red cup is used?</li>
<li>You receive a red signal given that the blue cup is used?</li>
</ul></li>
<li><p>Suppose that (contrary to what actually happened), that you observed all of the signals of everyone who made a decision before you, as well as your own.</p>
<ol style="list-style-type: lower-alpha">
<li>After observing <span class="math inline">\(b\)</span> blue and <span class="math inline">\(r\)</span> red signals, what is your belief that the red cup is being used?</li>
<li>What combination of previous peoples’ signals wouold mean that you would not change your prediction based on your own signal?</li>
</ol></li>
<li><p>Suppose that you are the fourth person to make a prediction, and the first three predictions have all been “red”. Assuming that all people who moved before you made a prediction according to their Bayes’ rule beliefs, what is your belief that we are using the red cup, before observing your own signal? Explain your reasoning. You may assume that if a player had Bayes’ rule beliefs that each cup was equally likely, then they will follow thier signal.</p></li>
<li><p>Look at the first three “positions” in the dataset.</p>
<ol style="list-style-type: lower-alpha">
<li>How many cases were there where the third person should have followed their signal? What fraction actually did?</li>
<li>How many cases were there where the third person’s action should not depend on their action? Of these, some should have followed their signal, and some should not have followed their signal. What fraction of people followed their signal in each of these cases?</li>
</ol></li>
<li><p>Now use the entire dataset. Which of the following models of behavior best fits the data? State your definition of “best fits the data”.</p>
<ol style="list-style-type: lower-alpha">
<li><strong>(6260 students only)</strong> People assume that if Bayes’ rule predicts that a person who moved before them should choose red, but in fact they chose blue, then they must have seen a blue signal. The same is true for a red prediction when Bayes’ rule says that they should choose blue.</li>
<li>People assume that these decisions that are not in accordance with Bayes’ rule are mistakes (i.e. these choices reveal no information about the signal they saw).</li>
<li>People assume that all people who moved before them have followed their signal (i.e. they ignore all of the choices made by people before them), but update their beliefs based on this.</li>
<li>People just follow their own signal.</li>
<li><strong>(Bonus question, no points available)</strong> People make decisions according to Bayes’ rule, but make a mistake with probability <span class="math inline">\(1-\theta\)</span>. (i.e. if Bayes’ rule says that someone should choose red, then they will choose red with probability <span class="math inline">\(\theta\)</span>, and blue with probability <span class="math inline">\(1-\theta\)</span>).</li>
</ol></li>
</ol>
</div>
</div>
<div id="solutions-6" class="section level2" number="17.3">
<h2><span class="header-section-number">17.3</span> Solutions</h2>
<div id="experiment-2-1" class="section level3" number="17.3.1">
<h3><span class="header-section-number">17.3.1</span> Experiment 2</h3>
<ol style="list-style-type: decimal">
<li><p>Note that the task can be re-framed as follows:
<em>You have a budget of $10. You can invest as much or as little of this as you like in an asset that pays you $1 if the investment is successful, and $0 otherwise. The investment is successful with probability 50%. Each unit of the asset costs <span class="math inline">\(\$p\)</span></em></p>
<p>That is, the following two mathematical problems have the same solution:
<span class="math display">\[
 \begin{aligned}
 &amp;\max_y\left(0.5u(10-y+hy)+0.5u(10-y)\right)\\
 &amp;\max_y\left(0.5u(10-y+y/p)+0.5u(10-y)\right),\text{ where } p=1/h
 \end{aligned}
 \]</span></p>
<p>Hence, you can think of <span class="math inline">\(p=1/h\)</span> as the price of the asset, and investment <span class="math inline">\(y\)</span> as quantity demended. <strong>Plot the demand curve for this asset</strong>. Show all decisions in Part 1, and a line of best fit that can be interpreted as the class’ demand curve for this asset.</p></li>
</ol>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="midterm-exam.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb110-2"><a href="midterm-exam.html#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb110-3"><a href="midterm-exam.html#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb110-4"><a href="midterm-exam.html#cb110-4" aria-hidden="true" tabindex="-1"></a>Q1Data<span class="ot">&lt;-</span>(<span class="fu">read.csv</span>(<span class="st">&quot;2021MidtermData1.csv&quot;</span>)</span>
<span id="cb110-5"><a href="midterm-exam.html#cb110-5" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>()</span>
<span id="cb110-6"><a href="midterm-exam.html#cb110-6" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Price =</span> <span class="dv">1</span><span class="sc">/</span>High.Return)</span>
<span id="cb110-7"><a href="midterm-exam.html#cb110-7" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">QDemand=</span>(Invested<span class="sc">/</span>Price))</span>
<span id="cb110-8"><a href="midterm-exam.html#cb110-8" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Price)</span>
<span id="cb110-9"><a href="midterm-exam.html#cb110-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb110-10"><a href="midterm-exam.html#cb110-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-11"><a href="midterm-exam.html#cb110-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-12"><a href="midterm-exam.html#cb110-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb110-13"><a href="midterm-exam.html#cb110-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data=</span>Q1Data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Part<span class="sc">==</span><span class="dv">1</span>),<span class="fu">aes</span>(<span class="at">x=</span>QDemand,<span class="at">y=</span>Price))</span>
<span id="cb110-14"><a href="midterm-exam.html#cb110-14" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>ID),<span class="at">size=</span><span class="dv">3</span>)</span>
<span id="cb110-15"><a href="midterm-exam.html#cb110-15" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,<span class="at">formula=</span>y<span class="sc">~</span>x,<span class="fu">aes</span>(<span class="at">color=</span><span class="st">&quot;Pooled&quot;</span>,<span class="at">fill=</span><span class="st">&quot;Pooled&quot;</span>))</span>
<span id="cb110-16"><a href="midterm-exam.html#cb110-16" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,<span class="fu">aes</span>(<span class="at">group=</span>ID,<span class="at">color=</span><span class="st">&quot;Individual&quot;</span>,<span class="at">fill=</span><span class="st">&quot;Individual&quot;</span>),<span class="at">formula =</span>y<span class="sc">~</span>x,<span class="at">alpha=</span><span class="fl">0.1</span>,<span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>,<span class="at">size=</span><span class="fl">0.5</span>)</span>
<span id="cb110-17"><a href="midterm-exam.html#cb110-17" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,<span class="at">formula=</span>y<span class="sc">~</span>x<span class="sc">+</span>x<span class="sc">*</span>x,<span class="fu">aes</span>(<span class="at">color=</span><span class="st">&quot;Pooled&quot;</span>,<span class="at">fill=</span><span class="st">&quot;Pooled&quot;</span>))</span>
<span id="cb110-18"><a href="midterm-exam.html#cb110-18" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">xlab</span>(<span class="st">&quot;Quantity&quot;</span>)<span class="sc">+</span><span class="fu">ylab</span>(<span class="st">&quot;Price&quot;</span>)</span>
<span id="cb110-19"><a href="midterm-exam.html#cb110-19" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">theme_bw</span>()</span>
<span id="cb110-20"><a href="midterm-exam.html#cb110-20" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-154-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Produce a plot that shows the optimal choice in Part 1, for an expected utility maximizer with utility function <span class="math inline">\(u(x)=x^r\)</span>. Show <span class="math inline">\(r\)</span> on the horizontal axis, and optimal choice <span class="math inline">\(y^*\)</span> on the vertcal axis. There should be 10 curves, one for each unique value of the variable “High.Return”. Comment on a range of <span class="math inline">\(r\)</span> for which it would be difficult to distinguish between behavior for values of <span class="math inline">\(r\)</span> in this range.</li>
</ol>
<p><strong>Solution</strong></p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="midterm-exam.html#cb111-1" aria-hidden="true" tabindex="-1"></a>h<span class="ot">&lt;-</span><span class="fu">sort</span>(<span class="fu">unique</span>(Q1Data<span class="sc">$</span>High.Return))</span>
<span id="cb111-2"><a href="midterm-exam.html#cb111-2" aria-hidden="true" tabindex="-1"></a>y<span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>,<span class="at">length=</span><span class="dv">1001</span>)</span>
<span id="cb111-3"><a href="midterm-exam.html#cb111-3" aria-hidden="true" tabindex="-1"></a>r<span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="fl">0.1</span>,<span class="fl">1.1</span>,<span class="at">length=</span><span class="dv">1001</span>)</span>
<span id="cb111-4"><a href="midterm-exam.html#cb111-4" aria-hidden="true" tabindex="-1"></a>ystar<span class="ot">&lt;-</span><span class="cf">function</span>(h,r) {</span>
<span id="cb111-5"><a href="midterm-exam.html#cb111-5" aria-hidden="true" tabindex="-1"></a>    EU <span class="ot">=</span> <span class="fl">0.5</span><span class="sc">*</span>(<span class="dv">10</span><span class="sc">-</span>y)<span class="sc">^</span>r<span class="fl">+0.5</span><span class="sc">*</span>(<span class="dv">10</span><span class="sc">-</span>y<span class="sc">+</span>h<span class="sc">*</span>y)<span class="sc">^</span>r</span>
<span id="cb111-6"><a href="midterm-exam.html#cb111-6" aria-hidden="true" tabindex="-1"></a>    y[<span class="fu">which.max</span>(EU)]</span>
<span id="cb111-7"><a href="midterm-exam.html#cb111-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb111-8"><a href="midterm-exam.html#cb111-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-9"><a href="midterm-exam.html#cb111-9" aria-hidden="true" tabindex="-1"></a>CRRApredictions<span class="ot">&lt;-</span><span class="fu">data.frame</span>()</span>
<span id="cb111-10"><a href="midterm-exam.html#cb111-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-11"><a href="midterm-exam.html#cb111-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (hh <span class="cf">in</span> h) {</span>
<span id="cb111-12"><a href="midterm-exam.html#cb111-12" aria-hidden="true" tabindex="-1"></a>    CRRApredictions<span class="ot">&lt;-</span>(</span>
<span id="cb111-13"><a href="midterm-exam.html#cb111-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">data.frame</span>(r)</span>
<span id="cb111-14"><a href="midterm-exam.html#cb111-14" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>()</span>
<span id="cb111-15"><a href="midterm-exam.html#cb111-15" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">y=</span><span class="fu">ystar</span>(hh,r),<span class="at">h=</span>hh)</span>
<span id="cb111-16"><a href="midterm-exam.html#cb111-16" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">rbind</span>(CRRApredictions)</span>
<span id="cb111-17"><a href="midterm-exam.html#cb111-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb111-18"><a href="midterm-exam.html#cb111-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb111-19"><a href="midterm-exam.html#cb111-19" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb111-20"><a href="midterm-exam.html#cb111-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data=</span>CRRApredictions,<span class="fu">aes</span>(<span class="at">x=</span>r,<span class="at">y=</span>y,<span class="at">color=</span>h,<span class="at">group=</span>h))</span>
<span id="cb111-21"><a href="midterm-exam.html#cb111-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_line</span>()</span>
<span id="cb111-22"><a href="midterm-exam.html#cb111-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">scale_colour_gradient</span>(<span class="at">low=</span><span class="st">&quot;blue&quot;</span>,<span class="at">high=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb111-23"><a href="midterm-exam.html#cb111-23" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">theme_bw</span>()</span>
<span id="cb111-24"><a href="midterm-exam.html#cb111-24" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_text</span>(<span class="at">data=</span> CRRApredictions[CRRApredictions<span class="sc">$</span>r<span class="sc">==</span>r[<span class="fu">floor</span>(<span class="fu">length</span>(r)<span class="sc">*</span><span class="dv">2</span><span class="sc">/</span><span class="dv">3</span>)],],<span class="fu">aes</span>(<span class="at">x=</span>r,<span class="at">y=</span>y,<span class="at">label=</span><span class="fu">paste</span>(<span class="st">&quot;h =&quot;</span>,h)),<span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span>
<span id="cb111-25"><a href="midterm-exam.html#cb111-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb111-26"><a href="midterm-exam.html#cb111-26" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-155-1.png" width="672" /></p>
<p>It is most difficult to distinguish behavior when all curves are relatively flat. This occurs for small <span class="math inline">\(r\)</span> (say, below 0.3) and <span class="math inline">\(r\)</span> implying risk-loving preferences (<span class="math inline">\(r&gt;1\)</span>).</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Using data from Part 1, estimate risk preferences for each person …</p>
<ul>
<li>4260 students: assuming that each person’s utility function is either <span class="math inline">\(u(x)=x^{0.5}\)</span> or <span class="math inline">\(u(x)=x^{0.8}\)</span>.</li>
<li>6260 students: assuming that each person’s utility function is by <span class="math inline">\(u(x)=x^r\)</span>. Estimate <span class="math inline">\(r\)</span> for each person using both a sum of squares estimator (i.e nonlinear least squares) and a money metric estimator.</li>
</ul></li>
</ol>
<p><strong>Solution</strong></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="midterm-exam.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4260 version:</span></span>
<span id="cb112-2"><a href="midterm-exam.html#cb112-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-3"><a href="midterm-exam.html#cb112-3" aria-hidden="true" tabindex="-1"></a>EstimatesUGrad<span class="ot">&lt;-</span>(Q1Data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Part<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb112-4"><a href="midterm-exam.html#cb112-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>()</span>
<span id="cb112-5"><a href="midterm-exam.html#cb112-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">r02Error =</span> <span class="fu">ystar</span>(High.Return,<span class="fl">0.2</span>)<span class="sc">-</span>Invested,</span>
<span id="cb112-6"><a href="midterm-exam.html#cb112-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">r08Error =</span> <span class="fu">ystar</span>(High.Return,<span class="fl">0.8</span>)<span class="sc">-</span>Invested)</span>
<span id="cb112-7"><a href="midterm-exam.html#cb112-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(ID)</span>
<span id="cb112-8"><a href="midterm-exam.html#cb112-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">r02MSE =</span> <span class="fu">mean</span>(r02Error<span class="sc">^</span><span class="dv">2</span>) ,</span>
<span id="cb112-9"><a href="midterm-exam.html#cb112-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">r08MSE =</span> <span class="fu">mean</span>(r08Error<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb112-10"><a href="midterm-exam.html#cb112-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">rHat =</span> <span class="fu">ifelse</span>(r02MSE<span class="sc">&lt;</span>r08MSE,<span class="fl">0.2</span>,<span class="fl">0.8</span>))</span>
<span id="cb112-11"><a href="midterm-exam.html#cb112-11" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>To speed up my calculations, I am going to solve for the predictions analytically. I did not ask you to do this:</p>
<p><span class="math display">\[
\begin{aligned}
Eu(x\mid y)&amp;=0.5u(10-y+hy)+0.5u(10-y)\\
\text{First order condition:}\ 0&amp;=0.5u&#39;(10-y+hy)(h-1)-0.5u&#39;(10-y)\\
&amp;\quad\quad \text{where: } u&#39;(x)=\frac{d u(x)}{dx}=rx^{r-1} \\
u&#39;(10-y+hy)(h-1)&amp;=u&#39;(10-y)\\
r(h-1)(10-y+hy)^{r-1}&amp;=r(10-y)^{r-1}\\
(h-1)^{\frac{1}{r-1}}(10+(h-1)y)&amp;=10-y\\
y\left((h-1)^\frac{1}{r-1}(h-1)+1\right)&amp;=10\left(1-(h-1)^\frac{1}{r-1}\right)\\
y&amp;=\frac{10\left(1-(h-1)^\frac{1}{r-1}\right)}{(h-1)^\frac{1}{r-1}(h-1)+1}
\end{aligned}
\]</span>
Note that if we had <span class="math inline">\(\$m\)</span> to allocate instead of <span class="math inline">\(\$10\)</span>, then the optimal choice would just become (this is useful for the money metric calculation):
<span class="math display">\[
y^*(m)=\frac{m\left(1-(h-1)^\frac{1}{r-1}\right)}{(h-1)^\frac{1}{r-1}(h-1)+1}
\]</span>
Note that <span class="math inline">\(y^*\)</span> is homogeneous of degree 1, so:</p>
<p><span class="math display">\[
y^*(m)/m=y^*(1)
\]</span></p>
<p>If a person with risk preferences <span class="math inline">\(r\)</span> chooses <span class="math inline">\(y\)</span>, their money metric is the solution to:</p>
<p><span class="math display">\[
\begin{aligned}
\min_{m\in(0,10)}m&amp;,\quad \text{subject to } 0.5(m+(h-1)y^*(m))^r+0.5(m-y^*(m))^r\geq EU(y)\\
0.5(m+(h-1)y^*(m))^r&amp;+0.5(m-y^*(m))^r\\
&amp;=0.5\left(m+(h-1)y^*(m)\right)^r+(m-y^*(m))^r\\
&amp;=0.5(m+m(h-1)y^*(m)/m)^r+0.5(m-my^* (m)/m)^r\\
&amp;=0.5m^r\left((1+(h-1)y^*(1))^r+(1-y^*(1))^r\right)\\
m&amp;=\left(\frac{2EU(y)}{(1+(h-1)y^*(1))^r+(1-y^*(1))^r}\right)^{1/r}
\end{aligned}
\]</span>
For the most risky investments (<span class="math inline">\(h&lt;2\)</span>), I need to worry about corner solutions, so <span class="math inline">\(y*\)</span> should be constrained to be between 0 and <span class="math inline">\(m\)</span>.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="midterm-exam.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum of squares,NLLS</span></span>
<span id="cb113-2"><a href="midterm-exam.html#cb113-2" aria-hidden="true" tabindex="-1"></a>rHatNLLS<span class="ot">&lt;-</span><span class="cf">function</span>(h,invest) {</span>
<span id="cb113-3"><a href="midterm-exam.html#cb113-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb113-4"><a href="midterm-exam.html#cb113-4" aria-hidden="true" tabindex="-1"></a>    SSR<span class="ot">&lt;-</span><span class="cf">function</span>(r) {</span>
<span id="cb113-5"><a href="midterm-exam.html#cb113-5" aria-hidden="true" tabindex="-1"></a>        y <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">c</span>(<span class="dv">10</span><span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>(h<span class="dv">-1</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(r<span class="dv">-1</span>)))<span class="sc">/</span>((h<span class="dv">-1</span>)<span class="sc">^</span>(r<span class="dv">-1</span>)<span class="sc">*</span>(h<span class="dv">-1</span>)<span class="sc">+</span><span class="dv">1</span>),<span class="dv">0</span>))</span>
<span id="cb113-6"><a href="midterm-exam.html#cb113-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sum</span>((y<span class="sc">-</span>invest)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb113-7"><a href="midterm-exam.html#cb113-7" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb113-8"><a href="midterm-exam.html#cb113-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">optimize</span>(SSR,<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))<span class="sc">$</span>minimum</span>
<span id="cb113-9"><a href="midterm-exam.html#cb113-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb113-10"><a href="midterm-exam.html#cb113-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-11"><a href="midterm-exam.html#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Money metric</span></span>
<span id="cb113-12"><a href="midterm-exam.html#cb113-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-13"><a href="midterm-exam.html#cb113-13" aria-hidden="true" tabindex="-1"></a>MM<span class="ot">&lt;-</span><span class="cf">function</span>(h,invest,r) {</span>
<span id="cb113-14"><a href="midterm-exam.html#cb113-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># expected utility of choice</span></span>
<span id="cb113-15"><a href="midterm-exam.html#cb113-15" aria-hidden="true" tabindex="-1"></a>        EU <span class="ot">&lt;-</span><span class="fl">0.5</span><span class="sc">*</span>(<span class="dv">10</span><span class="sc">+</span>(h<span class="dv">-1</span>)<span class="sc">*</span>invest)<span class="sc">^</span>r<span class="fl">+0.5</span><span class="sc">*</span>(<span class="dv">10</span><span class="sc">-</span>invest)<span class="sc">^</span>r</span>
<span id="cb113-16"><a href="midterm-exam.html#cb113-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># optimal choice given r and h (for m=1)</span></span>
<span id="cb113-17"><a href="midterm-exam.html#cb113-17" aria-hidden="true" tabindex="-1"></a>        ys<span class="ot">&lt;-</span><span class="fu">max</span>(<span class="fu">c</span>((<span class="dv">1</span><span class="sc">-</span>(h<span class="dv">-1</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(r<span class="dv">-1</span>)))<span class="sc">/</span>((h<span class="dv">-1</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(r<span class="dv">-1</span>))<span class="sc">*</span>(h<span class="dv">-1</span>)<span class="sc">+</span><span class="dv">1</span>),<span class="dv">0</span>))</span>
<span id="cb113-18"><a href="midterm-exam.html#cb113-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># How much money *could* the person have used to be this happy?</span></span>
<span id="cb113-19"><a href="midterm-exam.html#cb113-19" aria-hidden="true" tabindex="-1"></a>        m<span class="ot">&lt;-</span>(<span class="dv">2</span><span class="sc">*</span>EU<span class="sc">/</span>((<span class="dv">1</span><span class="sc">+</span>(h<span class="dv">-1</span>)<span class="sc">*</span>ys)<span class="sc">^</span>r<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>ys)<span class="sc">^</span>r))<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>r)</span>
<span id="cb113-20"><a href="midterm-exam.html#cb113-20" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb113-21"><a href="midterm-exam.html#cb113-21" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb113-22"><a href="midterm-exam.html#cb113-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb113-23"><a href="midterm-exam.html#cb113-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-24"><a href="midterm-exam.html#cb113-24" aria-hidden="true" tabindex="-1"></a>rHatMM<span class="ot">&lt;-</span><span class="cf">function</span>(h,invest) {</span>
<span id="cb113-25"><a href="midterm-exam.html#cb113-25" aria-hidden="true" tabindex="-1"></a>    obj<span class="ot">&lt;-</span><span class="cf">function</span>(r) {</span>
<span id="cb113-26"><a href="midterm-exam.html#cb113-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">sum</span>((<span class="dv">1</span><span class="sc">-</span><span class="fu">MM</span>(h,invest,r)<span class="sc">/</span><span class="dv">10</span>)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb113-27"><a href="midterm-exam.html#cb113-27" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb113-28"><a href="midterm-exam.html#cb113-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">optimize</span>(obj,<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))<span class="sc">$</span>minimum</span>
<span id="cb113-29"><a href="midterm-exam.html#cb113-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb113-30"><a href="midterm-exam.html#cb113-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-31"><a href="midterm-exam.html#cb113-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-32"><a href="midterm-exam.html#cb113-32" aria-hidden="true" tabindex="-1"></a>EstimatesMasters<span class="ot">&lt;-</span>(Q1Data </span>
<span id="cb113-33"><a href="midterm-exam.html#cb113-33" aria-hidden="true" tabindex="-1"></a>           <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Part<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb113-34"><a href="midterm-exam.html#cb113-34" aria-hidden="true" tabindex="-1"></a>           <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(ID)</span>
<span id="cb113-35"><a href="midterm-exam.html#cb113-35" aria-hidden="true" tabindex="-1"></a>           <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(</span>
<span id="cb113-36"><a href="midterm-exam.html#cb113-36" aria-hidden="true" tabindex="-1"></a>               <span class="at">rHatNLLS =</span> <span class="fu">rHatNLLS</span>(High.Return,Invested),</span>
<span id="cb113-37"><a href="midterm-exam.html#cb113-37" aria-hidden="true" tabindex="-1"></a>               <span class="at">rHatMM =</span> <span class="fu">rHatMM</span>(High.Return,Invested)</span>
<span id="cb113-38"><a href="midterm-exam.html#cb113-38" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb113-39"><a href="midterm-exam.html#cb113-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb113-40"><a href="midterm-exam.html#cb113-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb113-41"><a href="midterm-exam.html#cb113-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-42"><a href="midterm-exam.html#cb113-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-43"><a href="midterm-exam.html#cb113-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-44"><a href="midterm-exam.html#cb113-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-45"><a href="midterm-exam.html#cb113-45" aria-hidden="true" tabindex="-1"></a>EstimatesALL<span class="ot">&lt;-</span>EstimatesMasters <span class="sc">%&gt;%</span> <span class="fu">left_join</span>((EstimatesUGrad <span class="sc">%&gt;%</span> <span class="fu">select</span>(ID,rHat)),<span class="at">key=</span>ID)</span>
<span id="cb113-46"><a href="midterm-exam.html#cb113-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-47"><a href="midterm-exam.html#cb113-47" aria-hidden="true" tabindex="-1"></a>EstimatesALL <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
ID
</th>
<th style="text-align:right;">
rHatNLLS
</th>
<th style="text-align:right;">
rHatMM
</th>
<th style="text-align:right;">
rHat
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.9903955
</td>
<td style="text-align:right;">
0.6195986
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.9904305
</td>
<td style="text-align:right;">
0.5743551
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.4832038
</td>
<td style="text-align:right;">
0.2084164
</td>
<td style="text-align:right;">
0.2
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.6024341
</td>
<td style="text-align:right;">
0.5781600
</td>
<td style="text-align:right;">
0.2
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0000527
</td>
<td style="text-align:right;">
0.3647781
</td>
<td style="text-align:right;">
0.2
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.9321971
</td>
<td style="text-align:right;">
0.5724567
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.9904026
</td>
<td style="text-align:right;">
0.9996780
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0.9904163
</td>
<td style="text-align:right;">
0.9996664
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
</tbody>
</table>
<ol start="4" style="list-style-type: decimal">
<li><p>Plot the predictions made using your estimates (horizontal axis) against actual choices (vertical axis). Add in a <span class="math inline">\(45^\circ\)</span> line, and comment on how well these predictions are working.</p>
<ul>
<li>6260 students: compare the predictions of both estimators.</li>
</ul></li>
</ol>
<p><strong>Solution</strong></p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="midterm-exam.html#cb114-1" aria-hidden="true" tabindex="-1"></a>ystar<span class="ot">&lt;-</span><span class="cf">function</span>(m,h,r) {</span>
<span id="cb114-2"><a href="midterm-exam.html#cb114-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(<span class="fu">c</span>(m<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>(h<span class="dv">-1</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(r<span class="dv">-1</span>)))<span class="sc">/</span>((h<span class="dv">-1</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(r<span class="dv">-1</span>))<span class="sc">*</span>(h<span class="dv">-1</span>)<span class="sc">+</span><span class="dv">1</span>),<span class="dv">0</span>))</span>
<span id="cb114-3"><a href="midterm-exam.html#cb114-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb114-4"><a href="midterm-exam.html#cb114-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-5"><a href="midterm-exam.html#cb114-5" aria-hidden="true" tabindex="-1"></a>rHatPredictions<span class="ot">&lt;-</span>(</span>
<span id="cb114-6"><a href="midterm-exam.html#cb114-6" aria-hidden="true" tabindex="-1"></a>    Q1Data</span>
<span id="cb114-7"><a href="midterm-exam.html#cb114-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(EstimatesALL,<span class="at">key=</span>ID)</span>
<span id="cb114-8"><a href="midterm-exam.html#cb114-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">budget =</span> <span class="fu">ifelse</span>(Part<span class="sc">==</span><span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">3</span>))</span>
<span id="cb114-9"><a href="midterm-exam.html#cb114-9" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>()</span>
<span id="cb114-10"><a href="midterm-exam.html#cb114-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb114-11"><a href="midterm-exam.html#cb114-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">predictionUGrad =</span> <span class="fu">ystar</span>(Budget,High.Return,rHat),</span>
<span id="cb114-12"><a href="midterm-exam.html#cb114-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">predictionNLLS =</span> <span class="fu">ystar</span>(Budget,High.Return,rHatNLLS),</span>
<span id="cb114-13"><a href="midterm-exam.html#cb114-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">predictionMM =</span> <span class="fu">ystar</span>(Budget,High.Return,rHatMM)</span>
<span id="cb114-14"><a href="midterm-exam.html#cb114-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb114-15"><a href="midterm-exam.html#cb114-15" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="fu">starts_with</span>(<span class="st">&quot;prediction&quot;</span>),<span class="at">names_to=</span><span class="st">&quot;estimator&quot;</span>,<span class="at">values_to=</span><span class="st">&quot;prediction&quot;</span>)</span>
<span id="cb114-16"><a href="midterm-exam.html#cb114-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb114-17"><a href="midterm-exam.html#cb114-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-18"><a href="midterm-exam.html#cb114-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-19"><a href="midterm-exam.html#cb114-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-20"><a href="midterm-exam.html#cb114-20" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb114-21"><a href="midterm-exam.html#cb114-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(rHatPredictions <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Part<span class="sc">==</span><span class="dv">1</span>),<span class="fu">aes</span>(<span class="at">x=</span>prediction,<span class="at">y=</span>Invested,<span class="at">color=</span>estimator))</span>
<span id="cb114-22"><a href="midterm-exam.html#cb114-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_point</span>()</span>
<span id="cb114-23"><a href="midterm-exam.html#cb114-23" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;loess&quot;</span>)</span>
<span id="cb114-24"><a href="midterm-exam.html#cb114-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb114-25"><a href="midterm-exam.html#cb114-25" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">theme_bw</span>()<span class="sc">+</span><span class="fu">xlab</span>(<span class="st">&quot;predicted investment&quot;</span>)<span class="sc">+</span><span class="fu">ylab</span>(<span class="st">&quot;actual investment&quot;</span>)</span>
<span id="cb114-26"><a href="midterm-exam.html#cb114-26" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_abline</span>(<span class="at">intercept=</span><span class="dv">0</span>,<span class="at">slope=</span><span class="dv">1</span>,<span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb114-27"><a href="midterm-exam.html#cb114-27" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-158-1.png" width="672" /></p>
<p>It looks like the money metric estimator is doing best (it is best calibrated to the <span class="math inline">\(45^\circ\)</span> line). We can evaluate their performance using (within-sample) mean squared error as follows:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="midterm-exam.html#cb115-1" aria-hidden="true" tabindex="-1"></a>(rHatPredictions <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Part<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb115-2"><a href="midterm-exam.html#cb115-2" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(estimator)</span>
<span id="cb115-3"><a href="midterm-exam.html#cb115-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">MSE =</span> <span class="fu">mean</span>((Invested<span class="sc">-</span>prediction)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb115-4"><a href="midterm-exam.html#cb115-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span>
<span id="cb115-5"><a href="midterm-exam.html#cb115-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
estimator
</th>
<th style="text-align:right;">
MSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
predictionMM
</td>
<td style="text-align:right;">
7.111649
</td>
</tr>
<tr>
<td style="text-align:left;">
predictionNLLS
</td>
<td style="text-align:right;">
7.120137
</td>
</tr>
<tr>
<td style="text-align:left;">
predictionUGrad
</td>
<td style="text-align:right;">
6.517881
</td>
</tr>
</tbody>
</table>
<ol start="5" style="list-style-type: decimal">
<li>In Part 2 of this experiment, your earnings were added up over the four rounds, and you knew your cumulative earnings at the beginnning of a round. Explain why a risk-averse individual with utility function <span class="math inline">\(u(x)=x^r\)</span> should pay attention to their cumulative earnings when making a decision in Round 4 (i.e. the final round).</li>
</ol>
<p><strong>Solution</strong></p>
<p>Let <span class="math inline">\(w\)</span> be the cumulative earnings at the beginning of Round 4. If you invest <span class="math inline">\(y\)</span>, then you will end up with either <span class="math inline">\(w+3-y\)</span> or <span class="math inline">\(w+3+(h-1)y\)</span>, so your utility-maximization problem in the 4th round is:</p>
<p><span class="math display">\[
\max_{y\in[0,3]}\left(0.5(w+3-y)^r+0.5(w+3+(h-1)y)^r\right)
\]</span>
Unless <span class="math inline">\(r=1\)</span>, your optimal choice will depend on <span class="math inline">\(w\)</span>.</p>
<ol start="6" style="list-style-type: decimal">
<li>Determine whether your estimates from the Part 1 data do better at predicting decisions in Round 4 of Part 2 depending on whether or not people include cumulative earnings in their utility function.<br />
Note that you can compute the cumulative earnings at the beginning of Round 4 by subtracting that round’s earnings from cumulative earnings.</li>
</ol>
<p><strong>Solution</strong></p>
<p>I have made already predictions assuming cumulative earnings are ignored.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="midterm-exam.html#cb116-1" aria-hidden="true" tabindex="-1"></a>rHatPredictions2<span class="ot">&lt;-</span>rHatPredictions <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Part<span class="sc">==</span><span class="dv">2</span> <span class="sc">&amp;</span> Round<span class="sc">==</span><span class="dv">4</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">w =</span> Cumulative.Earnings<span class="sc">-</span>Earnings)</span>
<span id="cb116-2"><a href="midterm-exam.html#cb116-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-3"><a href="midterm-exam.html#cb116-3" aria-hidden="true" tabindex="-1"></a>PredictionsIgnore<span class="ot">&lt;-</span>rHatPredictions2 <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">behavior =</span> <span class="st">&quot;ignore cumulative earnings&quot;</span>)</span>
<span id="cb116-4"><a href="midterm-exam.html#cb116-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-5"><a href="midterm-exam.html#cb116-5" aria-hidden="true" tabindex="-1"></a>y<span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="fl">0.001</span>,<span class="fl">0.999</span>,<span class="at">length=</span><span class="dv">1000</span>)</span>
<span id="cb116-6"><a href="midterm-exam.html#cb116-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-7"><a href="midterm-exam.html#cb116-7" aria-hidden="true" tabindex="-1"></a>ymaxw<span class="ot">&lt;-</span><span class="cf">function</span>(w,budget,h,r) {</span>
<span id="cb116-8"><a href="midterm-exam.html#cb116-8" aria-hidden="true" tabindex="-1"></a>    U<span class="ot">&lt;-</span><span class="fl">0.5</span><span class="sc">*</span>(w<span class="sc">+</span>budget<span class="sc">-</span>y<span class="sc">*</span>budget)<span class="sc">^</span>r<span class="fl">+0.5</span><span class="sc">*</span>(w<span class="sc">+</span>budget <span class="sc">+</span>(h<span class="dv">-1</span>)<span class="sc">*</span>y<span class="sc">*</span>budget)<span class="sc">^</span>r</span>
<span id="cb116-9"><a href="midterm-exam.html#cb116-9" aria-hidden="true" tabindex="-1"></a>    y[<span class="fu">which.max</span>(U)]<span class="sc">*</span>budget</span>
<span id="cb116-10"><a href="midterm-exam.html#cb116-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb116-11"><a href="midterm-exam.html#cb116-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-12"><a href="midterm-exam.html#cb116-12" aria-hidden="true" tabindex="-1"></a>PredictionsUseW<span class="ot">&lt;-</span>rHatPredictions2 <span class="sc">%&gt;%</span>  <span class="fu">mutate</span>(<span class="at">behavior =</span> <span class="st">&quot;use cumulative earnings&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">prediction =</span> <span class="fu">ymaxw</span>(w,Budget,High.Return,rHat))</span>
<span id="cb116-13"><a href="midterm-exam.html#cb116-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-14"><a href="midterm-exam.html#cb116-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-15"><a href="midterm-exam.html#cb116-15" aria-hidden="true" tabindex="-1"></a>Part2Predictions<span class="ot">&lt;-</span><span class="fu">rbind</span>(PredictionsIgnore,PredictionsUseW)</span>
<span id="cb116-16"><a href="midterm-exam.html#cb116-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-17"><a href="midterm-exam.html#cb116-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-18"><a href="midterm-exam.html#cb116-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-19"><a href="midterm-exam.html#cb116-19" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb116-20"><a href="midterm-exam.html#cb116-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data=</span>Part2Predictions,<span class="fu">aes</span>(<span class="at">x=</span>prediction,<span class="at">y=</span>Invested,<span class="at">color=</span>behavior))</span>
<span id="cb116-21"><a href="midterm-exam.html#cb116-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_point</span>()</span>
<span id="cb116-22"><a href="midterm-exam.html#cb116-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>)</span>
<span id="cb116-23"><a href="midterm-exam.html#cb116-23" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">facet_wrap</span>(<span class="sc">~</span>estimator)</span>
<span id="cb116-24"><a href="midterm-exam.html#cb116-24" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">theme_bw</span>()</span>
<span id="cb116-25"><a href="midterm-exam.html#cb116-25" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_abline</span>(<span class="at">intercept=</span><span class="dv">0</span>,<span class="at">slope=</span><span class="dv">1</span>,<span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb116-26"><a href="midterm-exam.html#cb116-26" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-160-1.png" width="672" /></p>
<p>The “eyeball” comparison looks like the “ignore cumulative earnings” assumption makes better predictions. To verify this, let’s use out-of-sample mean squared prediction error:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="midterm-exam.html#cb117-1" aria-hidden="true" tabindex="-1"></a>(Part2Predictions </span>
<span id="cb117-2"><a href="midterm-exam.html#cb117-2" aria-hidden="true" tabindex="-1"></a> <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(estimator,behavior)</span>
<span id="cb117-3"><a href="midterm-exam.html#cb117-3" aria-hidden="true" tabindex="-1"></a> <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">MSE =</span> <span class="fu">mean</span>((Invested<span class="sc">-</span>prediction)<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb117-4"><a href="midterm-exam.html#cb117-4" aria-hidden="true" tabindex="-1"></a> <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span>
<span id="cb117-5"><a href="midterm-exam.html#cb117-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
estimator
</th>
<th style="text-align:left;">
behavior
</th>
<th style="text-align:right;">
MSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
predictionMM
</td>
<td style="text-align:left;">
ignore cumulative earnings
</td>
<td style="text-align:right;">
0.9893864
</td>
</tr>
<tr>
<td style="text-align:left;">
predictionMM
</td>
<td style="text-align:left;">
use cumulative earnings
</td>
<td style="text-align:right;">
1.0916115
</td>
</tr>
<tr>
<td style="text-align:left;">
predictionNLLS
</td>
<td style="text-align:left;">
ignore cumulative earnings
</td>
<td style="text-align:right;">
0.6717090
</td>
</tr>
<tr>
<td style="text-align:left;">
predictionNLLS
</td>
<td style="text-align:left;">
use cumulative earnings
</td>
<td style="text-align:right;">
1.0916115
</td>
</tr>
<tr>
<td style="text-align:left;">
predictionUGrad
</td>
<td style="text-align:left;">
ignore cumulative earnings
</td>
<td style="text-align:right;">
0.7177483
</td>
</tr>
<tr>
<td style="text-align:left;">
predictionUGrad
</td>
<td style="text-align:left;">
use cumulative earnings
</td>
<td style="text-align:right;">
1.0916115
</td>
</tr>
</tbody>
</table>
<p>Indeed, all estimators make better predictions if we assume that people narrowly bracket.</p>
<ol start="7" style="list-style-type: decimal">
<li>(6260 students only) The statement “in Part 2, people will invest more as their cumulative earnings increases” is a testable hypothesis. Explain why a simple linear regression with “Invested” as the dependent variable and “Cumulative earnings” (at the beginning of a round) as the explanatory variable, could not be used to test this assumption. That is, by running:
<span class="math display">\[
\begin{aligned}
\mathrm{Invested}_{i}&amp;=\beta_0+\beta_1\text{(Cumulative earnings)}_i+\epsilon_i
\end{aligned}
\]</span>
then testing:
<span class="math display">\[
H_0:\ \beta_1 = 0, \quad H_A:\ \beta_1&gt;0
\]</span></li>
</ol>
<p><strong>Solution</strong> The problem is that risk aversion will affect both:</p>
<ul>
<li>cumulative earnings, because in previous rounds I will invest less if I am more risk averse, and</li>
<li>The error term <span class="math inline">\(\epsilon_i\)</span>, because I will invest less in this round if I am more risk averse.</li>
</ul>
<p>Hence <span class="math inline">\(r_i\)</span> is a component of the error term (<span class="math inline">\(\mathrm{cov}(\epsilon_i,r_i)&gt;0\)</span>), and <span class="math inline">\(\mathrm{cov(r_i,\text{Cumulative Earnings})}&gt;0\)</span>. Therefore, <span class="math inline">\(\hat\beta_1\)</span> will be biased.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="midterm-exam.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dagitty)</span>
<span id="cb118-2"><a href="midterm-exam.html#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="midterm-exam.html#cb118-3" aria-hidden="true" tabindex="-1"></a>g<span class="ot">&lt;-</span><span class="fu">dagitty</span>(<span class="st">&#39;dag {</span></span>
<span id="cb118-4"><a href="midterm-exam.html#cb118-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-5"><a href="midterm-exam.html#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="st">y2 [pos=&quot;0,1&quot;]</span></span>
<span id="cb118-6"><a href="midterm-exam.html#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="st">r  [pos=&quot;1,1&quot;]</span></span>
<span id="cb118-7"><a href="midterm-exam.html#cb118-7" aria-hidden="true" tabindex="-1"></a><span class="st">y1 [pos=&quot;2,1&quot;]</span></span>
<span id="cb118-8"><a href="midterm-exam.html#cb118-8" aria-hidden="true" tabindex="-1"></a><span class="st">chance [pos=&quot;1.5,0&quot;]</span></span>
<span id="cb118-9"><a href="midterm-exam.html#cb118-9" aria-hidden="true" tabindex="-1"></a><span class="st">CE [pos=&quot;1,0&quot;]</span></span>
<span id="cb118-10"><a href="midterm-exam.html#cb118-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-11"><a href="midterm-exam.html#cb118-11" aria-hidden="true" tabindex="-1"></a><span class="st">y2&lt;-r-&gt;y1</span></span>
<span id="cb118-12"><a href="midterm-exam.html#cb118-12" aria-hidden="true" tabindex="-1"></a><span class="st">y2&lt;-CE&lt;-y1</span></span>
<span id="cb118-13"><a href="midterm-exam.html#cb118-13" aria-hidden="true" tabindex="-1"></a><span class="st">chance-&gt;CE</span></span>
<span id="cb118-14"><a href="midterm-exam.html#cb118-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-15"><a href="midterm-exam.html#cb118-15" aria-hidden="true" tabindex="-1"></a><span class="st">}&#39;</span>)</span>
<span id="cb118-16"><a href="midterm-exam.html#cb118-16" aria-hidden="true" tabindex="-1"></a>           </span>
<span id="cb118-17"><a href="midterm-exam.html#cb118-17" aria-hidden="true" tabindex="-1"></a>           <span class="fu">plot</span>(g)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-162-1.png" width="672" /></p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="midterm-exam.html#cb119-1" aria-hidden="true" tabindex="-1"></a>           <span class="fu">paths</span>(g,<span class="st">&quot;CE&quot;</span>,<span class="st">&quot;y2&quot;</span>)</span></code></pre></div>
<pre><code>## $paths
## [1] &quot;CE -&gt; y2&quot;            &quot;CE &lt;- y1 &lt;- r -&gt; y2&quot;
## 
## $open
## [1] TRUE TRUE</code></pre>
<p>This suggests that conditioning on <span class="math inline">\(y_1\)</span> or <span class="math inline">\(r\)</span> (if measured perfectly), or instrumenting with chance, solves this problem.</p>
<p>Here is a numerical example (which I didn’t ask you for).</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="midterm-exam.html#cb121-1" aria-hidden="true" tabindex="-1"></a>SampleD<span class="ot">&lt;-</span><span class="cf">function</span>() {</span>
<span id="cb121-2"><a href="midterm-exam.html#cb121-2" aria-hidden="true" tabindex="-1"></a>    h<span class="ot">&lt;-</span><span class="fl">2.5</span></span>
<span id="cb121-3"><a href="midterm-exam.html#cb121-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb121-4"><a href="midterm-exam.html#cb121-4" aria-hidden="true" tabindex="-1"></a>    r<span class="ot">&lt;-</span><span class="fl">0.6+0.3</span><span class="sc">*</span><span class="fu">runif</span>(<span class="dv">1000</span>)</span>
<span id="cb121-5"><a href="midterm-exam.html#cb121-5" aria-hidden="true" tabindex="-1"></a>    chance<span class="ot">&lt;-</span>(<span class="fu">runif</span>(<span class="fu">length</span>(r))<span class="sc">&lt;</span><span class="fl">0.5</span>)</span>
<span id="cb121-6"><a href="midterm-exam.html#cb121-6" aria-hidden="true" tabindex="-1"></a>    d<span class="ot">&lt;-</span>(<span class="fu">data.frame</span>(r,chance)</span>
<span id="cb121-7"><a href="midterm-exam.html#cb121-7" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>()</span>
<span id="cb121-8"><a href="midterm-exam.html#cb121-8" aria-hidden="true" tabindex="-1"></a>        <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb121-9"><a href="midterm-exam.html#cb121-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">y1 =</span> <span class="fu">max</span>(<span class="fu">c</span>(<span class="dv">10</span><span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>(h<span class="dv">-1</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(r<span class="dv">-1</span>)))<span class="sc">/</span>((h<span class="dv">-1</span>)<span class="sc">^</span>(r<span class="dv">-1</span>)<span class="sc">*</span>(h<span class="dv">-1</span>)<span class="sc">+</span><span class="dv">1</span>),<span class="dv">0</span>))<span class="sc">+</span><span class="fl">0.2</span><span class="sc">*</span><span class="fu">rnorm</span>(<span class="dv">1</span>),</span>
<span id="cb121-10"><a href="midterm-exam.html#cb121-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">y2 =</span> <span class="fu">max</span>(<span class="fu">c</span>(<span class="dv">10</span><span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>(h<span class="dv">-1</span>)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(r<span class="dv">-1</span>)))<span class="sc">/</span>((h<span class="dv">-1</span>)<span class="sc">^</span>(r<span class="dv">-1</span>)<span class="sc">*</span>(h<span class="dv">-1</span>)<span class="sc">+</span><span class="dv">1</span>),<span class="dv">0</span>))<span class="sc">+</span><span class="fl">0.2</span><span class="sc">*</span><span class="fu">rnorm</span>(<span class="dv">1</span>),</span>
<span id="cb121-11"><a href="midterm-exam.html#cb121-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">CE=</span><span class="dv">10</span><span class="sc">-</span>y1<span class="sc">+</span>h<span class="sc">*</span>y1<span class="sc">*</span>chance</span>
<span id="cb121-12"><a href="midterm-exam.html#cb121-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb121-13"><a href="midterm-exam.html#cb121-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb121-14"><a href="midterm-exam.html#cb121-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb121-15"><a href="midterm-exam.html#cb121-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb121-16"><a href="midterm-exam.html#cb121-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-17"><a href="midterm-exam.html#cb121-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-18"><a href="midterm-exam.html#cb121-18" aria-hidden="true" tabindex="-1"></a>pltData<span class="ot">&lt;-</span><span class="fu">SampleD</span>()</span>
<span id="cb121-19"><a href="midterm-exam.html#cb121-19" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb121-20"><a href="midterm-exam.html#cb121-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(pltData,<span class="fu">aes</span>(<span class="at">x=</span>CE,<span class="at">y=</span>y2,<span class="at">color=</span>r))</span>
<span id="cb121-21"><a href="midterm-exam.html#cb121-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_point</span>()</span>
<span id="cb121-22"><a href="midterm-exam.html#cb121-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>,<span class="at">formula=</span>y<span class="sc">~</span>x)</span>
<span id="cb121-23"><a href="midterm-exam.html#cb121-23" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">theme_bw</span>()</span>
<span id="cb121-24"><a href="midterm-exam.html#cb121-24" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-163-1.png" width="672" /></p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="midterm-exam.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb122-2"><a href="midterm-exam.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb122-3"><a href="midterm-exam.html#cb122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-4"><a href="midterm-exam.html#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="midterm-exam.html#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(<span class="fu">lm</span>(<span class="at">data=</span>pltData,<span class="at">formula=</span>y2<span class="sc">~</span>CE),<span class="fu">lm</span>(<span class="at">data=</span>pltData,<span class="at">formula=</span>y2<span class="sc">~</span>CE <span class="sc">+</span>y1),<span class="fu">lm</span>(<span class="at">data=</span>pltData,<span class="at">formula=</span>y2<span class="sc">~</span>CE <span class="sc">+</span>r),<span class="at">type=</span><span class="st">&quot;html&quot;</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
y2
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
<td>
(3)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
CE
</td>
<td>
0.002
</td>
<td>
-0.003<sup>*</sup>
</td>
<td>
-0.001
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.003)
</td>
<td>
(0.002)
</td>
<td>
(0.001)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y1
</td>
<td>
</td>
<td>
0.778<sup>***</sup>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.020)
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
r
</td>
<td>
</td>
<td>
</td>
<td>
4.377<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.070)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
3.398<sup>***</sup>
</td>
<td>
0.799<sup>***</sup>
</td>
<td>
0.146<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.037)
</td>
<td>
(0.070)
</td>
<td>
(0.055)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,000
</td>
<td>
1,000
</td>
<td>
1,000
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.0003
</td>
<td>
0.612
</td>
<td>
0.797
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
-0.001
</td>
<td>
0.611
</td>
<td>
0.797
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
0.436 (df = 998)
</td>
<td>
0.272 (df = 997)
</td>
<td>
0.196 (df = 997)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
0.290 (df = 1; 998)
</td>
<td>
786.841<sup>***</sup> (df = 2; 997)
</td>
<td>
1,958.033<sup>***</sup> (df = 2; 997)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="3" style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="midterm-exam.html#cb123-1" aria-hidden="true" tabindex="-1"></a>SampleEstimates<span class="ot">&lt;-</span><span class="cf">function</span>() {</span>
<span id="cb123-2"><a href="midterm-exam.html#cb123-2" aria-hidden="true" tabindex="-1"></a>    data<span class="ot">&lt;-</span><span class="fu">SampleD</span>()</span>
<span id="cb123-3"><a href="midterm-exam.html#cb123-3" aria-hidden="true" tabindex="-1"></a>    ols1<span class="ot">&lt;-</span><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="at">data=</span>data,<span class="at">formula=</span>y2<span class="sc">~</span>CE))<span class="sc">$</span>coefficients[<span class="st">&quot;CE&quot;</span>,<span class="dv">4</span>]</span>
<span id="cb123-4"><a href="midterm-exam.html#cb123-4" aria-hidden="true" tabindex="-1"></a>    ols2<span class="ot">&lt;-</span><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="at">data=</span>data,<span class="at">formula=</span>y2<span class="sc">~</span>CE<span class="sc">+</span>y1))<span class="sc">$</span>coefficients[<span class="st">&quot;CE&quot;</span>,<span class="dv">4</span>]</span>
<span id="cb123-5"><a href="midterm-exam.html#cb123-5" aria-hidden="true" tabindex="-1"></a>    ols3<span class="ot">&lt;-</span><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="at">data=</span>data,<span class="at">formula=</span>y2<span class="sc">~</span>CE<span class="sc">+</span>r))<span class="sc">$</span>coefficients[<span class="st">&quot;CE&quot;</span>,<span class="dv">4</span>]</span>
<span id="cb123-6"><a href="midterm-exam.html#cb123-6" aria-hidden="true" tabindex="-1"></a>    ols4<span class="ot">&lt;-</span><span class="fu">summary</span>(<span class="fu">lm</span>(<span class="at">data=</span>data,<span class="at">formula=</span>y2<span class="sc">~</span>CE<span class="sc">+</span>r<span class="sc">+</span>y1))<span class="sc">$</span>coefficients[<span class="st">&quot;CE&quot;</span>,<span class="dv">4</span>]</span>
<span id="cb123-7"><a href="midterm-exam.html#cb123-7" aria-hidden="true" tabindex="-1"></a>    IV<span class="ot">&lt;-</span><span class="fu">summary</span>(<span class="fu">ivreg</span>(y2 <span class="sc">~</span> CE <span class="sc">|</span> chance, <span class="at">data =</span> data))<span class="sc">$</span>coefficients[<span class="st">&quot;CE&quot;</span>,<span class="dv">4</span>]</span>
<span id="cb123-8"><a href="midterm-exam.html#cb123-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb123-9"><a href="midterm-exam.html#cb123-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(ols1,ols2,ols3,ols4,IV)</span>
<span id="cb123-10"><a href="midterm-exam.html#cb123-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb123-11"><a href="midterm-exam.html#cb123-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-12"><a href="midterm-exam.html#cb123-12" aria-hidden="true" tabindex="-1"></a>SAMPLES<span class="ot">&lt;-</span><span class="fu">data.frame</span>()</span>
<span id="cb123-13"><a href="midterm-exam.html#cb123-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (ss <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>){</span>
<span id="cb123-14"><a href="midterm-exam.html#cb123-14" aria-hidden="true" tabindex="-1"></a>    pval<span class="ot">&lt;-</span><span class="fu">SampleEstimates</span>();</span>
<span id="cb123-15"><a href="midterm-exam.html#cb123-15" aria-hidden="true" tabindex="-1"></a>    model<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;y2~CE&quot;</span>,<span class="st">&quot;y2~CE+y1&quot;</span>,<span class="st">&quot;y2~CE+r&quot;</span>,<span class="st">&quot;y2~CE+y1+r&quot;</span>,<span class="st">&quot;IV&quot;</span>)</span>
<span id="cb123-16"><a href="midterm-exam.html#cb123-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb123-17"><a href="midterm-exam.html#cb123-17" aria-hidden="true" tabindex="-1"></a>    SAMPLES<span class="ot">&lt;-</span><span class="fu">rbind</span>(SAMPLES,<span class="fu">data.frame</span>(pval,model))</span>
<span id="cb123-18"><a href="midterm-exam.html#cb123-18" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="midterm-exam.html#cb124-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb124-2"><a href="midterm-exam.html#cb124-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(SAMPLES,<span class="fu">aes</span>(<span class="at">x=</span>pval))</span>
<span id="cb124-3"><a href="midterm-exam.html#cb124-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">stat_ecdf</span>()</span>
<span id="cb124-4"><a href="midterm-exam.html#cb124-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_abline</span>(<span class="at">intercept=</span><span class="dv">0</span>,<span class="at">slope=</span><span class="dv">1</span>,<span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb124-5"><a href="midterm-exam.html#cb124-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">facet_wrap</span>(<span class="sc">~</span>model)</span>
<span id="cb124-6"><a href="midterm-exam.html#cb124-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">theme_bw</span>()</span>
<span id="cb124-7"><a href="midterm-exam.html#cb124-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="fl">0.05</span>,<span class="at">color=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb124-8"><a href="midterm-exam.html#cb124-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-164-1.png" width="672" /></p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="midterm-exam.html#cb125-1" aria-hidden="true" tabindex="-1"></a>SAMPLES <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(model) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">rejectProb =</span> <span class="fu">mean</span>(<span class="dv">1</span><span class="sc">*</span>(pval<span class="sc">&lt;</span><span class="fl">0.05</span>))) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>() </span></code></pre></div>
</div>
<div id="experiment-2-2" class="section level3" number="17.3.2">
<h3><span class="header-section-number">17.3.2</span> Experiment 2</h3>
<ol style="list-style-type: decimal">
<li><p>What is the probability that …</p>
<ul>
<li>The red cup is used?</li>
<li>You receive a red signal given that the red cup is used?</li>
<li>You receive a red signal given that the blue cup is used?</li>
</ul></li>
</ol>
<p><strong>Solution</strong>
<span class="math display">\[
\begin{aligned}
p(R)&amp;=0.5\\
p(r\mid R)&amp;=\frac{2}{3}\\
p(r\mid B)&amp;=\frac{1}{3}
\end{aligned}
\]</span></p>
<ol start="2" style="list-style-type: decimal">
<li>Suppose that (contrary to what actually happened), that you observed all of the signals of everyone who made a decision before you, as well as your own.
<ol style="list-style-type: lower-alpha">
<li>After observing <span class="math inline">\(b\)</span> blue and <span class="math inline">\(r\)</span> red signals, what is your belief that the red cup is being used?</li>
<li>What combination of previous peoples’ signals wouold mean that you would not change your prediction based on your own signal?</li>
</ol></li>
</ol>
<p><strong>Solution</strong></p>
<p><span class="math display">\[
\begin{aligned}
p(R\mid r,b)&amp;=\frac{ p(r,b \mid R)p(R)}{ p(r,b \mid R)p(R)+ p(r,b \mid B)p(B)}\\
&amp;=\frac{\left(\frac{2}{3}\right)^r\left(\frac{1}{3}\right)^b\times 0.5}{\left(\frac{2}{3}\right)^r\left(\frac{1}{3}\right)^b\times 0.5+\left(\frac{1}{3}\right)^r\left(\frac{2}{3}\right)^b\times 0.5}\\
&amp;=\frac{2^r}{2^r+2^b}=\frac{1}{1+2^{b-r}}
\end{aligned}
\]</span>
Note that whether the fraction is greater or less than <span class="math inline">\(\frac{1}{2}\)</span> depends on whether <span class="math inline">\(r-b&gt;0\)</span> or <span class="math inline">\(r-b&lt;0\)</span>. So if <span class="math inline">\(r-b\geq 2\)</span>, then I would make a red prediction irrespective of my own signal, and if <span class="math inline">\(r-b\leq -2\)</span> i would make a blue prediction irrespective of my own signal.</p>
<ol start="3" style="list-style-type: decimal">
<li>Suppose that you are the fourth person to make a prediction, and the first three predictions have all been “red”. Assuming that all people who moved before you made a prediction according to their Bayes’ rule beliefs, what is your belief that we are using the red cup, before observing your own signal? Explain your reasoning. You may assume that if a player had Bayes’ rule beliefs that each cup was equally likely, then they will follow thier signal.</li>
</ol>
<p><strong>Solution</strong></p>
<ul>
<li>The first person must have observed a red ball, because otherwise they would have predicted “blue”.</li>
<li>The second person must also have seen a red ball, because if they had seen a blue ball, their belief would place 50% on red, and so they would follow their own signal.</li>
<li>The third player would have chosen red irrespective of their own signal, because they know that the first and second people had red signals: <span class="math inline">\(p(R\mid r=2,b=1)&gt;\frac{1}{2}\)</span> and <span class="math inline">\(p(R\mid r=3,b=0)&gt;\frac{1}{2}\)</span></li>
<li>As the fourth person, all I know is that the first two signals were red, so before observing my own signal, my beleif in the red cup is:
<span class="math display">\[
p(R \mid r=2,b=0)=\frac{1}{1+2^{-2}}=\frac{1}{1+0.25}=\frac{1}{5/4}=4/5
\]</span>
You would not change my action based on your own signal.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Look at the first three “positions” in the dataset.
<ol style="list-style-type: lower-alpha">
<li>How many cases were there where the third person should have followed their signal? What fraction actually did?</li>
<li>How many cases were there where the third person’s action should not depend on their action? Of these, some should have followed their signal, and some should not have followed their signal. What fraction of people followed their signal in each of these cases?</li>
</ol></li>
</ol>
<p><strong>Solution</strong></p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="midterm-exam.html#cb126-1" aria-hidden="true" tabindex="-1"></a>D<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;2021MidtermData2.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>()</span>
<span id="cb126-2"><a href="midterm-exam.html#cb126-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-3"><a href="midterm-exam.html#cb126-3" aria-hidden="true" tabindex="-1"></a>Own.Signal<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;2021MidtermData2OwnSignal.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb126-4"><a href="midterm-exam.html#cb126-4" aria-hidden="true" tabindex="-1"></a>Prediction<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">&quot;2021MidtermData2Prediction.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb126-5"><a href="midterm-exam.html#cb126-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-6"><a href="midterm-exam.html#cb126-6" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>(D <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Position<span class="sc">==</span><span class="dv">3</span>))</span>
<span id="cb126-7"><a href="midterm-exam.html#cb126-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-8"><a href="midterm-exam.html#cb126-8" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>Bayes.Prediction<span class="ot">&lt;-</span>d<span class="sc">$</span>Own.Signal</span>
<span id="cb126-9"><a href="midterm-exam.html#cb126-9" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>Bayes.Prediction[d<span class="sc">$</span>Cumulative.Predictions<span class="sc">==</span><span class="dv">2</span>]<span class="ot">&lt;-</span><span class="dv">1</span></span>
<span id="cb126-10"><a href="midterm-exam.html#cb126-10" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>Bayes.Prediction[d<span class="sc">$</span>Cumulative.Predictions<span class="sc">==</span><span class="dv">0</span>]<span class="ot">&lt;-</span><span class="dv">0</span></span>
<span id="cb126-11"><a href="midterm-exam.html#cb126-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-12"><a href="midterm-exam.html#cb126-12" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>(d</span>
<span id="cb126-13"><a href="midterm-exam.html#cb126-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Followed.Prediction =</span>Bayes.Prediction<span class="sc">==</span>Prediction,</span>
<span id="cb126-14"><a href="midterm-exam.html#cb126-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">Should.Follow.Signal =</span> Bayes.Prediction<span class="sc">==</span>Own.Signal,</span>
<span id="cb126-15"><a href="midterm-exam.html#cb126-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">Followed.Signal =</span> Own.Signal<span class="sc">==</span>Prediction,</span>
<span id="cb126-16"><a href="midterm-exam.html#cb126-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">Cascade =</span> Cumulative.Signals<span class="sc">!=</span><span class="dv">1</span>) </span>
<span id="cb126-17"><a href="midterm-exam.html#cb126-17" aria-hidden="true" tabindex="-1"></a> <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Cascade,Should.Follow.Signal)</span>
<span id="cb126-18"><a href="midterm-exam.html#cb126-18" aria-hidden="true" tabindex="-1"></a> <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">count=</span><span class="fu">n</span>(),<span class="at">Fraction.Followed=</span><span class="fu">mean</span>(Followed.Signal))</span>
<span id="cb126-19"><a href="midterm-exam.html#cb126-19" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb126-20"><a href="midterm-exam.html#cb126-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb126-21"><a href="midterm-exam.html#cb126-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-22"><a href="midterm-exam.html#cb126-22" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(d)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Cascade
</th>
<th style="text-align:left;">
Should.Follow.Signal
</th>
<th style="text-align:right;">
count
</th>
<th style="text-align:right;">
Fraction.Followed
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
<tr>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.5
</td>
</tr>
<tr>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
</tbody>
</table>
<ol start="5" style="list-style-type: decimal">
<li>Now use the entire dataset. Which of the following models of behavior best fits the data? State your definition of “best fits the data”.
<ol style="list-style-type: lower-alpha">
<li><strong>(6260 students only)</strong> People assume that if Bayes’ rule predicts that a person who moved before them should choose red, but in fact they chose blue, then they must have seen a blue signal. The same is true for a red prediction when Bayes’ rule says that they should choose blue.</li>
<li>People assume that these decisions that are not in accordance with Bayes’ rule are mistakes (i.e. these choices reveal no information about the signal they saw).</li>
<li>People assume that all people who moved before them have followed their signal (i.e. they ignore all of the choices made by people before them), but update their beliefs based on this.</li>
<li>People just follow their own signal.</li>
<li><strong>(Bonus question, no points available)</strong> People make decisions according to Bayes’ rule, but make a mistake with probability <span class="math inline">\(1-\theta\)</span>. (i.e. if Bayes’ rule says that someone should choose red, then they will choose red with probability <span class="math inline">\(\theta\)</span>, and blue with probability <span class="math inline">\(1-\theta\)</span>).</li>
</ol></li>
</ol>
<p><strong>Solution</strong></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="midterm-exam.html#cb127-1" aria-hidden="true" tabindex="-1"></a>PrR<span class="ot">&lt;-</span><span class="fl">0.5</span></span>
<span id="cb127-2"><a href="midterm-exam.html#cb127-2" aria-hidden="true" tabindex="-1"></a>PrSignal<span class="ot">&lt;-</span><span class="dv">2</span><span class="sc">/</span><span class="dv">3</span></span>
<span id="cb127-3"><a href="midterm-exam.html#cb127-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-4"><a href="midterm-exam.html#cb127-4" aria-hidden="true" tabindex="-1"></a>ModelA<span class="ot">&lt;-</span><span class="cf">function</span>(Own.Signal,Prediction) {</span>
<span id="cb127-5"><a href="midterm-exam.html#cb127-5" aria-hidden="true" tabindex="-1"></a>    nR<span class="ot">&lt;-</span><span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])</span>
<span id="cb127-6"><a href="midterm-exam.html#cb127-6" aria-hidden="true" tabindex="-1"></a>    nB<span class="ot">&lt;-</span><span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])</span>
<span id="cb127-7"><a href="midterm-exam.html#cb127-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb127-8"><a href="midterm-exam.html#cb127-8" aria-hidden="true" tabindex="-1"></a>    Model.Choice<span class="ot">&lt;-</span><span class="fu">c</span>()</span>
<span id="cb127-9"><a href="midterm-exam.html#cb127-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (pp <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(Prediction)[<span class="dv">1</span>]) {</span>
<span id="cb127-10"><a href="midterm-exam.html#cb127-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># person acts as if they observe nR red signals and nB blue signals</span></span>
<span id="cb127-11"><a href="midterm-exam.html#cb127-11" aria-hidden="true" tabindex="-1"></a>        bR<span class="ot">&lt;-</span>nR<span class="sc">+</span><span class="dv">1</span><span class="sc">*</span>(Own.Signal[pp,]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb127-12"><a href="midterm-exam.html#cb127-12" aria-hidden="true" tabindex="-1"></a>        bB<span class="ot">&lt;-</span>nB<span class="sc">+</span>(Own.Signal[pp,]<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb127-13"><a href="midterm-exam.html#cb127-13" aria-hidden="true" tabindex="-1"></a>        p<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">/</span>(<span class="dv">1</span><span class="sc">+</span><span class="dv">2</span><span class="sc">^</span>(bB<span class="sc">-</span>bR))</span>
<span id="cb127-14"><a href="midterm-exam.html#cb127-14" aria-hidden="true" tabindex="-1"></a>        Model.Choice<span class="ot">&lt;-</span><span class="fu">rbind</span>(Model.Choice,<span class="dv">1</span><span class="sc">*</span>(p<span class="sc">&gt;</span><span class="fl">0.5</span>)<span class="sc">+</span>(p<span class="sc">==</span><span class="fl">0.5</span>)<span class="sc">*</span>Own.Signal[pp,])</span>
<span id="cb127-15"><a href="midterm-exam.html#cb127-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-16"><a href="midterm-exam.html#cb127-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># update signals</span></span>
<span id="cb127-17"><a href="midterm-exam.html#cb127-17" aria-hidden="true" tabindex="-1"></a>        blueCascade<span class="ot">&lt;-</span>(nB<span class="sc">-</span>nR)<span class="sc">&gt;=</span><span class="dv">2</span></span>
<span id="cb127-18"><a href="midterm-exam.html#cb127-18" aria-hidden="true" tabindex="-1"></a>        redCascade<span class="ot">&lt;-</span>(nR<span class="sc">-</span>nB)<span class="sc">&gt;=</span><span class="dv">2</span></span>
<span id="cb127-19"><a href="midterm-exam.html#cb127-19" aria-hidden="true" tabindex="-1"></a>        noCascade<span class="ot">&lt;-</span> <span class="sc">!</span>(blueCascade <span class="sc">|</span> redCascade)</span>
<span id="cb127-20"><a href="midterm-exam.html#cb127-20" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-21"><a href="midterm-exam.html#cb127-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># If it is not a cascade, the person must have reported truthfully</span></span>
<span id="cb127-22"><a href="midterm-exam.html#cb127-22" aria-hidden="true" tabindex="-1"></a>        nR[noCascade]<span class="ot">&lt;-</span>nR[noCascade]<span class="sc">+</span>Prediction[pp,noCascade]  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-23"><a href="midterm-exam.html#cb127-23" aria-hidden="true" tabindex="-1"></a>        nB[noCascade]<span class="ot">&lt;-</span>nB[noCascade]<span class="sc">+</span><span class="dv">1</span><span class="sc">-</span>Prediction[pp,noCascade]  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-24"><a href="midterm-exam.html#cb127-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># if it is a cascade, then I only update if this </span></span>
<span id="cb127-25"><a href="midterm-exam.html#cb127-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">sum</span>((redCascade <span class="sc">&amp;</span> (Prediction[pp,]<span class="sc">==</span><span class="dv">0</span>)))<span class="sc">&gt;=</span><span class="dv">1</span>) {</span>
<span id="cb127-26"><a href="midterm-exam.html#cb127-26" aria-hidden="true" tabindex="-1"></a>            nB[redCascade <span class="sc">&amp;</span> (Prediction[pp,]<span class="sc">==</span><span class="dv">0</span>)]<span class="ot">&lt;-</span>nB[redCascade <span class="sc">&amp;</span> (Prediction[pp,]<span class="sc">==</span><span class="dv">0</span>)]<span class="sc">+</span><span class="dv">1</span> <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-27"><a href="midterm-exam.html#cb127-27" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb127-28"><a href="midterm-exam.html#cb127-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">sum</span>(blueCascade <span class="sc">&amp;</span> (Prediction[pp,]<span class="sc">==</span><span class="dv">0</span>))<span class="sc">&gt;=</span><span class="dv">1</span>) {</span>
<span id="cb127-29"><a href="midterm-exam.html#cb127-29" aria-hidden="true" tabindex="-1"></a>            nR[blueCascade <span class="sc">&amp;</span> (Prediction[pp,]<span class="sc">==</span><span class="dv">1</span>)] <span class="ot">&lt;-</span>nR[(blueCascade <span class="sc">&amp;</span> Prediction[pp,]<span class="sc">==</span><span class="dv">1</span>)]<span class="sc">+</span><span class="dv">1</span> <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-30"><a href="midterm-exam.html#cb127-30" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb127-31"><a href="midterm-exam.html#cb127-31" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-32"><a href="midterm-exam.html#cb127-32" aria-hidden="true" tabindex="-1"></a>        nR<span class="ot">&lt;-</span>nR <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-33"><a href="midterm-exam.html#cb127-33" aria-hidden="true" tabindex="-1"></a>        nB<span class="ot">&lt;-</span>nB <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-34"><a href="midterm-exam.html#cb127-34" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-35"><a href="midterm-exam.html#cb127-35" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-36"><a href="midterm-exam.html#cb127-36" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb127-37"><a href="midterm-exam.html#cb127-37" aria-hidden="true" tabindex="-1"></a>    Model.Choice</span>
<span id="cb127-38"><a href="midterm-exam.html#cb127-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb127-39"><a href="midterm-exam.html#cb127-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-40"><a href="midterm-exam.html#cb127-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-41"><a href="midterm-exam.html#cb127-41" aria-hidden="true" tabindex="-1"></a>ModelB<span class="ot">&lt;-</span><span class="cf">function</span>(Own.Signal,Prediction) {</span>
<span id="cb127-42"><a href="midterm-exam.html#cb127-42" aria-hidden="true" tabindex="-1"></a>    nR<span class="ot">&lt;-</span><span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])</span>
<span id="cb127-43"><a href="midterm-exam.html#cb127-43" aria-hidden="true" tabindex="-1"></a>    nB<span class="ot">&lt;-</span><span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])</span>
<span id="cb127-44"><a href="midterm-exam.html#cb127-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb127-45"><a href="midterm-exam.html#cb127-45" aria-hidden="true" tabindex="-1"></a>    Model.Choice<span class="ot">&lt;-</span><span class="fu">matrix</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">1</span>],<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])</span>
<span id="cb127-46"><a href="midterm-exam.html#cb127-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (pp <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(Prediction)[<span class="dv">1</span>]) {</span>
<span id="cb127-47"><a href="midterm-exam.html#cb127-47" aria-hidden="true" tabindex="-1"></a>        <span class="co"># person acts as if they observe nR red signals and nB blue signals</span></span>
<span id="cb127-48"><a href="midterm-exam.html#cb127-48" aria-hidden="true" tabindex="-1"></a>        bR<span class="ot">&lt;-</span>nR<span class="sc">+</span>(Own.Signal[pp,]<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-49"><a href="midterm-exam.html#cb127-49" aria-hidden="true" tabindex="-1"></a>        bB<span class="ot">&lt;-</span>nB<span class="sc">+</span>(Own.Signal[pp,]<span class="sc">==</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-50"><a href="midterm-exam.html#cb127-50" aria-hidden="true" tabindex="-1"></a>        p<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">/</span>(<span class="dv">1</span><span class="sc">+</span><span class="dv">2</span><span class="sc">^</span>(bB<span class="sc">-</span>bR))</span>
<span id="cb127-51"><a href="midterm-exam.html#cb127-51" aria-hidden="true" tabindex="-1"></a>        Model.Choice[pp,]<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">*</span>(p<span class="sc">&gt;</span><span class="fl">0.5</span>)<span class="sc">+</span>(p<span class="sc">==</span><span class="fl">0.5</span>)<span class="sc">*</span>Own.Signal[pp,]  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-52"><a href="midterm-exam.html#cb127-52" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-53"><a href="midterm-exam.html#cb127-53" aria-hidden="true" tabindex="-1"></a>        <span class="co"># update signals</span></span>
<span id="cb127-54"><a href="midterm-exam.html#cb127-54" aria-hidden="true" tabindex="-1"></a>        blueCascade<span class="ot">&lt;-</span>(nB<span class="sc">-</span>nR)<span class="sc">&gt;=</span><span class="dv">2</span>  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-55"><a href="midterm-exam.html#cb127-55" aria-hidden="true" tabindex="-1"></a>        redCascade<span class="ot">&lt;-</span>(nR<span class="sc">-</span>nB)<span class="sc">&gt;=</span><span class="dv">2</span>  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-56"><a href="midterm-exam.html#cb127-56" aria-hidden="true" tabindex="-1"></a>        noCascade<span class="ot">&lt;-</span> <span class="sc">!</span>(blueCascade <span class="sc">|</span> redCascade)  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-57"><a href="midterm-exam.html#cb127-57" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-58"><a href="midterm-exam.html#cb127-58" aria-hidden="true" tabindex="-1"></a>        <span class="co"># This model only updates signals if there was not an information cascade in the previous period</span></span>
<span id="cb127-59"><a href="midterm-exam.html#cb127-59" aria-hidden="true" tabindex="-1"></a>        nR[noCascade]<span class="ot">&lt;-</span>nR[noCascade]<span class="sc">+</span>Prediction[pp,noCascade] <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-60"><a href="midterm-exam.html#cb127-60" aria-hidden="true" tabindex="-1"></a>        nB[noCascade]<span class="ot">&lt;-</span>nB[noCascade]<span class="sc">+</span><span class="dv">1</span><span class="sc">-</span>Prediction[pp,noCascade] <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-61"><a href="midterm-exam.html#cb127-61" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-62"><a href="midterm-exam.html#cb127-62" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-63"><a href="midterm-exam.html#cb127-63" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-64"><a href="midterm-exam.html#cb127-64" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb127-65"><a href="midterm-exam.html#cb127-65" aria-hidden="true" tabindex="-1"></a>    Model.Choice</span>
<span id="cb127-66"><a href="midterm-exam.html#cb127-66" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb127-67"><a href="midterm-exam.html#cb127-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-68"><a href="midterm-exam.html#cb127-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-69"><a href="midterm-exam.html#cb127-69" aria-hidden="true" tabindex="-1"></a>ModelC<span class="ot">&lt;-</span><span class="cf">function</span>(Own.Signal,Prediction) {</span>
<span id="cb127-70"><a href="midterm-exam.html#cb127-70" aria-hidden="true" tabindex="-1"></a>    nR<span class="ot">&lt;-</span><span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-71"><a href="midterm-exam.html#cb127-71" aria-hidden="true" tabindex="-1"></a>    nB<span class="ot">&lt;-</span><span class="fu">rep</span>(<span class="dv">0</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-72"><a href="midterm-exam.html#cb127-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb127-73"><a href="midterm-exam.html#cb127-73" aria-hidden="true" tabindex="-1"></a>    Model.Choice<span class="ot">&lt;-</span><span class="fu">matrix</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="fu">dim</span>(Prediction)[<span class="dv">1</span>],<span class="fu">dim</span>(Prediction)[<span class="dv">2</span>])</span>
<span id="cb127-74"><a href="midterm-exam.html#cb127-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (pp <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(Prediction)[<span class="dv">1</span>]) {</span>
<span id="cb127-75"><a href="midterm-exam.html#cb127-75" aria-hidden="true" tabindex="-1"></a>        <span class="co"># person acts as if they observe nR red signals and nB blue signals</span></span>
<span id="cb127-76"><a href="midterm-exam.html#cb127-76" aria-hidden="true" tabindex="-1"></a>        bR<span class="ot">&lt;-</span>nR<span class="sc">+</span>(Own.Signal[pp,]<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-77"><a href="midterm-exam.html#cb127-77" aria-hidden="true" tabindex="-1"></a>        bB<span class="ot">&lt;-</span>nB<span class="sc">+</span>(Own.Signal[pp,]<span class="sc">==</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-78"><a href="midterm-exam.html#cb127-78" aria-hidden="true" tabindex="-1"></a>        p<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">/</span>(<span class="dv">1</span><span class="sc">+</span><span class="dv">2</span><span class="sc">^</span>(bB<span class="sc">-</span>bR))  <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-79"><a href="midterm-exam.html#cb127-79" aria-hidden="true" tabindex="-1"></a>        Model.Choice[pp,]<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">*</span>(p<span class="sc">&gt;</span><span class="fl">0.5</span>)<span class="sc">+</span>(p<span class="sc">==</span><span class="fl">0.5</span>)<span class="sc">*</span>Own.Signal[pp,] <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-80"><a href="midterm-exam.html#cb127-80" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-81"><a href="midterm-exam.html#cb127-81" aria-hidden="true" tabindex="-1"></a>        <span class="co"># update signals</span></span>
<span id="cb127-82"><a href="midterm-exam.html#cb127-82" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-83"><a href="midterm-exam.html#cb127-83" aria-hidden="true" tabindex="-1"></a>        nR<span class="ot">&lt;-</span>nR<span class="sc">+</span>Prediction[pp,] <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-84"><a href="midterm-exam.html#cb127-84" aria-hidden="true" tabindex="-1"></a>        nB<span class="ot">&lt;-</span>nB<span class="sc">+</span><span class="dv">1</span><span class="sc">-</span>Prediction[pp,] <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span>
<span id="cb127-85"><a href="midterm-exam.html#cb127-85" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-86"><a href="midterm-exam.html#cb127-86" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-87"><a href="midterm-exam.html#cb127-87" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb127-88"><a href="midterm-exam.html#cb127-88" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb127-89"><a href="midterm-exam.html#cb127-89" aria-hidden="true" tabindex="-1"></a>    Model.Choice</span>
<span id="cb127-90"><a href="midterm-exam.html#cb127-90" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb127-91"><a href="midterm-exam.html#cb127-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-92"><a href="midterm-exam.html#cb127-92" aria-hidden="true" tabindex="-1"></a>ModelD<span class="ot">&lt;-</span><span class="cf">function</span>(Own.Signal,Prediction) {</span>
<span id="cb127-93"><a href="midterm-exam.html#cb127-93" aria-hidden="true" tabindex="-1"></a>    Own.Signal</span>
<span id="cb127-94"><a href="midterm-exam.html#cb127-94" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>For the bonus question, note that there are four possible cases in each stage of the game, each with probability:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="midterm-exam.html#cb128-1" aria-hidden="true" tabindex="-1"></a>STATES<span class="ot">&lt;-</span><span class="fu">rbind</span>(<span class="fu">c</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">frac{2}{3}p(R)$&quot;</span>,<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">frac{1}{3}(1-p(R))$&quot;</span>),<span class="fu">c</span>(<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">frac{1}{3}p(R)$&quot;</span>,<span class="st">&quot;$</span><span class="sc">\\</span><span class="st">frac{2}{3}(1-p(R))$&quot;</span>))</span>
<span id="cb128-2"><a href="midterm-exam.html#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(STATES)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;R&quot;</span>,<span class="st">&quot;B&quot;</span>)</span>
<span id="cb128-3"><a href="midterm-exam.html#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(STATES)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;r&quot;</span>,<span class="st">&quot;b&quot;</span>)</span>
<span id="cb128-4"><a href="midterm-exam.html#cb128-4" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">t</span>(STATES))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
r
</th>
<th style="text-align:left;">
b
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
R
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{2}{3}p(R)\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{1}{3}p(R)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{1}{3}(1-p(R))\)</span>
</td>
<td style="text-align:left;">
<span class="math inline">\(\frac{2}{3}(1-p(R))\)</span>
</td>
</tr>
</tbody>
</table>
<p>Where capital letters denote states of the world, and lower case denote signals. Let’s call this matrix <span class="math inline">\(S\)</span></p>
<p>Following each signal, we can determine the previous person’s posterior beliefs:
<span class="math display">\[
P=\begin{pmatrix}\frac{2p(R)}{2p(R)+1-p(R)} &amp; \frac{p(R)}{p(R)+2(1-p(R))}\end{pmatrix}^\top
\]</span>
(i.e. beliefs after red and blue signals, respectively). Let:
<span class="math display">\[
T(x)=\begin{cases}
\theta &amp;\text{ if }x&gt;0.5\\
1-\theta &amp;\text{ if }x&lt;0.5\\
0.5&amp;\text{ if } x=0.5
\end{cases}
\]</span>
Therefore the probability of choosing a red prediction following each of these signals is:
<span class="math display">\[
\tau = \begin{pmatrix}T\left(\frac{2p(R)}{2p(R)+1-p(R)}\right) &amp; T\left( \frac{p(R)}{p(R)+2(1-p(R))}\right)\end{pmatrix}^\top
\]</span></p>
<p>So the probability that the previous player makes a red prediction, conditional on the state, is:</p>
<p><span class="math display">\[
\begin{aligned}
R&amp;=S\tau
\end{aligned}
\]</span>
And so the posterior probability of the red state, given the previous player’s prediction, is:
<span class="math display">\[
\begin{aligned}
p(R\mid r)&amp;=\frac{R_1p(R)}{R_1p(R)+R_2(1-p(R))}\\
p(R\mid b)&amp;=\frac{(1-R_1)p(R)}{(1-R_1)p(R)+(1-R_2)(1-p(R))}\\
\end{aligned}
\]</span></p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="midterm-exam.html#cb129-1" aria-hidden="true" tabindex="-1"></a>PrSignal<span class="ot">&lt;-</span><span class="dv">2</span><span class="sc">/</span><span class="dv">3</span></span>
<span id="cb129-2"><a href="midterm-exam.html#cb129-2" aria-hidden="true" tabindex="-1"></a>ModelE<span class="ot">&lt;-</span><span class="cf">function</span>(Own.Signal,Prediction,theta) {</span>
<span id="cb129-3"><a href="midterm-exam.html#cb129-3" aria-hidden="true" tabindex="-1"></a>    Tfun<span class="ot">&lt;-</span><span class="cf">function</span>(p) {theta<span class="sc">*</span>(p<span class="sc">&gt;</span><span class="fl">0.5</span>)<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>theta)<span class="sc">*</span>(p<span class="sc">&lt;</span><span class="fl">0.5</span>)<span class="sc">+</span><span class="fl">0.5</span><span class="sc">*</span>(theta<span class="sc">==</span><span class="fl">0.5</span>)}</span>
<span id="cb129-4"><a href="midterm-exam.html#cb129-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb129-5"><a href="midterm-exam.html#cb129-5" aria-hidden="true" tabindex="-1"></a>    PredictProb<span class="ot">&lt;-</span><span class="fu">c</span>()</span>
<span id="cb129-6"><a href="midterm-exam.html#cb129-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(Prediction)[<span class="dv">2</span>]) {</span>
<span id="cb129-7"><a href="midterm-exam.html#cb129-7" aria-hidden="true" tabindex="-1"></a>        prediction<span class="ot">&lt;-</span>Prediction[,ii]</span>
<span id="cb129-8"><a href="midterm-exam.html#cb129-8" aria-hidden="true" tabindex="-1"></a>        own.signal<span class="ot">&lt;-</span>Own.Signal[,ii]</span>
<span id="cb129-9"><a href="midterm-exam.html#cb129-9" aria-hidden="true" tabindex="-1"></a>        prior<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>)</span>
<span id="cb129-10"><a href="midterm-exam.html#cb129-10" aria-hidden="true" tabindex="-1"></a>        predprob<span class="ot">&lt;-</span><span class="fu">c</span>()</span>
<span id="cb129-11"><a href="midterm-exam.html#cb129-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (tt <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(own.signal)) {</span>
<span id="cb129-12"><a href="midterm-exam.html#cb129-12" aria-hidden="true" tabindex="-1"></a>            S<span class="ot">&lt;-</span><span class="fu">rbind</span>(<span class="fu">c</span>(PrSignal<span class="sc">*</span>prior[<span class="dv">1</span>],(<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">1</span>]),<span class="fu">c</span>((<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">2</span>],PrSignal<span class="sc">*</span>prior[<span class="dv">2</span>]))</span>
<span id="cb129-13"><a href="midterm-exam.html#cb129-13" aria-hidden="true" tabindex="-1"></a>            P<span class="ot">&lt;-</span><span class="fu">c</span>(PrSignal<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>(PrSignal<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">2</span>]),</span>
<span id="cb129-14"><a href="midterm-exam.html#cb129-14" aria-hidden="true" tabindex="-1"></a>                 (<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>((<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>PrSignal<span class="sc">*</span>prior[<span class="dv">2</span>]))</span>
<span id="cb129-15"><a href="midterm-exam.html#cb129-15" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb129-16"><a href="midterm-exam.html#cb129-16" aria-hidden="true" tabindex="-1"></a>            tau<span class="ot">&lt;-</span><span class="fu">Tfun</span>(P)</span>
<span id="cb129-17"><a href="midterm-exam.html#cb129-17" aria-hidden="true" tabindex="-1"></a>            predprob<span class="ot">&lt;-</span><span class="fu">c</span>(predprob,tau[<span class="dv">2-1</span><span class="sc">*</span>own.signal[tt]])</span>
<span id="cb129-18"><a href="midterm-exam.html#cb129-18" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb129-19"><a href="midterm-exam.html#cb129-19" aria-hidden="true" tabindex="-1"></a>            R<span class="ot">&lt;-</span>S<span class="sc">%*%</span> tau</span>
<span id="cb129-20"><a href="midterm-exam.html#cb129-20" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb129-21"><a href="midterm-exam.html#cb129-21" aria-hidden="true" tabindex="-1"></a>            pRr<span class="ot">&lt;-</span>R[<span class="dv">1</span>]<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>(R[<span class="dv">1</span>]<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>R[<span class="dv">2</span>]<span class="sc">*</span>prior[<span class="dv">2</span>])</span>
<span id="cb129-22"><a href="midterm-exam.html#cb129-22" aria-hidden="true" tabindex="-1"></a>            pRb<span class="ot">&lt;-</span>(<span class="dv">1</span><span class="sc">-</span>R[<span class="dv">1</span>])<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>((<span class="dv">1</span><span class="sc">-</span>R[<span class="dv">1</span>])<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>R[<span class="dv">2</span>])<span class="sc">*</span>prior[<span class="dv">2</span>])</span>
<span id="cb129-23"><a href="midterm-exam.html#cb129-23" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb129-24"><a href="midterm-exam.html#cb129-24" aria-hidden="true" tabindex="-1"></a>            pp<span class="ot">&lt;-</span>pRr<span class="sc">*</span>prediction[tt]<span class="sc">+</span>pRb<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>prediction[tt])</span>
<span id="cb129-25"><a href="midterm-exam.html#cb129-25" aria-hidden="true" tabindex="-1"></a>            prior<span class="ot">&lt;-</span><span class="fu">c</span>(pp,<span class="dv">1</span><span class="sc">-</span>pp)</span>
<span id="cb129-26"><a href="midterm-exam.html#cb129-26" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb129-27"><a href="midterm-exam.html#cb129-27" aria-hidden="true" tabindex="-1"></a>        PredictProb<span class="ot">&lt;-</span><span class="fu">cbind</span>(PredictProb,predprob)</span>
<span id="cb129-28"><a href="midterm-exam.html#cb129-28" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb129-29"><a href="midterm-exam.html#cb129-29" aria-hidden="true" tabindex="-1"></a>    PredictProb</span>
<span id="cb129-30"><a href="midterm-exam.html#cb129-30" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="midterm-exam.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate theta in Model E using MLE</span></span>
<span id="cb130-2"><a href="midterm-exam.html#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="midterm-exam.html#cb130-3" aria-hidden="true" tabindex="-1"></a>thetaGrid<span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="fl">0.51</span>,<span class="fl">0.999</span>,<span class="at">length=</span><span class="dv">1000</span>)</span>
<span id="cb130-4"><a href="midterm-exam.html#cb130-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-5"><a href="midterm-exam.html#cb130-5" aria-hidden="true" tabindex="-1"></a>MLE<span class="ot">&lt;-</span>(<span class="fu">data.frame</span>(thetaGrid)</span>
<span id="cb130-6"><a href="midterm-exam.html#cb130-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">rowwise</span>()     </span>
<span id="cb130-7"><a href="midterm-exam.html#cb130-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb130-8"><a href="midterm-exam.html#cb130-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">LL =</span> <span class="fu">sum</span>(Prediction<span class="sc">*</span><span class="fu">log</span>(<span class="fu">ModelE</span>(Own.Signal,Prediction,thetaGrid)))</span>
<span id="cb130-9"><a href="midterm-exam.html#cb130-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb130-10"><a href="midterm-exam.html#cb130-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb130-11"><a href="midterm-exam.html#cb130-11" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb130-12"><a href="midterm-exam.html#cb130-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">data=</span>MLE,<span class="fu">aes</span>(<span class="at">x=</span>thetaGrid,<span class="at">y=</span>LL))</span>
<span id="cb130-13"><a href="midterm-exam.html#cb130-13" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">geom_line</span>()</span>
<span id="cb130-14"><a href="midterm-exam.html#cb130-14" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">theme_bw</span>()</span>
<span id="cb130-15"><a href="midterm-exam.html#cb130-15" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">xlab</span>(<span class="st">&quot;theta&quot;</span>)</span>
<span id="cb130-16"><a href="midterm-exam.html#cb130-16" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span><span class="fu">ylab</span>(<span class="st">&quot;log-likelihood&quot;</span>)</span>
<span id="cb130-17"><a href="midterm-exam.html#cb130-17" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-170-1.png" width="672" /></p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="midterm-exam.html#cb131-1" aria-hidden="true" tabindex="-1"></a>thetaHat<span class="ot">&lt;-</span>MLE<span class="sc">$</span>thetaGrid[<span class="fu">which.max</span>(MLE<span class="sc">$</span>LL)]</span></code></pre></div>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="midterm-exam.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ModelA</span>(Own.Signal,Prediction)</span></code></pre></div>
<pre><code>##   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20
## 1  1  0  1  0  1  1  1  0  0   1   0   0   1   1   1   0   0   1   1   0
## 2  0  0  1  0  0  0  1  0  1   0   1   0   1   0   1   0   0   1   1   1
## 3  0  0  1  0  0  0  1  0  1   0   1   0   1   0   1   0   0   1   1   0
## 4  0  0  1  0  1  0  1  0  1   1   0   1   1   1   1   0   0   1   1   0
## 5  1  0  1  0  1  0  1  1  1   0   1   0   1   0   1   0   0   1   1   0
## 6  0  0  1  1  1  0  1  0  1   0   0   0   1   0   1   0   0   1   1   0
## 7  0  0  1  0  1  1  1  0  1   0   1   0   1   0   1   0   0   1   1   0</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="midterm-exam.html#cb134-1" aria-hidden="true" tabindex="-1"></a>Prediction</span></code></pre></div>
<pre><code>##   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20
## 1  1  0  1  0  1  1  1  0  0   1   0   1   1   1   1   0   0   1   1   0
## 2  0  0  1  0  0  0  1  0  1   0   1   0   1   0   1   0   0   1   1   0
## 3  0  0  1  1  0  0  1  0  1   0   1   0   1   0   1   0   0   1   1   0
## 4  1  0  1  0  1  0  1  1  1   0   0   1   1   0   1   0   0   1   1   0
## 5  1  1  1  1  1  1  1  0  1   0   1   0   1   0   1   0   0   1   1   0
## 6  0  0  1  0  1  1  1  0  1   0   0   0   1   0   1   0   0   1   1   0
## 7  0  0  1  0  1  1  1  0  1   1   1   0   1   0   1   0   0   1   1   0</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="midterm-exam.html#cb136-1" aria-hidden="true" tabindex="-1"></a>FIT<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fu">mean</span>((Prediction<span class="sc">-</span><span class="fu">ModelA</span>(Own.Signal,Prediction))<span class="sc">^</span><span class="dv">2</span>),</span>
<span id="cb136-2"><a href="midterm-exam.html#cb136-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">mean</span>((Prediction<span class="sc">-</span><span class="fu">ModelB</span>(Own.Signal,Prediction))<span class="sc">^</span><span class="dv">2</span>),</span>
<span id="cb136-3"><a href="midterm-exam.html#cb136-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">mean</span>((Prediction<span class="sc">-</span><span class="fu">ModelC</span>(Own.Signal,Prediction))<span class="sc">^</span><span class="dv">2</span>),</span>
<span id="cb136-4"><a href="midterm-exam.html#cb136-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">mean</span>((Prediction<span class="sc">-</span><span class="fu">ModelD</span>(Own.Signal,Prediction))<span class="sc">^</span><span class="dv">2</span>),</span>
<span id="cb136-5"><a href="midterm-exam.html#cb136-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">mean</span>((Prediction<span class="sc">-</span><span class="fu">ModelE</span>(Own.Signal,Prediction,thetaHat))<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb136-6"><a href="midterm-exam.html#cb136-6" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb136-7"><a href="midterm-exam.html#cb136-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-8"><a href="midterm-exam.html#cb136-8" aria-hidden="true" tabindex="-1"></a>FIT<span class="ot">&lt;-</span><span class="fu">cbind</span>(<span class="fu">c</span>(<span class="st">&quot;A - Choices against Bayes&#39; rule reveal the signal&quot;</span>,<span class="st">&quot;B - Choices against Bayes&#39; rule reveal no information&quot;</span>,<span class="st">&quot;C - People assume that predictions are signals&quot;</span>,<span class="st">&quot;D - People follow their own signal&quot;</span>,<span class="st">&quot;E - Choose according to Bayes&#39; rule with probability $</span><span class="sc">\\</span><span class="st">theta$&quot;</span>),<span class="fu">round</span>(FIT,<span class="dv">3</span>))</span>
<span id="cb136-9"><a href="midterm-exam.html#cb136-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(FIT)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Model&quot;</span>,<span class="st">&quot;Mean squated prediction error&quot;</span>)</span>
<span id="cb136-10"><a href="midterm-exam.html#cb136-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-11"><a href="midterm-exam.html#cb136-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(FIT)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
Mean squated prediction error
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A - Choices against Bayes’ rule reveal the signal
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
B - Choices against Bayes’ rule reveal no information
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
C - People assume that predictions are signals
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
D - People follow their own signal
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
E - Choose according to Bayes’ rule with probability <span class="math inline">\(\theta\)</span>
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>Here I use (within-sample) mean squared prediction error, so lower numbers are better. It seems that models A-C are the best (there is not much practical difference between the MSPE for these models). Importantly, all models that include some kind of learning from other peoples’ signals outperform Model D, which assumes no learning.</p>
<p>And here is another model, assuming that people are more likely to predict red as their belief in red increases. That is, if they believe that the probability of red is <span class="math inline">\(p\)</span>, then they will predict red with probability <span class="math inline">\((1+\exp(-\theta (p-(1-p))))\)</span>. Note that <span class="math inline">\(p-(1-p)\)</span> is the utility difference between chooseing red and blue.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="midterm-exam.html#cb137-1" aria-hidden="true" tabindex="-1"></a>ModelF<span class="ot">&lt;-</span><span class="cf">function</span>(Own.Signal,Prediction,theta) {</span>
<span id="cb137-2"><a href="midterm-exam.html#cb137-2" aria-hidden="true" tabindex="-1"></a>    Tfun<span class="ot">&lt;-</span><span class="cf">function</span>(p) {(<span class="dv">1</span><span class="sc">/</span>(<span class="dv">1</span><span class="sc">+</span><span class="fu">exp</span>(<span class="sc">-</span>theta<span class="sc">*</span>(p<span class="sc">-</span>(<span class="dv">1</span><span class="sc">-</span>p)))))}</span>
<span id="cb137-3"><a href="midterm-exam.html#cb137-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb137-4"><a href="midterm-exam.html#cb137-4" aria-hidden="true" tabindex="-1"></a>    PredictProb<span class="ot">&lt;-</span><span class="fu">c</span>()</span>
<span id="cb137-5"><a href="midterm-exam.html#cb137-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(Prediction)[<span class="dv">2</span>]) {</span>
<span id="cb137-6"><a href="midterm-exam.html#cb137-6" aria-hidden="true" tabindex="-1"></a>        prediction<span class="ot">&lt;-</span>Prediction[,ii]</span>
<span id="cb137-7"><a href="midterm-exam.html#cb137-7" aria-hidden="true" tabindex="-1"></a>        own.signal<span class="ot">&lt;-</span>Own.Signal[,ii]</span>
<span id="cb137-8"><a href="midterm-exam.html#cb137-8" aria-hidden="true" tabindex="-1"></a>        prior<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>)</span>
<span id="cb137-9"><a href="midterm-exam.html#cb137-9" aria-hidden="true" tabindex="-1"></a>        predprob<span class="ot">&lt;-</span><span class="fu">c</span>()</span>
<span id="cb137-10"><a href="midterm-exam.html#cb137-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (tt <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(own.signal)) {</span>
<span id="cb137-11"><a href="midterm-exam.html#cb137-11" aria-hidden="true" tabindex="-1"></a>            S<span class="ot">&lt;-</span><span class="fu">rbind</span>(<span class="fu">c</span>(PrSignal<span class="sc">*</span>prior[<span class="dv">1</span>],(<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">1</span>]),<span class="fu">c</span>((<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">2</span>],PrSignal<span class="sc">*</span>prior[<span class="dv">2</span>]))</span>
<span id="cb137-12"><a href="midterm-exam.html#cb137-12" aria-hidden="true" tabindex="-1"></a>            P<span class="ot">&lt;-</span><span class="fu">c</span>(PrSignal<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>(PrSignal<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">2</span>]),</span>
<span id="cb137-13"><a href="midterm-exam.html#cb137-13" aria-hidden="true" tabindex="-1"></a>                 (<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>((<span class="dv">1</span><span class="sc">-</span>PrSignal)<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>PrSignal<span class="sc">*</span>prior[<span class="dv">2</span>]))</span>
<span id="cb137-14"><a href="midterm-exam.html#cb137-14" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb137-15"><a href="midterm-exam.html#cb137-15" aria-hidden="true" tabindex="-1"></a>            tau<span class="ot">&lt;-</span><span class="fu">Tfun</span>(P)</span>
<span id="cb137-16"><a href="midterm-exam.html#cb137-16" aria-hidden="true" tabindex="-1"></a>            predprob<span class="ot">&lt;-</span><span class="fu">c</span>(predprob,tau[<span class="dv">2-1</span><span class="sc">*</span>own.signal[tt]])</span>
<span id="cb137-17"><a href="midterm-exam.html#cb137-17" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb137-18"><a href="midterm-exam.html#cb137-18" aria-hidden="true" tabindex="-1"></a>            R<span class="ot">&lt;-</span>S<span class="sc">%*%</span> tau</span>
<span id="cb137-19"><a href="midterm-exam.html#cb137-19" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb137-20"><a href="midterm-exam.html#cb137-20" aria-hidden="true" tabindex="-1"></a>            pRr<span class="ot">&lt;-</span>R[<span class="dv">1</span>]<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>(R[<span class="dv">1</span>]<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>R[<span class="dv">2</span>]<span class="sc">*</span>prior[<span class="dv">2</span>])</span>
<span id="cb137-21"><a href="midterm-exam.html#cb137-21" aria-hidden="true" tabindex="-1"></a>            pRb<span class="ot">&lt;-</span>(<span class="dv">1</span><span class="sc">-</span>R[<span class="dv">1</span>])<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">/</span>((<span class="dv">1</span><span class="sc">-</span>R[<span class="dv">1</span>])<span class="sc">*</span>prior[<span class="dv">1</span>]<span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>R[<span class="dv">2</span>])<span class="sc">*</span>prior[<span class="dv">2</span>])</span>
<span id="cb137-22"><a href="midterm-exam.html#cb137-22" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb137-23"><a href="midterm-exam.html#cb137-23" aria-hidden="true" tabindex="-1"></a>            pp<span class="ot">&lt;-</span>pRr<span class="sc">*</span>prediction[tt]<span class="sc">+</span>pRb<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span>prediction[tt])</span>
<span id="cb137-24"><a href="midterm-exam.html#cb137-24" aria-hidden="true" tabindex="-1"></a>            prior<span class="ot">&lt;-</span><span class="fu">c</span>(pp,<span class="dv">1</span><span class="sc">-</span>pp)</span>
<span id="cb137-25"><a href="midterm-exam.html#cb137-25" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb137-26"><a href="midterm-exam.html#cb137-26" aria-hidden="true" tabindex="-1"></a>        PredictProb<span class="ot">&lt;-</span><span class="fu">cbind</span>(PredictProb,predprob)</span>
<span id="cb137-27"><a href="midterm-exam.html#cb137-27" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb137-28"><a href="midterm-exam.html#cb137-28" aria-hidden="true" tabindex="-1"></a>    PredictProb</span>
<span id="cb137-29"><a href="midterm-exam.html#cb137-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb137-30"><a href="midterm-exam.html#cb137-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-31"><a href="midterm-exam.html#cb137-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate theta in Model E using MLE</span></span>
<span id="cb137-32"><a href="midterm-exam.html#cb137-32" aria-hidden="true" tabindex="-1"></a>obj<span class="ot">&lt;-</span><span class="cf">function</span>(t) {<span class="sc">-</span><span class="fu">sum</span>(</span>
<span id="cb137-33"><a href="midterm-exam.html#cb137-33" aria-hidden="true" tabindex="-1"></a>    Prediction<span class="sc">*</span><span class="fu">log</span>(<span class="fu">ModelF</span>(Own.Signal,Prediction,t))</span>
<span id="cb137-34"><a href="midterm-exam.html#cb137-34" aria-hidden="true" tabindex="-1"></a>     <span class="sc">+</span>(<span class="dv">1</span><span class="sc">-</span>Prediction)<span class="sc">*</span><span class="fu">log</span>(<span class="dv">1</span><span class="sc">-</span><span class="fu">ModelF</span>(Own.Signal,Prediction,t))</span>
<span id="cb137-35"><a href="midterm-exam.html#cb137-35" aria-hidden="true" tabindex="-1"></a>    )}</span>
<span id="cb137-36"><a href="midterm-exam.html#cb137-36" aria-hidden="true" tabindex="-1"></a>OptimF<span class="ot">&lt;-</span><span class="fu">optimize</span>(obj,<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>))</span>
<span id="cb137-37"><a href="midterm-exam.html#cb137-37" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(OptimF)</span>
<span id="cb137-38"><a href="midterm-exam.html#cb137-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-39"><a href="midterm-exam.html#cb137-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-40"><a href="midterm-exam.html#cb137-40" aria-hidden="true" tabindex="-1"></a>Fit<span class="ot">&lt;-</span><span class="fu">rbind</span>(FIT,<span class="fu">c</span>(<span class="st">&quot;F - logistic choice&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>((Prediction<span class="sc">-</span><span class="fu">ModelF</span>(Own.Signal,Prediction,OptimF<span class="sc">$</span>minimum))<span class="sc">^</span><span class="dv">2</span>),<span class="dv">3</span>)))</span>
<span id="cb137-41"><a href="midterm-exam.html#cb137-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-42"><a href="midterm-exam.html#cb137-42" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(Fit)</span></code></pre></div>
<p>Model F does about as well as A-C</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exams.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
