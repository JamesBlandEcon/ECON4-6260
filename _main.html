<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>ECON 4-6260 Behavioral Economics</title>
  <meta name="description" content="ECON 4-6260 Behavioral Economics" />
  <meta name="generator" content="bookdown #bookdown:version# and GitBook 2.6.7" />

  <meta property="og:title" content="ECON 4-6260 Behavioral Economics" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="ECON 4-6260 Behavioral Economics" />
  
  
  

<meta name="author" content="James Bland" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



<!--bookdown:title:start-->
<div id="header">
<h1 class="title">ECON 4-6260 Behavioral Economics</h1>
<p class="author"><em>James Bland</em></p>
<p class="date"><em>Spring 2021</em></p>
</div>
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#part-common-content-both-econ-4260-and-econ-6260">(PART) Common content (both ECON 4260 and ECON 6260)</a><ul>
<li><a href="#introduction"><span class="toc-section-number">0.1</span> Introduction</a><ul>
<li><a href="#boring-stuff-first-expectation-for-class"><span class="toc-section-number">0.1.1</span> Boring stuff first: Expectation for class</a></li>
<li><a href="#what-will-we-be-studying"><span class="toc-section-number">0.1.2</span> What will we be studying?</a></li>
<li><a href="#doing-economic-research-without-experiments"><span class="toc-section-number">0.1.3</span> Doing economic research without experiments</a></li>
<li><a href="#economic-experiments"><span class="toc-section-number">0.1.4</span> Economic experiments</a></li>
<li><a href="#why-pay-money"><span class="toc-section-number">0.1.5</span> Why pay money?</a></li>
<li><a href="#how-this-will-work-for-econ46260"><span class="toc-section-number">0.1.6</span> How this will work for ECON4/6260</a></li>
<li><a href="#and-now-for-our-first-experiment"><span class="toc-section-number">0.1.7</span> And now for our first experiment</a></li>
<li><a href="#reasons-for-running-an-experiment"><span class="toc-section-number">0.1.8</span> Reasons for running an experiment</a></li>
<li><a href="#studying-theoretical-predictions---i"><span class="toc-section-number">0.1.9</span> Studying theoretical predictions - I</a></li>
<li><a href="#studying-theoretical-predictions---ii"><span class="toc-section-number">0.1.10</span> Studying theoretical predictions - II</a></li>
<li><a href="#studying-theoretical-predictions---iii"><span class="toc-section-number">0.1.11</span> Studying theoretical predictions - III</a></li>
<li><a href="#studying-theoretical-predictions---iv"><span class="toc-section-number">0.1.12</span> Studying theoretical predictions - IV</a></li>
<li><a href="#economic-experiments-and-causality"><span class="toc-section-number">0.1.13</span> Economic experiments and causality</a></li>
<li><a href="#complement-to-data-from-outside-the-lab"><span class="toc-section-number">0.1.14</span> Complement to data from outside the lab</a></li>
<li><a href="#a-roadmap-for-this-course"><span class="toc-section-number">0.1.15</span> A roadmap for this course</a></li>
<li><a href="#outline-of-topics-covered-not-necessarily-in-order"><span class="toc-section-number">0.1.16</span> Outline of topics covered (not necessarily in order)</a></li>
</ul></li>
<li><a href="#markets"><span class="toc-section-number">0.2</span> Markets</a><ul>
<li><a href="#markets-1"><span class="toc-section-number">0.2.1</span> Markets</a></li>
<li><a href="#an-experiment"><span class="toc-section-number">0.2.2</span> An experiment</a></li>
<li><a href="#induced-value-theory"><span class="toc-section-number">0.2.3</span> Induced value theory</a></li>
<li><a href="#in-market-experiments"><span class="toc-section-number">0.2.4</span> In market experiments</a></li>
<li><a href="#numerical-example---buyers"><span class="toc-section-number">0.2.5</span> Numerical example - Buyers</a></li>
<li><a href="#numerical-example---sellers"><span class="toc-section-number">0.2.6</span> Numerical example - Sellers</a></li>
<li><a href="#numerical-example---supply-and-demand-curves"><span class="toc-section-number">0.2.7</span> Numerical example - Supply and demand curves</a></li>
<li><a href="#point-predictions-from-markets"><span class="toc-section-number">0.2.8</span> Point predictions from markets</a></li>
<li><a href="#point-predictions"><span class="toc-section-number">0.2.9</span> Point predictions</a></li>
<li><a href="#comparative-static-predictions"><span class="toc-section-number">0.2.10</span> Comparative static predictions</a></li>
<li><a href="#other-take-aways"><span class="toc-section-number">0.2.11</span> Other take-aways</a></li>
</ul></li>
<li><a href="#risk-and-decision-making"><span class="toc-section-number">0.3</span> Risk and decision-making</a><ul>
<li><a href="#risk-and-uncertainty"><span class="toc-section-number">0.3.1</span> Risk and uncertainty</a></li>
<li><a href="#example-insurance"><span class="toc-section-number">0.3.2</span> Example: Insurance</a></li>
<li><a href="#expected-value"><span class="toc-section-number">0.3.3</span> Expected value</a></li>
<li><a href="#expected-value-1"><span class="toc-section-number">0.3.4</span> Expected Value</a></li>
<li><a href="#but-most-people-care-about-risk"><span class="toc-section-number">0.3.5</span> But most people care about risk!</a></li>
<li><a href="#expected-utility-theory"><span class="toc-section-number">0.3.6</span> Expected utility theory</a></li>
<li><a href="#insurance-with-risk-aversion"><span class="toc-section-number">0.3.7</span> Insurance with risk aversion</a></li>
<li><a href="#insurance-with-risk-aversion---graphically"><span class="toc-section-number">0.3.8</span> Insurance with risk aversion - graphically</a></li>
</ul></li>
</ul></li>
<li><a href="#part-masters-only-content-econ-6260"><span class="toc-section-number">1</span> (PART) Masters-only content (ECON 6260)</a><ul>
<li><a href="#reading-which-is-the-fair-sex"><span class="toc-section-number">1.1</span> Reading: Which is the fair sex?</a><ul>
<li><a href="#plot-the-budget-sets"><span class="toc-section-number">1.1.1</span> plot the budget sets</a></li>
<li><a href="#classification-into-3-types-of-subject"><span class="toc-section-number">1.1.2</span> Classification into 3 types of subject</a></li>
</ul></li>
</ul></li>
<li><a href="#part-problem-sets"><span class="toc-section-number">2</span> (PART) Problem sets</a><ul>
<li><a href="#guessing-game"><span class="toc-section-number">2.1</span> Guessing Game</a><ul>
<li><a href="#a-description-of-what-happened"><span class="toc-section-number">2.1.1</span> A description of what happened</a></li>
<li><a href="#your-homework-assignment"><span class="toc-section-number">2.1.2</span> Your homework assignment</a></li>
<li><a href="#solutions"><span class="toc-section-number">2.1.3</span> Solutions</a></li>
</ul></li>
<li><a href="#markets-2"><span class="toc-section-number">2.2</span> Markets</a><ul>
<li><a href="#your-homework-assignment-1"><span class="toc-section-number">2.2.1</span> Your homework assignment</a></li>
<li><a href="#solutions-1"><span class="toc-section-number">2.2.2</span> Solutions</a></li>
</ul></li>
<li><a href="#risk"><span class="toc-section-number">2.3</span> Risk</a><ul>
<li><a href="#questions"><span class="toc-section-number">2.3.1</span> Questions</a></li>
</ul></li>
</ul></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ECON 4-6260 Behavioral Economics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<div id="part-common-content-both-econ-4260-and-econ-6260" class="section level1 unnumbered">
<h1>(PART) Common content (both ECON 4260 and ECON 6260)</h1>
<hr />
<div id="introduction" class="section level2">
<h2><span class="header-section-number">0.1</span> Introduction</h2>
<div id="boring-stuff-first-expectation-for-class" class="section level3">
<h3><span class="header-section-number">0.1.1</span> Boring stuff first: Expectation for class</h3>
<ul>
<li>We will start and finish on time</li>
<li>Attendance is expected</li>
<li>All due dates are final outside of excused absences</li>
<li>You are checking your UToledo email</li>
<li>You have read and understand the Syllabus</li>
<li>For all classroom experiments, at least one person will be paid. You will understand the payment mechanism before starting an experiment.</li>
</ul>
<hr />
</div>
<div id="what-will-we-be-studying" class="section level3">
<h3><span class="header-section-number">0.1.2</span> What will we be studying?</h3>
<ul>
<li>Insights from Psychology
<ul>
<li>Especially judgment &amp; decision-making</li>
</ul></li>
<li>Extensions of “standard” (non-behavioral) economic theory
<ul>
<li>Markets</li>
<li>Choice theory</li>
<li>Games</li>
</ul></li>
<li>Experimental methods</li>
<li>Non-experimental methods</li>
</ul>
<hr />
</div>
<div id="doing-economic-research-without-experiments" class="section level3">
<h3><span class="header-section-number">0.1.3</span> Doing economic research without experiments</h3>
<p>Research question <span class="math inline">\(\rightarrow\)</span> I need data</p>
<ul>
<li>Data might not exactly answer the research question</li>
<li>Often difficult to establish a causal relationship</li>
<li>Often requires assumptions to be made about the data that you cannot test.</li>
</ul>
<p>I have data <span class="math inline">\(\rightarrow\)</span> what questions can I answer?</p>
<ul>
<li>Limits the questions you can answer</li>
<li>Still difficult to establish a causal relationship</li>
<li>Still (often) requires untestable assumptions</li>
</ul>
<hr />
</div>
<div id="economic-experiments" class="section level3">
<h3><span class="header-section-number">0.1.4</span> Economic experiments</h3>
<p>We will be using economic experiments to learn about concepts in Behavioral Economics.</p>
<p>Mostly, we will use <em>laboratory experiments</em></p>
<ul>
<li>Use people who have volunteered to participate. Usually undergrads.
<ul>
<li>In this class: you</li>
</ul></li>
<li>Give them a task to perform, and observe their behavior.</li>
<li>Pay them money based on their decisions</li>
</ul>
<hr />
</div>
<div id="why-pay-money" class="section level3">
<h3><span class="header-section-number">0.1.5</span> Why pay money?</h3>
<p>Mankiw’s <em>10 Principles of Economics</em>: “4. People respond to incentives”</p>
<p>If I pay you enough, I will have a good idea about what your incentives are.</p>
<p>This means that:</p>
<ul>
<li>Participants need to understand {} decisions determine payments
<ul>
<li>Explain to participants how this works before they make decisions (and maybe verify)</li>
</ul></li>
<li>Participants need to believe that decisions <em>will</em> determine payments
<ul>
<li>The experimenter will never lie to participants</li>
</ul></li>
<li>Payments need to care enough about the reward mechanism that they will respond to it
<ul>
<li>We can’t pay you in chocolate or Monopoly money, or ask you to make hypothetical choices. We use US dollars!</li>
</ul></li>
</ul>
<hr />
</div>
<div id="how-this-will-work-for-econ46260" class="section level3">
<h3><span class="header-section-number">0.1.6</span> How this will work for ECON4/6260</h3>
<ul>
<li><p>I have approval from the Department of Economics to pay you in US dollars</p></li>
<li><p>If I pay you, I will need to record your name and how much I paid you</p></li>
<li><p>I don’t have enough to pay everybody every time. I will randomly select (at least) one person to be paid after each experiment. You will not know who is getting paid until all decisions have been made.</p></li>
<li><p>As this is an online class, I will give you several choices of how you can be paid</p></li>
<li><p>This is not my money, so don’t feel badly about taking it</p></li>
<li><p>Don’t rely on it for lunch, car payments, etc.</p></li>
</ul>
<hr />
</div>
<div id="and-now-for-our-first-experiment" class="section level3">
<h3><span class="header-section-number">0.1.7</span> And now for our first experiment</h3>
<p>…</p>
<hr />
</div>
<div id="reasons-for-running-an-experiment" class="section level3">
<h3><span class="header-section-number">0.1.8</span> Reasons for running an experiment</h3>
<p>Studying theoretical predictions</p>
<ul>
<li>Point and comparative static predictions</li>
<li>Comparing the predictions of two or more theories</li>
</ul>
<p>Studying behavioral assumptions</p>
<ul>
<li>Maybe a theory performs poorly. Can we work out which assumption(s) is (are) causing this?</li>
<li>E.g. Are people selfish? Do people maximize expected value? Do people ignore sunk costs?</li>
</ul>
<p>Establishing behavioral regularities</p>
<ul>
<li>Does the theory make more than one prediction? (multiple equilibria)</li>
<li>Explore behavior to help us make better behavioral assumptions</li>
</ul>
<p>Further reading:</p>
<blockquote>
<p>Nikiforakis, Nikos. <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/j.1467-8462.2010.00607.x?casa_token=K6AYdLRDvdAAAAAA%3AideO69vzWNyKiBui76sE4jOLASAPBw0JoDZ97Uxy0POWYZ_pOV-T1feeFWAOtUdY9fWIYXcFSNGe3RJ6">“For the student: experimental economics.”</a> Australian Economic Review 43, no. 3 (2010): 337-345.</p>
</blockquote>
<hr />
</div>
<div id="studying-theoretical-predictions---i" class="section level3">
<h3><span class="header-section-number">0.1.9</span> Studying theoretical predictions - I</h3>
<p>Suppose that you have a theory that makes a prediction <span class="math inline">\(f(x)\)</span> for situation <span class="math inline">\(x\)</span>.</p>
<p>e.g.:</p>
<ul>
<li>When the temperature is <span class="math inline">\(x^\circ\mathrm F\)</span>, <span class="math inline">\(f(x)=10+3x\)</span> pints of ice cream will be sold</li>
</ul>
<p><strong>Point predictions</strong>: Given situation <span class="math inline">\(x\)</span>, <span class="math inline">\(f(x)\)</span> will happen</p>
<ul>
<li>When the temperature is <span class="math inline">\(90^\circ \mathrm F\)</span>, <span class="math inline">\(280 = 10 + 3\times 90\)</span> pints of ice cream will be sold</li>
</ul>
<p><strong>Comparative static predictions</strong>: When <span class="math inline">\(x\)</span> increases, <span class="math inline">\(f(x)\)</span> increases (or decreases, or nothing happens to <span class="math inline">\(f(x)\)</span>)</p>
<ul>
<li>When temperature increases, ice cream sales increase.</li>
<li>When temperature increases by <span class="math inline">\(1^\circ \mathrm F\)</span>, ice cream sales increase by 3 pints.</li>
</ul>
<p><em>When are each of these useful?</em></p>
<hr />
</div>
<div id="studying-theoretical-predictions---ii" class="section level3">
<h3><span class="header-section-number">0.1.10</span> Studying theoretical predictions - II</h3>
<p><strong>Comparing two or more theories</strong></p>
<p>I have two theories about how <span class="math inline">\(x\)</span> affects an outcome. These theories are <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span>. I wish to understand whether one makes better predictions than another.</p>
<p><img src="_main_files/figure-html/Intro-comparing-theories-1.png" width="960" /></p>
<hr />
</div>
<div id="studying-theoretical-predictions---iii" class="section level3">
<h3><span class="header-section-number">0.1.11</span> Studying theoretical predictions - III</h3>
<p><strong>Comparing two or more theories</strong>: Sometimes both are important!</p>
<p><img src="_main_files/figure-html/Intro-comparing-theories-III-1.png" width="960" /></p>
<hr />
</div>
<div id="studying-theoretical-predictions---iv" class="section level3">
<h3><span class="header-section-number">0.1.12</span> Studying theoretical predictions - IV</h3>
<p><strong>Comparing two or more theories</strong>: Sometimes they are all useless</p>
<p><img src="_main_files/figure-html/Intro-comparing-theories-IV-1.png" width="960" /></p>
<hr />
</div>
<div id="economic-experiments-and-causality" class="section level3">
<h3><span class="header-section-number">0.1.13</span> Economic experiments and causality</h3>
<p>Conduct a study that resembles a drug trial.</p>
<p>Often referred to as a “randomized controlled trial”</p>
<p>Drug trials:</p>
<ul>
<li>Randomly assign people to two groups</li>
<li>One group gets the treatment (i.e. they get the drug)</li>
<li>One group doesn’t get the drug (or a placebo)</li>
<li>Random assignment ensures that differences between groups’ health outcomes could only be due to the drug</li>
</ul>
<p>Economic experiments:</p>
<ul>
<li>Instead of health outcomes, we are interested in peoples’ decisions</li>
<li>Instead of drugs, we will be treating people with <em>different incentives</em></li>
<li>Many field experiments use this format, e.g the work associated with the <a href="https://www.nobelprize.org/prizes/economic-sciences/2019/press-release/">2019 Nobel prize in Economics</a></li>
</ul>
<hr />
</div>
<div id="complement-to-data-from-outside-the-lab" class="section level3">
<h3><span class="header-section-number">0.1.14</span> Complement to data from outside the lab</h3>
<p>Example: ECON1200 model of a market.</p>
<ul>
<li>Buyers with values</li>
<li>Sellers with costs</li>
<li>If we know all of these, we can calculate the equilibrium price and quantity</li>
</ul>
<p>Outside the lab:</p>
<ul>
<li>Buyers might not want to tell you their values</li>
<li>Sellers will probably lie to you about costs</li>
<li>We can easily observe price and quantity, but not the values and costs that got us there</li>
</ul>
<p>Inside the lab:</p>
<ul>
<li>We can assign buyers and sellers values and costs</li>
<li>Hence, we know what the theory predicts, and we can observe the outcomes.</li>
</ul>
<hr />
</div>
<div id="a-roadmap-for-this-course" class="section level3">
<h3><span class="header-section-number">0.1.15</span> A roadmap for this course</h3>
<p>Usually, I will introduce a topic with an experiment.</p>
<p>Then, you will have a homework assignment based on the data from the experiment</p>
<p>We will discuss this in the next class</p>
<p>For 6260 students, we will use our extra hour mostly as a reading group. I will assign the first few readings, but I am very open to suggestions.</p>
<hr />
</div>
<div id="outline-of-topics-covered-not-necessarily-in-order" class="section level3">
<h3><span class="header-section-number">0.1.16</span> Outline of topics covered (not necessarily in order)</h3>
<ul>
<li>Game theory
<ul>
<li>How do economists model interactions in small groups?</li>
<li>Key concepts: Nash Equilibrium, best response, mixed and pure strategies</li>
<li>Single-shot games, sequential games, Bayesian games</li>
</ul></li>
<li>Behavioral Game Theory
<ul>
<li>Incorporating insights from decision theory into game theory</li>
<li>Noisy behavior in equilibrium</li>
<li>Other departures from the <em>Homo Economicus</em> assumption</li>
<li>Non-standard preferences</li>
</ul></li>
<li>Preferences &amp; Decisions
<ul>
<li>Risk</li>
<li>Probability judgment</li>
<li>Other-regarding preferences</li>
</ul></li>
</ul>
</div>
</div>
<div id="markets" class="section level2">
<h2><span class="header-section-number">0.2</span> Markets</h2>
<div id="markets-1" class="section level3">
<h3><span class="header-section-number">0.2.1</span> Markets</h3>
<ul>
<li><p>Probably one of the first things you learned about in a <em>Principles of Microeconomics</em> course</p></li>
<li><p>A group of buyers, each with values for purchasing items</p>
<ul>
<li>Implies a downward-sloping demand curve</li>
</ul></li>
<li><p>A group of sellers, each with costs of selling item</p>
<ul>
<li>Implies an upward-sloping supply curve</li>
</ul></li>
<li><p>This is enough to calculate the equilibrium price and quantity</p></li>
</ul>
<p>However:
* One cannot just ask buyers what there values are
* One cannot just ask sellers what their values are</p>
<p>(why not?)</p>
<hr />
</div>
<div id="an-experiment" class="section level3">
<h3><span class="header-section-number">0.2.2</span> An experiment</h3>
<p>…</p>
<hr />
</div>
<div id="induced-value-theory" class="section level3">
<h3><span class="header-section-number">0.2.3</span> Induced value theory</h3>
<p>Simple version: <em>Pay people enough money, and they will behave as if these are their incentives</em></p>
<p>More formally, if for a participant in an experiment:
* taking action <span class="math inline">\(a\)</span> results in payment $A
* taking action <span class="math inline">\(b\)</span> results in payment $B</p>
<p>Then they will only choose action <span class="math inline">\(a\)</span> if <span class="math inline">\(A \geq B\)</span>, and will only choose action <span class="math inline">\(b\)</span> if <span class="math inline">\(B\geq A\)</span>.</p>
<p><strong>Caveats</strong>: <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> need to be large enough that participants pay attention to them (salience)</p>
<ul>
<li>Don’t pay in Monopoly money, chocolate, etc</li>
<li>Maintain assumption that participants don’t care about the earnings of others (selfishness)</li>
<li>Participants need to understand how their actions lead to payments</li>
<li>Participants need to believe that their actions will lead to payments</li>
</ul>
<hr />
</div>
<div id="in-market-experiments" class="section level3">
<h3><span class="header-section-number">0.2.4</span> In market experiments</h3>
<ul>
<li>Each buyer <span class="math inline">\(i\)</span> has values <span class="math inline">\(v_{i,1}\geq v_{i,2}\geq v_{i,3} \ldots\)</span>.</li>
<li>Each seller <span class="math inline">\(j\)</span> has costs <span class="math inline">\(c_{i,1}\leq c_{i,2}\leq c_{i,3} \ldots\)</span>.</li>
<li>If buyer <span class="math inline">\(i\)</span> buys from seller <span class="math inline">\(j\)</span> at price <span class="math inline">\(p\)</span>:
<ul>
<li>Buyer <span class="math inline">\(i\)</span> earns <span class="math inline">\(\$ v_{i,1}-p\)</span></li>
<li>Seller <span class="math inline">\(j\)</span> earns <span class="math inline">\(\$ p-c_{j,1}\)</span></li>
</ul></li>
</ul>
<p>(if this is the first trade for both)</p>
<hr />
</div>
<div id="numerical-example---buyers" class="section level3">
<h3><span class="header-section-number">0.2.5</span> Numerical example - Buyers</h3>
<p>There are 10 buyers, each buyer has a value equal to a 15-sided die roll plus 3, and can buy at most 3 items:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>nBuyers&lt;-<span class="dv">10</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>nItems&lt;-<span class="dv">3</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>Demand&lt;-<span class="kw">data.frame</span>()</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="cf">for</span> (bb <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>nBuyers) {</span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="co"># value for that individual buyer</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>  v&lt;-<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>,nItems,<span class="dt">replace=</span>T)<span class="op">+</span><span class="dv">3</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  tmp&lt;-<span class="kw">data.frame</span>(v)</span>
<span id="cb1-9"><a href="#cb1-9"></a>  tmp<span class="op">$</span>BuyerID&lt;-bb</span>
<span id="cb1-10"><a href="#cb1-10"></a>  Demand&lt;-<span class="kw">rbind</span>(Demand,tmp)</span>
<span id="cb1-11"><a href="#cb1-11"></a>}</span>
<span id="cb1-12"><a href="#cb1-12"></a>plt&lt;-(</span>
<span id="cb1-13"><a href="#cb1-13"></a>  <span class="kw">ggplot</span>(<span class="dt">data=</span>Demand,<span class="kw">aes</span>(<span class="dt">x=</span>v))<span class="op">+</span><span class="kw">geom_histogram</span>(<span class="dt">bins=</span><span class="dv">10</span>)</span>
<span id="cb1-14"><a href="#cb1-14"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb1-15"><a href="#cb1-15"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Values&quot;</span>)</span>
<span id="cb1-16"><a href="#cb1-16"></a>  <span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;count&quot;</span>)</span>
<span id="cb1-17"><a href="#cb1-17"></a>)</span></code></pre></div>
<hr />
<p><img src="_main_files/figure-html/unnamed-chunk-11-1.png" width="576" /></p>
<hr />
</div>
<div id="numerical-example---sellers" class="section level3">
<h3><span class="header-section-number">0.2.6</span> Numerical example - Sellers</h3>
<p>There are 20 sellers, each seller has a cost equal to a 10-sided die roll, and can sell at most 2 items:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>nSellers&lt;-<span class="dv">10</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>nItems&lt;-<span class="dv">2</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>Supply&lt;-<span class="kw">data.frame</span>()</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="cf">for</span> (ss <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>nSellers) {</span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="co"># value for that individual buyer</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>  c&lt;-<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,nItems,<span class="dt">replace=</span>T)</span>
<span id="cb2-7"><a href="#cb2-7"></a>  tmp&lt;-<span class="kw">data.frame</span>(c)</span>
<span id="cb2-8"><a href="#cb2-8"></a>  tmp<span class="op">$</span>SellerID&lt;-ss</span>
<span id="cb2-9"><a href="#cb2-9"></a>  Supply&lt;-<span class="kw">rbind</span>(Supply,tmp)</span>
<span id="cb2-10"><a href="#cb2-10"></a>}</span>
<span id="cb2-11"><a href="#cb2-11"></a>plt&lt;-(</span>
<span id="cb2-12"><a href="#cb2-12"></a>  <span class="kw">ggplot</span>(<span class="dt">data=</span>Supply,<span class="kw">aes</span>(<span class="dt">x=</span>c))<span class="op">+</span><span class="kw">geom_histogram</span>(<span class="dt">bins=</span><span class="dv">10</span>)</span>
<span id="cb2-13"><a href="#cb2-13"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb2-14"><a href="#cb2-14"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Costs&quot;</span>)</span>
<span id="cb2-15"><a href="#cb2-15"></a>  <span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;count&quot;</span>)</span>
<span id="cb2-16"><a href="#cb2-16"></a>)</span></code></pre></div>
<hr />
<p><img src="_main_files/figure-html/unnamed-chunk-13-1.png" width="576" /></p>
<hr />
</div>
<div id="numerical-example---supply-and-demand-curves" class="section level3">
<h3><span class="header-section-number">0.2.7</span> Numerical example - Supply and demand curves</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>P&lt;-<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">20</span>,<span class="dt">length=</span><span class="dv">1000</span>) <span class="co"># prices to evaluate quantity</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>SF&lt;-<span class="cf">function</span>(p) {</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="kw">sum</span>(Supply<span class="op">$</span>c<span class="op">&lt;=</span>p)</span>
<span id="cb3-4"><a href="#cb3-4"></a>}</span>
<span id="cb3-5"><a href="#cb3-5"></a>DF&lt;-<span class="cf">function</span>(p) {</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="kw">sum</span>(Demand<span class="op">$</span>v<span class="op">&gt;=</span>p)</span>
<span id="cb3-7"><a href="#cb3-7"></a>}</span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a>SupplyDemand&lt;-<span class="kw">data.frame</span>()</span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="cf">for</span> (pp <span class="cf">in</span> P) {</span>
<span id="cb3-11"><a href="#cb3-11"></a>  p&lt;-pp</span>
<span id="cb3-12"><a href="#cb3-12"></a>  Q&lt;-<span class="kw">DF</span>(pp)</span>
<span id="cb3-13"><a href="#cb3-13"></a>  type=<span class="st">&quot;demand&quot;</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>  SupplyDemand&lt;-<span class="kw">rbind</span>(SupplyDemand,<span class="kw">data.frame</span>(p,Q,type))</span>
<span id="cb3-15"><a href="#cb3-15"></a>  Q&lt;-<span class="kw">SF</span>(pp)</span>
<span id="cb3-16"><a href="#cb3-16"></a>  type=<span class="st">&quot;supply&quot;</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>  SupplyDemand&lt;-<span class="kw">rbind</span>(SupplyDemand,<span class="kw">data.frame</span>(p,Q,type))</span>
<span id="cb3-18"><a href="#cb3-18"></a>  </span>
<span id="cb3-19"><a href="#cb3-19"></a>}</span>
<span id="cb3-20"><a href="#cb3-20"></a>plt&lt;-(<span class="kw">ggplot</span>(<span class="dt">data=</span>SupplyDemand,<span class="kw">aes</span>(<span class="dt">x=</span>Q,<span class="dt">y=</span>p,<span class="dt">color=</span>type))</span>
<span id="cb3-21"><a href="#cb3-21"></a>  <span class="op">+</span><span class="kw">geom_path</span>()<span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb3-22"><a href="#cb3-22"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Q&quot;</span>)<span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;P&quot;</span>)</span>
<span id="cb3-23"><a href="#cb3-23"></a>  <span class="op">+</span><span class="kw">theme</span>(<span class="dt">legend.title =</span> <span class="kw">element_blank</span>(),</span>
<span id="cb3-24"><a href="#cb3-24"></a>         <span class="dt">legend.position=</span><span class="kw">c</span>(<span class="fl">0.8</span>,<span class="fl">0.8</span>))</span>
<span id="cb3-25"><a href="#cb3-25"></a>)</span></code></pre></div>
<hr />
<p><img src="_main_files/figure-html/unnamed-chunk-15-1.png" width="384" /></p>
<hr />
</div>
<div id="point-predictions-from-markets" class="section level3">
<h3><span class="header-section-number">0.2.8</span> Point predictions from markets</h3>
<ul>
<li>Equilibrium price and quantity</li>
<li>Which buyers trade?</li>
<li>Which sellers trade?</li>
<li>Consumer and producer surplus</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>ExcessDemand&lt;-<span class="kw">apply</span>(<span class="kw">as.matrix</span>(P),</span>
<span id="cb4-2"><a href="#cb4-2"></a>                    <span class="dt">FUN =</span> <span class="cf">function</span>(x) {<span class="kw">DF</span>(x)<span class="op">-</span><span class="kw">SF</span>(x)},</span>
<span id="cb4-3"><a href="#cb4-3"></a>                    <span class="dt">MARGIN=</span><span class="dv">1</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>Peq&lt;-P[<span class="kw">which.min</span>(<span class="kw">abs</span>(ExcessDemand))]</span>
<span id="cb4-6"><a href="#cb4-6"></a>Qeq&lt;-<span class="kw">c</span>(<span class="kw">DF</span>(Peq),<span class="kw">SF</span>(Peq))</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># equilibrium price</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="kw">print</span>(Peq)</span></code></pre></div>
<pre><code>## [1] 8.008008</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># equilibrium quantity</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">print</span>(Qeq)</span></code></pre></div>
<pre><code>## [1] 15 17</code></pre>
<hr />
</div>
<div id="point-predictions" class="section level3">
<h3><span class="header-section-number">0.2.9</span> Point predictions</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>plt&lt;-(plt</span>
<span id="cb8-2"><a href="#cb8-2"></a>      <span class="op">+</span><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span>Peq,</span>
<span id="cb8-3"><a href="#cb8-3"></a>                  <span class="dt">color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb8-4"><a href="#cb8-4"></a>                  <span class="dt">linetype=</span><span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb8-5"><a href="#cb8-5"></a>      <span class="op">+</span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span>Qeq,</span>
<span id="cb8-6"><a href="#cb8-6"></a>                  <span class="dt">color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>                  <span class="dt">linetype=</span><span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb8-8"><a href="#cb8-8"></a>)</span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a>CS&lt;-<span class="kw">sum</span>((Demand <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(v<span class="op">&gt;=</span>Peq))<span class="op">$</span>v)</span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="kw">print</span>(CS)</span></code></pre></div>
<pre><code>## [1] 209</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>PS&lt;-<span class="kw">sum</span>((Supply <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(c<span class="op">&lt;=</span>Peq))<span class="op">$</span>c)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="kw">print</span>(PS)</span></code></pre></div>
<pre><code>## [1] 76</code></pre>
<hr />
<p><img src="_main_files/figure-html/unnamed-chunk-18-1.png" width="576" /></p>
<p><br />
</p>
<hr />
</div>
<div id="comparative-static-predictions" class="section level3">
<h3><span class="header-section-number">0.2.10</span> Comparative static predictions</h3>
<p>What happens to any of the above if?</p>
<ul>
<li>Supply or demand shift?</li>
<li>The government imposes a tax?</li>
<li>The government subsidizes the good?</li>
<li>The government imposes a price floor or ceiling?</li>
</ul>
<hr />
</div>
<div id="other-take-aways" class="section level3">
<h3><span class="header-section-number">0.2.11</span> Other take-aways</h3>
<ul>
<li>Market theory remains silent on <em>how</em> buyers and sellers discover the equilibrium price</li>
<li>Market theory remains silent on whether different trading mechanisms affect price discovery.</li>
</ul>
<style>
.forceBreak { -webkit-column-break-after: always; break-after: column; }
</style>
</div>
</div>
<div id="risk-and-decision-making" class="section level2">
<h2><span class="header-section-number">0.3</span> Risk and decision-making</h2>
<hr />
<div id="risk-and-uncertainty" class="section level3">
<h3><span class="header-section-number">0.3.1</span> Risk and uncertainty</h3>
<p>Common attributes of many decisions that we make:</p>
<ul>
<li>Should I drive my car today?</li>
<li>Should eat something that has a “sell by” date of one week ago?</li>
<li>If I go to the grocery store, what is the probability that I will contract COVID-19?</li>
<li>Should I study and revise a particular slide for an exam?</li>
</ul>
<p>Here we will make a distinction between:</p>
<ul>
<li><strong>Risk</strong> I know (or at least can estimate) the probabilities of events when I make my decisions:
<ul>
<li>Die rolls</li>
<li>Gambling at a casino</li>
<li>Buying car insurance (if I know the probability that I will crash)</li>
</ul></li>
<li><strong>Uncertainty</strong> I don’t know the probabilities when I make my decisions:
<ul>
<li>If you don’t know the motivations of others</li>
<li>If the decision problem is too complicated</li>
</ul></li>
</ul>
<p>In this chapter, we will focus on <strong>Risk</strong></p>
<hr />
</div>
<div id="example-insurance" class="section level3">
<h3><span class="header-section-number">0.3.2</span> Example: Insurance</h3>
<blockquote>
<p>I can buy car insurance for $P. The following table shows probabilities and outcomes of particular events.</p>
</blockquote>
<table>
<thead>
<tr class="header">
<th align="left">Event</th>
<th align="left">Probability</th>
<th align="right">Loss</th>
<th align="right">Initial.Wealth</th>
<th align="right">Without.Insurance</th>
<th align="left">With.Insurance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1 - no crash</td>
<td align="left">1/6</td>
<td align="right">0</td>
<td align="right">30000</td>
<td align="right">30000</td>
<td align="left">30000 - P</td>
</tr>
<tr class="even">
<td align="left">2 - a minor ding</td>
<td align="left">1/6</td>
<td align="right">100</td>
<td align="right">30000</td>
<td align="right">29900</td>
<td align="left">30000 - P</td>
</tr>
<tr class="odd">
<td align="left">3 - panel replaced</td>
<td align="left">1/6</td>
<td align="right">800</td>
<td align="right">30000</td>
<td align="right">29200</td>
<td align="left">30000 - P</td>
</tr>
<tr class="even">
<td align="left">4 - three panels replaced</td>
<td align="left">1/6</td>
<td align="right">2700</td>
<td align="right">30000</td>
<td align="right">27300</td>
<td align="left">30000 - P</td>
</tr>
<tr class="odd">
<td align="left">5 - new engine</td>
<td align="left">1/6</td>
<td align="right">6400</td>
<td align="right">30000</td>
<td align="right">23600</td>
<td align="left">30000 - P</td>
</tr>
<tr class="even">
<td align="left">6 - car totaled</td>
<td align="left">1/6</td>
<td align="right">12500</td>
<td align="right">30000</td>
<td align="right">17500</td>
<td align="left">30000 - P</td>
</tr>
</tbody>
</table>
<p>How much am I willing to pay for this insurance?</p>
<hr />
</div>
<div id="expected-value" class="section level3">
<h3><span class="header-section-number">0.3.3</span> Expected value</h3>
<p>One approach would be to determine the expected value of having and not having insurance. The insurance guarantees that my bank balance will be <span class="math inline">\(\$ 30000-P\)</span>. What is my “average” bank balance if I do not purchase the insurance?</p>
<p><strong>Definition: Expected value </strong>: if <span class="math inline">\(X\)</span> is a real-valued random variable with probability mass function <span class="math inline">\(p_X(x)=\Pr(X=x)\)</span>, and support <span class="math inline">\(\mathbb X\)</span> (the possible values of <span class="math inline">\(X\)</span>) then the expected value (or expectation) of <span class="math inline">\(X\)</span> is:</p>
<p><span class="math display">\[
\begin{aligned}
E(X)&amp;=\sum_{x\in\mathbb X} x p_X(x)
\end{aligned}
\]</span></p>
<p><em>example on doc cam</em></p>
<hr />
</div>
<div id="expected-value-1" class="section level3">
<h3><span class="header-section-number">0.3.4</span> Expected Value</h3>
<p>Support : <span class="math inline">\(\mathbb X =\{ `r paste(Without.Insurance)1\}\)</span></p>
<p>Probability mass function:
<span class="math display">\[p_X(x)=\begin{cases}
\frac16 &amp;\text{if }x\in\mathbb X\\
0&amp;\text{Otherwise}
\end{cases}
\]</span></p>
<p><span class="math display">\[\begin{aligned} E(x)&amp;=\sum_{x\in\mathbb X} x p_X(x) \\ 
 &amp;= 30000 \times \frac16+29900 \times \frac16+29200 \times \frac16+27300 \times \frac16+23600 \times \frac16+17500 \times \frac16 \\ 
 &amp;= 26250 \\ 
 \end{aligned}\]</span></p>
<p>Therefore you will be willing to pay <span class="math inline">\(P=\$30000-26250=\$3750\)</span> for the insurance.</p>
<hr />
</div>
<div id="but-most-people-care-about-risk" class="section level3">
<h3><span class="header-section-number">0.3.5</span> But most people care about risk!</h3>
<p><span class="math display">\[
\begin{aligned}
\mathbb X = \{\$1,\$2,\$3\}
,\ L_1:\ p^1_X = \{0.5,0.0, 0.5\} ,\quad L_2:\ p^2_X = \{0.0,1.0, 0.0\}
\end{aligned}
\]</span></p>
<p>Most people would choose <span class="math inline">\(L_2\)</span> in this situation.</p>
<hr />
</div>
<div id="expected-utility-theory" class="section level3">
<h3><span class="header-section-number">0.3.6</span> Expected utility theory</h3>
<p>Instead of maximizing:</p>
<p><span class="math display">\[
E(X)=\sum_{x\in\mathbb X} xp_X(x)
\]</span></p>
<p>People maximize expected utility:
<span class="math display">\[
EU=\sum_{x\in\mathbb X} u(x)p_X(x)
\]</span></p>
<p>where <span class="math inline">\(u(x)\)</span> is a “utility (of money) function”</p>
<ul>
<li><span class="math inline">\(u\)</span> is <em>increasing</em></li>
<li>If <span class="math inline">\(u\)</span> is concave, this I am risk-averse</li>
<li>If <span class="math inline">\(u\)</span> is convex, this I am risk-loving</li>
</ul>
<hr />
</div>
<div id="insurance-with-risk-aversion" class="section level3">
<h3><span class="header-section-number">0.3.7</span> Insurance with risk aversion</h3>
<p>Assume <span class="math inline">\(u(x)=x^\alpha\)</span> (replace <span class="math inline">\(\alpha=0.5\)</span> for <span class="math inline">\(u(x)=\sqrt x\)</span> if it helps)</p>
<p>Expected utility without insurance</p>
<p><span class="math display">\[\begin{aligned} E(u(x))&amp;=\sum_{x\in\mathbb X} u(x) p_X(x) =\sum_{x\in\mathbb X} x^\alpha p_X(x) \\ 
 &amp;=\frac16\left( 30000 ^\alpha+29900 ^\alpha+29200 ^\alpha+27300 ^\alpha+23600 ^\alpha+17500 ^\alpha \right) \end{aligned}\]</span>
For <span class="math inline">\(\alpha=0.5\)</span>, this becomes 161.4</p>
<p>Expected utility with insurance:</p>
<p><span class="math display">\[
E(u(30000-P))=(30000-P)^\alpha
\]</span></p>
<p>So you should buy insurance if and only if:</p>
<p><span class="math display">\[\begin{aligned} (30000-P)^\alpha &amp;\geq \frac16\left( 30000 ^\alpha+29900 ^\alpha+29200 ^\alpha+27300 ^\alpha+23600 ^\alpha+17500 ^\alpha \right) \\ P&amp;\leq 30000-\left(\frac16\left( 30000 ^\alpha+29900 ^\alpha+29200 ^\alpha+27300 ^\alpha+23600 ^\alpha+17500 ^\alpha \right)\right)^{\frac1\alpha} \end{aligned}\]</span></p>
<hr />
</div>
<div id="insurance-with-risk-aversion---graphically" class="section level3">
<h3><span class="header-section-number">0.3.8</span> Insurance with risk aversion - graphically</h3>
<p><img src="_main_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="part-masters-only-content-econ-6260" class="section level1">
<h1><span class="header-section-number">1</span> (PART) Masters-only content (ECON 6260)</h1>
<div id="reading-which-is-the-fair-sex" class="section level2">
<h2><span class="header-section-number">1.1</span> Reading: Which is the fair sex?</h2>
<blockquote>
<p>Andreoni, James, and Lise Vesterlund. “Which is the fair sex? Gender differences in altruism.” The Quarterly Journal of Economics 116, no. 1 (2001): 293-312.</p>
</blockquote>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a>params&lt;-<span class="kw">data.frame</span>((<span class="kw">read.csv</span>(<span class="st">&quot;AV2001parameters.csv&quot;</span>)))</span>
<span id="cb12-6"><a href="#cb12-6"></a>D&lt;-<span class="kw">read.csv</span>(<span class="st">&quot;AV2001choices.csv&quot;</span>)</span>
<span id="cb12-7"><a href="#cb12-7"></a></span>
<span id="cb12-8"><a href="#cb12-8"></a>D<span class="op">$</span>id&lt;-D<span class="op">$</span>X</span>
<span id="cb12-9"><a href="#cb12-9"></a></span>
<span id="cb12-10"><a href="#cb12-10"></a>Keep&lt;-(<span class="kw">data.frame</span>(D)</span>
<span id="cb12-11"><a href="#cb12-11"></a>        <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(Decision,keep,keep1<span class="op">:</span>keep8)</span>
<span id="cb12-12"><a href="#cb12-12"></a>        <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Decision=</span>(<span class="kw">as.numeric</span>(<span class="kw">gsub</span>(<span class="st">&quot;keep&quot;</span>, <span class="st">&quot;&quot;</span>, Decision)))</span>
<span id="cb12-13"><a href="#cb12-13"></a>                             )</span>
<span id="cb12-14"><a href="#cb12-14"></a>)</span>
<span id="cb12-15"><a href="#cb12-15"></a></span>
<span id="cb12-16"><a href="#cb12-16"></a></span>
<span id="cb12-17"><a href="#cb12-17"></a>knitr<span class="op">::</span><span class="kw">kable</span>((params))</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">X</th>
<th align="right">income</th>
<th align="right">pSelf</th>
<th align="right">pOther</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">40</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">40</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">60</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">60</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">75</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">75</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">60</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">100</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<div id="plot-the-budget-sets" class="section level3">
<h3><span class="header-section-number">1.1.1</span> plot the budget sets</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>params&lt;-(params</span>
<span id="cb13-2"><a href="#cb13-2"></a>         <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(</span>
<span id="cb13-3"><a href="#cb13-3"></a>           <span class="dt">maxSelf=</span>income<span class="op">/</span>pSelf,</span>
<span id="cb13-4"><a href="#cb13-4"></a>           <span class="dt">maxOther=</span>income<span class="op">/</span>pOther</span>
<span id="cb13-5"><a href="#cb13-5"></a>         )</span>
<span id="cb13-6"><a href="#cb13-6"></a>         )</span>
<span id="cb13-7"><a href="#cb13-7"></a></span>
<span id="cb13-8"><a href="#cb13-8"></a>(<span class="kw">ggplot</span>(params,<span class="kw">aes</span>(<span class="dt">color=</span><span class="kw">as.factor</span>(X)))</span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="op">+</span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">y=</span>(income<span class="op">/</span>pSelf),<span class="dt">x=</span><span class="dv">0</span>,<span class="dt">yend=</span><span class="dv">0</span>,<span class="dt">xend=</span>(income<span class="op">/</span>pOther)),<span class="dt">size=</span><span class="dv">1</span>)</span>
<span id="cb13-10"><a href="#cb13-10"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="op">+</span><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="dv">0</span>)</span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="op">+</span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="dv">0</span>)</span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;other&#39;s income&quot;</span>)<span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;self&#39;s income&quot;</span>)</span>
<span id="cb13-14"><a href="#cb13-14"></a>  <span class="op">+</span><span class="kw">theme</span>(<span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>)</span>
<span id="cb13-15"><a href="#cb13-15"></a>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
<div id="classification-into-3-types-of-subject" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Classification into 3 types of subject</h3>
<p><span class="math display">\[
\begin{aligned}
\text{selfish: } u(x,y)&amp;=x\\
\text{perfect substitutes: } u(x,y) &amp;= x + \alpha y\\
\text{perfect complements: } u(x,y) &amp;=\min\{x,\alpha y\}
\end{aligned}
\]</span></p>
<p>We will just set <span class="math inline">\(\alpha =1\)</span></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>params&lt;-params <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">selfish=</span><span class="op">-</span><span class="dv">1</span>,<span class="dt">PC=</span><span class="op">-</span><span class="dv">1</span>,<span class="dt">PS=</span><span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="cf">for</span> (xx <span class="cf">in</span> <span class="kw">unique</span>(params<span class="op">$</span>X)) {</span>
<span id="cb14-4"><a href="#cb14-4"></a>  </span>
<span id="cb14-5"><a href="#cb14-5"></a>  d&lt;-params <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(X<span class="op">==</span>xx)</span>
<span id="cb14-6"><a href="#cb14-6"></a>  pass&lt;-<span class="dv">0</span><span class="op">:</span>d<span class="op">$</span>income</span>
<span id="cb14-7"><a href="#cb14-7"></a>  KeepGrid&lt;-d<span class="op">$</span>income<span class="op">-</span>pass</span>
<span id="cb14-8"><a href="#cb14-8"></a>  </span>
<span id="cb14-9"><a href="#cb14-9"></a>  self&lt;-(d<span class="op">$</span>income<span class="op">-</span>pass)<span class="op">/</span>d<span class="op">$</span>pSelf</span>
<span id="cb14-10"><a href="#cb14-10"></a>  other&lt;-pass<span class="op">/</span>d<span class="op">$</span>pOther</span>
<span id="cb14-11"><a href="#cb14-11"></a>  </span>
<span id="cb14-12"><a href="#cb14-12"></a>  Payoffselfish&lt;-self</span>
<span id="cb14-13"><a href="#cb14-13"></a>  Selfish&lt;-KeepGrid[<span class="kw">which.max</span>(Payoffselfish)]</span>
<span id="cb14-14"><a href="#cb14-14"></a>  </span>
<span id="cb14-15"><a href="#cb14-15"></a>  PayoffPS&lt;-self <span class="op">+</span><span class="st"> </span>other</span>
<span id="cb14-16"><a href="#cb14-16"></a>  PS&lt;-KeepGrid[<span class="kw">which.max</span>(PayoffPS)]</span>
<span id="cb14-17"><a href="#cb14-17"></a>  </span>
<span id="cb14-18"><a href="#cb14-18"></a>  PayoffPC&lt;-self<span class="op">*</span>(self<span class="op">&lt;=</span>other)<span class="op">+</span>other<span class="op">*</span>(self<span class="op">&gt;</span>other)</span>
<span id="cb14-19"><a href="#cb14-19"></a>  PC&lt;-KeepGrid[<span class="kw">which.max</span>(PayoffPC)]</span>
<span id="cb14-20"><a href="#cb14-20"></a>  </span>
<span id="cb14-21"><a href="#cb14-21"></a>  params[xx,]<span class="op">$</span>selfish&lt;-Selfish</span>
<span id="cb14-22"><a href="#cb14-22"></a>  params[xx,]<span class="op">$</span>PS&lt;-PS</span>
<span id="cb14-23"><a href="#cb14-23"></a>  params[xx,]<span class="op">$</span>PC&lt;-PC</span>
<span id="cb14-24"><a href="#cb14-24"></a>  </span>
<span id="cb14-25"><a href="#cb14-25"></a>  </span>
<span id="cb14-26"><a href="#cb14-26"></a>  </span>
<span id="cb14-27"><a href="#cb14-27"></a>}</span>
<span id="cb14-28"><a href="#cb14-28"></a></span>
<span id="cb14-29"><a href="#cb14-29"></a></span>
<span id="cb14-30"><a href="#cb14-30"></a>SSR&lt;-<span class="st"> </span>(Keep  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">left_join</span>(params <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Decision=</span>X) ,<span class="dt">by=</span><span class="st">&quot;Decision&quot;</span>)</span>
<span id="cb14-31"><a href="#cb14-31"></a>  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">resid2_selfish=</span>(selfish<span class="op">-</span>keep)<span class="op">^</span><span class="dv">2</span>,</span>
<span id="cb14-32"><a href="#cb14-32"></a>             <span class="dt">resid2_PC=</span>(PC<span class="op">-</span>keep)<span class="op">^</span><span class="dv">2</span>,</span>
<span id="cb14-33"><a href="#cb14-33"></a>             <span class="dt">resid2_PS=</span>(PS<span class="op">-</span>keep)<span class="op">^</span><span class="dv">2</span>,</span>
<span id="cb14-34"><a href="#cb14-34"></a>             )</span>
<span id="cb14-35"><a href="#cb14-35"></a> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(id)</span>
<span id="cb14-36"><a href="#cb14-36"></a> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">SSR_selfish=</span><span class="kw">sum</span>(resid2_selfish),</span>
<span id="cb14-37"><a href="#cb14-37"></a>               <span class="dt">SSR_PC=</span><span class="kw">sum</span>(resid2_PC),</span>
<span id="cb14-38"><a href="#cb14-38"></a>               <span class="dt">SSR_PS=</span><span class="kw">sum</span>(resid2_PS))</span>
<span id="cb14-39"><a href="#cb14-39"></a>)</span>
<span id="cb14-40"><a href="#cb14-40"></a></span>
<span id="cb14-41"><a href="#cb14-41"></a>TypeList&lt;-<span class="kw">c</span>(<span class="st">&quot;Selfish&quot;</span>,<span class="st">&quot;PC&quot;</span>,<span class="st">&quot;PS&quot;</span>)</span>
<span id="cb14-42"><a href="#cb14-42"></a></span>
<span id="cb14-43"><a href="#cb14-43"></a>SSR<span class="op">$</span>type&lt;-TypeList[<span class="kw">apply</span>(SSR <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(SSR_selfish,SSR_PC,SSR_PS),<span class="dv">1</span>,<span class="dt">FUN=</span>which.min)]</span>
<span id="cb14-44"><a href="#cb14-44"></a>SSR&lt;-(SSR <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Perfect =</span> (SSR_selfish<span class="op">*</span>SSR_PC<span class="op">*</span>SSR_PS)<span class="op">==</span><span class="dv">0</span>)</span>
<span id="cb14-45"><a href="#cb14-45"></a> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(type,Perfect)</span>
<span id="cb14-46"><a href="#cb14-46"></a> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())</span>
<span id="cb14-47"><a href="#cb14-47"></a>)</span>
<span id="cb14-48"><a href="#cb14-48"></a></span>
<span id="cb14-49"><a href="#cb14-49"></a></span>
<span id="cb14-50"><a href="#cb14-50"></a>knitr<span class="op">::</span><span class="kw">kable</span>(SSR)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">type</th>
<th align="left">Perfect</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PC</td>
<td align="left">FALSE</td>
<td align="right">75</td>
</tr>
<tr class="even">
<td align="left">PC</td>
<td align="left">TRUE</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Selfish</td>
<td align="left">FALSE</td>
<td align="right">35</td>
</tr>
<tr class="even">
<td align="left">Selfish</td>
<td align="left">TRUE</td>
<td align="right">31</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="part-problem-sets" class="section level1">
<h1><span class="header-section-number">2</span> (PART) Problem sets</h1>
<div id="guessing-game" class="section level2">
<h2><span class="header-section-number">2.1</span> Guessing Game</h2>
<p>Information about this game can be found in Chapter 6 of Holt’s <em>Markets, Games, and Strategic Behavior</em>.</p>
<div id="a-description-of-what-happened" class="section level3">
<h3><span class="header-section-number">2.1.1</span> A description of what happened</h3>
<ul>
<li><p>In Part 1, you were asked to choose a number between 0 and 100 (inclusive). A monetary prize was awarded to the person who chose closest to <span class="math inline">\(1/2\)</span> of the average (mean) of your group’s choices. We repeated this task several times.</p></li>
<li><p>In Part 2, you were asked to choose a number between 0 and 100 (inclusive). A monetary prize was awarded to the person who chose closest to 20 plus <span class="math inline">\(1/2\)</span> of the average (mean) of your group’s choices. We repeated this task several times.</p></li>
</ul>
</div>
<div id="your-homework-assignment" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Your homework assignment</h3>
<p>Download the data from the experiment and answer the following questions:</p>
<ol style="list-style-type: decimal">
<li><p>Suppose that you knew for sure that everybody else will choose <span class="math inline">\(x\)</span> (a number between 0 and 100). What should you choose? <em>Show your answer in a plot with <span class="math inline">\(x\)</span> on the horizontal axis, and your choice on the vertical axis.</em> You have just calculated a <em>best response</em>! We will get back to this when we study game theory. Do this for both parts of the experiment.</p></li>
<li><p>There is a number such that if everybody else chooses this <span class="math inline">\(x\)</span>, you want to choose <span class="math inline">\(x\)</span> also. <em>Find this number and explain your working</em>. You can solve this either analytically (i.e. pen paper) or computationally (e.g. with <em>Excel</em>, <em>R</em>, <em>Stata</em>, etc). The explanation is the important part.</p></li>
<li><p>Based on your answer to part (2), what would Nash equilibrium predict if we increased the group size?</p></li>
<li><p>Create a plot showing the average choice on the vertical axis, and the round number on the horizontal axis. Show the Nash equilibrium predictions on this plot.</p></li>
<li><p>Compare your theoretical predictions (i.e. questions 1 &amp; 2) to the plot in question (4). What do you think is going on?</p></li>
<li><p>(6260 students only): Test whether or not the means between the two parts are different. State your assumptions. Comment on how appropriate they are.</p></li>
</ol>
</div>
<div id="solutions" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Solutions</h3>
<div id="best-response" class="section level4">
<h4><span class="header-section-number">2.1.3.1</span> 1 - Best response</h4>
<p>If I choose <span class="math inline">\(y\)</span> and everyone else chooses <span class="math inline">\(x\)</span>, then the average is:
<span class="math display">\[
\frac{\text{my choice}+(n-1)(\text{others&#39; choices})}{n}=\frac{y+(n-1)x}{n}
\]</span>
In Part 1, we want to choose a <span class="math inline">\(y\)</span> that is equal to <span class="math inline">\(1/2\)</span> of this number, so this sets up the equation:
<span class="math display">\[
\begin{aligned}
y^*=\frac12\frac{y^*+(n-1)x}{n}
\end{aligned}
\]</span>
Note that <span class="math inline">\(y*\)</span> is on the left- and right-hand side, so we need to solve for <span class="math inline">\(y^*\)</span>:
<span class="math display">\[
\begin{aligned}
2ny^*&amp;=y^*+(n-1)x\\
y^*(2n-1)&amp;=(n-1)x\\
y^*&amp;=\frac{(n-1)x}{2n-1}
\end{aligned}
\]</span>
Note that for any group, <span class="math inline">\(n\geq2\)</span>, so we are not dividing by zero.</p>
<p>For Part 2, we need to choose as close as possible to 20 plus half the average. In math, we want to solve:
<span class="math display">\[
\begin{aligned}
y^*&amp;=20+\frac12\frac{y^*+(n-1)x}{n}\\
2ny^*&amp;=40n+y^*+(n-1)x\\
y^*(2n-1)&amp;=40n+(n-1)x\\
y^*&amp;=\frac{40n+(n-1)x}{2n-1}
\end{aligned}
\]</span></p>
<p>So getting these into plots</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a>x&lt;-<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">100</span>)</span>
<span id="cb15-6"><a href="#cb15-6"></a>n&lt;-<span class="dv">4</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>y&lt;-(n<span class="dv">-1</span>)<span class="op">*</span>x<span class="op">/</span>(<span class="dv">2</span><span class="op">*</span>n<span class="dv">-1</span>)</span>
<span id="cb15-8"><a href="#cb15-8"></a>PlotThis&lt;-<span class="kw">data.frame</span>(x,y)</span>
<span id="cb15-9"><a href="#cb15-9"></a>PlotThis<span class="op">$</span>Part&lt;-<span class="st">&quot;1&quot;</span></span>
<span id="cb15-10"><a href="#cb15-10"></a>tmp&lt;-PlotThis</span>
<span id="cb15-11"><a href="#cb15-11"></a>tmp<span class="op">$</span>y&lt;-(<span class="dv">40</span><span class="op">*</span>n<span class="op">+</span>(n<span class="dv">-1</span>)<span class="op">*</span>x)<span class="op">/</span>(<span class="dv">2</span><span class="op">*</span>n<span class="dv">-1</span>)</span>
<span id="cb15-12"><a href="#cb15-12"></a>tmp<span class="op">$</span>Part&lt;-<span class="st">&quot;2&quot;</span></span>
<span id="cb15-13"><a href="#cb15-13"></a></span>
<span id="cb15-14"><a href="#cb15-14"></a>PlotThis&lt;-<span class="kw">rbind</span>(PlotThis,tmp)</span>
<span id="cb15-15"><a href="#cb15-15"></a>plt1&lt;-(<span class="kw">ggplot</span>(PlotThis,<span class="kw">aes</span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y,<span class="dt">linetype=</span>Part))</span>
<span id="cb15-16"><a href="#cb15-16"></a>  <span class="op">+</span><span class="kw">geom_line</span>()</span>
<span id="cb15-17"><a href="#cb15-17"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb15-18"><a href="#cb15-18"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Others&#39; choice&quot;</span>)</span>
<span id="cb15-19"><a href="#cb15-19"></a>  <span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;Best response&quot;</span>)</span>
<span id="cb15-20"><a href="#cb15-20"></a>)</span>
<span id="cb15-21"><a href="#cb15-21"></a>plt1</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
</div>
<div id="nash-equilibrium" class="section level4">
<h4><span class="header-section-number">2.1.3.2</span> 2 - Nash equilibrium</h4>
<p>In both parts, we are looking for a solution for <span class="math inline">\(y^*=x\)</span>. That is, if everyone else is choosing <span class="math inline">\(x\)</span>, I also want to choose <span class="math inline">\(x\)</span>.</p>
<p>For Part 1, this sets up the equation:
<span class="math display">\[
x=\frac{(n-1)x}{2n-1}
\]</span>
so <span class="math inline">\(x=0\)</span> is the Nash equilibrium of this game.</p>
<p>For Part 2, we have:
<span class="math display">\[
\begin{aligned}
x&amp;=\frac{40n+(n-1)x}{2n-1}\\
x(2n-1)&amp;=40n+(n-1)x\\
x\left((2n-1)-(n-1)\right)&amp;=40n\\
nx&amp;=40n\\
x=40
\end{aligned}
\]</span>
Graphically, we are looking for an intersection of our best response curves with the <span class="math inline">\(45^\circ\)</span> line, (i.e. <span class="math inline">\(x=y\)</span>):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>plt2&lt;-(plt1</span>
<span id="cb16-2"><a href="#cb16-2"></a>       <span class="op">+</span><span class="kw">geom_abline</span>(<span class="dt">slope=</span><span class="dv">1</span>,<span class="dt">intercept=</span><span class="dv">0</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>))</span>
<span id="cb16-3"><a href="#cb16-3"></a>plt2</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
<div id="group-size" class="section level4">
<h4><span class="header-section-number">2.1.3.3</span> 3 - Group size</h4>
<p><span class="math inline">\(n\)</span> does not appear in the Nash equilibrium prediction, so Nash predicts that <em>nothing will change</em> if we increase the group size.</p>
</div>
<div id="data" class="section level4">
<h4><span class="header-section-number">2.1.3.4</span> 4 - Data</h4>
<p>This plot is overkill, I’m not expecrting you to have something with box plots and loess smoothing. You can see the data’s means in the middle lines of the box plots.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">library</span>(readxl)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb17-3"><a href="#cb17-3"></a>T1&lt;-<span class="kw">data.frame</span>(<span class="kw">read_excel</span>(<span class="st">&quot;PS01-GuessingGame.xlsx&quot;</span>,<span class="dt">sheet=</span><span class="st">&quot;Treatment1&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">c</span>(<span class="st">&quot;Round&quot;</span>,<span class="st">&quot;Guess&quot;</span>))</span>
<span id="cb17-4"><a href="#cb17-4"></a>T2&lt;-<span class="kw">data.frame</span>(<span class="kw">read_excel</span>(<span class="st">&quot;PS01-GuessingGame.xlsx&quot;</span>,<span class="dt">sheet=</span><span class="st">&quot;Treatment 2&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="kw">c</span>(<span class="st">&quot;Round&quot;</span>,<span class="st">&quot;Guess&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Round=</span>Round<span class="op">+</span><span class="dv">10</span>) </span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a>T1<span class="op">$</span>Part &lt;-<span class="dv">1</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>T2<span class="op">$</span>Part&lt;-<span class="dv">2</span></span>
<span id="cb17-8"><a href="#cb17-8"></a></span>
<span id="cb17-9"><a href="#cb17-9"></a>D&lt;-<span class="kw">rbind</span>(T1,T2) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(</span>
<span id="cb17-10"><a href="#cb17-10"></a>                      <span class="dt">Round=</span><span class="kw">as.factor</span>(Round),</span>
<span id="cb17-11"><a href="#cb17-11"></a>                      <span class="dt">Guess=</span><span class="kw">as.numeric</span>(Guess)</span>
<span id="cb17-12"><a href="#cb17-12"></a>                      </span>
<span id="cb17-13"><a href="#cb17-13"></a>  )</span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a></span>
<span id="cb17-16"><a href="#cb17-16"></a>Round&lt;-<span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>)</span>
<span id="cb17-17"><a href="#cb17-17"></a>Part&lt;-<span class="kw">paste</span>(<span class="dv">1</span><span class="op">+</span>(Round<span class="op">&gt;=</span><span class="dv">6</span>))</span>
<span id="cb17-18"><a href="#cb17-18"></a>MeanChoice&lt;-<span class="kw">c</span>(<span class="dv">50</span>,<span class="dv">30</span>,<span class="dv">20</span>,<span class="dv">10</span>,<span class="dv">1</span>,<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">50</span>,<span class="dv">48</span>,<span class="dv">40</span>)</span>
<span id="cb17-19"><a href="#cb17-19"></a>Nash&lt;-(Round<span class="op">&gt;=</span><span class="dv">6</span>)<span class="op">*</span><span class="dv">40</span></span>
<span id="cb17-20"><a href="#cb17-20"></a></span>
<span id="cb17-21"><a href="#cb17-21"></a>plt3&lt;-(</span>
<span id="cb17-22"><a href="#cb17-22"></a>  <span class="kw">ggplot</span>(D,<span class="kw">aes</span>(<span class="dt">x=</span>Round,<span class="dt">y=</span>Guess))</span>
<span id="cb17-23"><a href="#cb17-23"></a>  <span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">formula =</span> y <span class="op">~</span><span class="st"> </span>x, <span class="dt">method=</span><span class="st">&quot;loess&quot;</span>,<span class="kw">aes</span>(<span class="dt">group=</span>Part,<span class="dt">color=</span><span class="st">&quot;Data&quot;</span>))</span>
<span id="cb17-24"><a href="#cb17-24"></a>  <span class="op">+</span><span class="kw">geom_boxplot</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>,<span class="kw">aes</span>(<span class="dt">color=</span><span class="st">&quot;Data&quot;</span>))</span>
<span id="cb17-25"><a href="#cb17-25"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb17-26"><a href="#cb17-26"></a>  <span class="op">+</span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span><span class="fl">10.5</span>,<span class="dt">color=</span><span class="st">&quot;black&quot;</span>,<span class="dt">linetype=</span><span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb17-27"><a href="#cb17-27"></a>  <span class="op">+</span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="dv">1</span>,<span class="dt">y=</span><span class="dv">0</span>,<span class="dt">xend=</span><span class="dv">10</span>,<span class="dt">yend=</span><span class="dv">0</span>,<span class="dt">color=</span><span class="st">&quot;Nash&quot;</span>),<span class="dt">size=</span><span class="dv">2</span>)</span>
<span id="cb17-28"><a href="#cb17-28"></a>  <span class="op">+</span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="dv">11</span>,<span class="dt">y=</span><span class="dv">40</span>,<span class="dt">xend=</span><span class="dv">15</span>,<span class="dt">yend=</span><span class="dv">40</span>,<span class="dt">color=</span><span class="st">&quot;Nash&quot;</span>),<span class="dt">size=</span><span class="dv">2</span>)</span>
<span id="cb17-29"><a href="#cb17-29"></a>  <span class="op">+</span><span class="kw">theme</span>(<span class="dt">legend.title=</span><span class="kw">element_blank</span>())</span>
<span id="cb17-30"><a href="#cb17-30"></a>)</span>
<span id="cb17-31"><a href="#cb17-31"></a>plt3</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
<div id="comparison" class="section level4">
<h4><span class="header-section-number">2.1.3.5</span> 5 - Comparison</h4>
<p>In both parts, choices seem to be trending in the direction of the Nash equilibrium. Especially in the first part, there is a large gap in the early rounds between the prediction and choices.</p>
</div>
<div id="statistical-test-6260-students-only" class="section level4">
<h4><span class="header-section-number">2.1.3.6</span> 6 - Statistical test (6260 students only)</h4>
<p>Here I will use linear regression.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">library</span>(stargazer)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">library</span>(sandwich)</span>
<span id="cb18-3"><a href="#cb18-3"></a>D&lt;-(D<span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">InvRound =</span> <span class="dv">1</span><span class="op">/</span>(<span class="kw">as.numeric</span>(Round)<span class="op">-</span><span class="dv">10</span><span class="op">*</span>(Part<span class="op">==</span><span class="dv">2</span>)))</span>
<span id="cb18-4"><a href="#cb18-4"></a>     <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Trend1 =</span> InvRound<span class="op">*</span>(Part<span class="op">==</span><span class="dv">1</span>),<span class="dt">Trend2 =</span> InvRound<span class="op">*</span>(Part<span class="op">==</span><span class="dv">2</span>))   </span>
<span id="cb18-5"><a href="#cb18-5"></a>)</span>
<span id="cb18-6"><a href="#cb18-6"></a></span>
<span id="cb18-7"><a href="#cb18-7"></a></span>
<span id="cb18-8"><a href="#cb18-8"></a>R1&lt;-<span class="kw">lm</span>(Guess<span class="op">~</span><span class="st"> </span>(Part<span class="op">==</span><span class="dv">2</span>) ,<span class="dt">data=</span>D)</span>
<span id="cb18-9"><a href="#cb18-9"></a>se1&lt;-<span class="kw">sqrt</span>(<span class="kw">diag</span>(<span class="kw">vcovHC</span>(R1,<span class="dt">type=</span><span class="st">&quot;HC1&quot;</span>)))</span>
<span id="cb18-10"><a href="#cb18-10"></a>R2&lt;-<span class="kw">lm</span>(Guess <span class="op">~</span><span class="st"> </span>(Part<span class="op">==</span><span class="dv">2</span>)<span class="op">+</span>Trend1<span class="op">+</span>Trend2,<span class="dt">data=</span>D)</span>
<span id="cb18-11"><a href="#cb18-11"></a>se2&lt;-<span class="kw">sqrt</span>(<span class="kw">diag</span>(<span class="kw">vcovHC</span>(R2,<span class="dt">type=</span><span class="st">&quot;HC1&quot;</span>)))</span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="kw">stargazer</span>(R1,R1,R2,<span class="dt">type=</span><span class="st">&quot;html&quot;</span>,<span class="dt">se=</span><span class="kw">list</span>(<span class="ot">NULL</span>,se1,se2))</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
Guess
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
<td>
(3)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Part == 2
</td>
<td>
17.043<sup>***</sup>
</td>
<td>
17.043<sup>***</sup>
</td>
<td>
26.156<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(3.017)
</td>
<td>
(2.331)
</td>
<td>
(3.595)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Trend1
</td>
<td>
</td>
<td>
</td>
<td>
22.956<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(7.273)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Trend2
</td>
<td>
</td>
<td>
</td>
<td>
-4.652
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(5.771)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
17.392<sup>***</sup>
</td>
<td>
17.392<sup>***</sup>
</td>
<td>
10.404<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.738)
</td>
<td>
(2.054)
</td>
<td>
(2.924)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
196
</td>
<td>
196
</td>
<td>
196
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.141
</td>
<td>
0.141
</td>
<td>
0.198
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.137
</td>
<td>
0.137
</td>
<td>
0.186
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
19.888 (df = 194)
</td>
<td>
19.888 (df = 194)
</td>
<td>
19.318 (df = 192)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
31.904<sup>***</sup> (df = 1; 194)
</td>
<td>
31.904<sup>***</sup> (df = 1; 194)
</td>
<td>
15.807<sup>***</sup> (df = 3; 192)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="3" style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p>The specification I use in column 1 is equivalent to the 2-sample <span class="math inline">\(t\)</span>-test with different variances. Column 2 is the same as column 1 except using heteroskedasticity-robust standard errors. Column 3 adds in some “early round” effects. I.e. <span class="math inline">\(\text{Trend1}=1/\text{Round}\)</span>, which approaches zero as many rounds are played. In all regressions, the coefficient of interest is “Part==2”, which is the estimate of the difference in means between the second and first part (after time trends become negligible in column (3)). Note that adding this to the constant gets the regression’s prediction for Part 2, which is about 35 (not too far away from Nash). In all cases we reject the null hypothesis (both one and two-sided, at all sane levels of significance) that the two parts have equal means.</p>
<p>The assumptions required for Column (2) are:</p>
<ul>
<li>The error term is uncorrelated with Part. This is plausible because Part was a variable chosen by the experimenter (i.e. it is exogenous)</li>
<li>The error term is independent. This is almost certainly wrong:
<ul>
<li>It is likely that a participant’s errors are correlated, which could be fixed with clustering at the participant level (we can’t do this because we can’t link IDs across each part)</li>
<li>It is likely that errors are correlated within groups playing together. We can’t account for this because we only had one group in the 2nd part.</li>
</ul></li>
<li>The variance of the error term in the regression is finite.</li>
</ul>
</div>
</div>
</div>
<div id="markets-2" class="section level2">
<h2><span class="header-section-number">2.2</span> Markets</h2>
<div id="your-homework-assignment-1" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Your homework assignment</h3>
<ol style="list-style-type: decimal">
<li><p>What could have happened in the market between Parts 1 and 2? Tell me one thing the government could have done to make this change, and one thing that could have happened not involving the market.</p></li>
<li><p>Draw the supply and demand curves for both parts of the experiment. Label equilibrium price and quantity</p></li>
<li><p>On a separate plot, show every trade price for every round. Include your predicted prices from Part 1.
(this is a deliberately vague question, I am asking you to think about how to communicate the results of this experiment graphically)</p></li>
<li><p>Compute the predicted producer, consumer, and total surplus in both parts. Compare these to the actual consumer, producer, and total surplus from the experiment (dividing this up by round).</p></li>
<li><p>Write a short paragraph telling me your main findings. When needed, make reference to the three plots you made.</p></li>
<li><p>(6260 students only) The model also makes predictions about how many items each seller will sell, and how many items each buyer will buy. Comment on how well the theory is predicting these individual-level quantities (Again, this is another deliberately vague question. I am looking to see how you approach this problem)</p></li>
</ol>
</div>
<div id="solutions-1" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Solutions</h3>
<div id="loading-the-data" class="section level4">
<h4><span class="header-section-number">2.2.2.1</span> Loading the data</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb19-4"><a href="#cb19-4"></a>DRaw&lt;-<span class="kw">data.frame</span>(<span class="kw">read.csv</span>(<span class="st">&quot;PS02data.csv&quot;</span>))</span>
<span id="cb19-5"><a href="#cb19-5"></a>D&lt;-(DRaw</span>
<span id="cb19-6"><a href="#cb19-6"></a>    <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate_all</span>(<span class="dt">.funs =</span>as.numeric)</span>
<span id="cb19-7"><a href="#cb19-7"></a>    <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Part =</span> <span class="dv">1</span><span class="op">+</span>(Round<span class="op">&gt;=</span><span class="dv">6</span>))</span>
<span id="cb19-8"><a href="#cb19-8"></a>)</span>
<span id="cb19-9"><a href="#cb19-9"></a>D<span class="op">$</span>Status&lt;-<span class="kw">as.factor</span>(DRaw<span class="op">$</span>Status)</span>
<span id="cb19-10"><a href="#cb19-10"></a>D<span class="op">$</span>Role&lt;-<span class="st">&quot;Buyer&quot;</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>D<span class="op">$</span>Role[<span class="kw">is.na</span>(D<span class="op">$</span>Value)]&lt;-<span class="st">&quot;Seller&quot;</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="kw">head</span>(D))</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="2%" />
<col width="6%" />
<col width="5%" />
<col width="2%" />
<col width="4%" />
<col width="5%" />
<col width="3%" />
<col width="4%" />
<col width="3%" />
<col width="6%" />
<col width="12%" />
<col width="8%" />
<col width="19%" />
<col width="4%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">X</th>
<th align="right">Record</th>
<th align="right">Round</th>
<th align="right">ID</th>
<th align="right">Unit</th>
<th align="right">Value</th>
<th align="right">Bid</th>
<th align="right">Cost</th>
<th align="right">Ask</th>
<th align="left">Status</th>
<th align="right">Market_Price</th>
<th align="right">Earnings</th>
<th align="right">Cumulative_earnings</th>
<th align="right">Part</th>
<th align="left">Role</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">i</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">Buyer</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">i</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">Buyer</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">i</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">Buyer</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">32</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">i</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">Buyer</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">33</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">i</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">Buyer</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">34</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">i</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">1</td>
<td align="left">Buyer</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>Parameters&lt;-<span class="kw">data.frame</span>(<span class="kw">read.csv</span>(<span class="st">&quot;PS02Parameters.csv&quot;</span>))</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><p>What could have happened in the market between Parts 1 and 2? Tell me one thing the government could have done to make this change, and one thing that could have happened not involving the market.</p></li>
<li><p>Draw the supply and demand curves for both parts of the experiment. Label equilibrium price and quantity</p></li>
</ol>
<p><strong>Solution</strong>: Here I will do questions 1 &amp; 2 together, as it helps to have the supply and demand diagram to work out what happened.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># extract values and costs from rounds 1 and 6</span></span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a>SupplyDemand&lt;-<span class="kw">data.frame</span>()</span>
<span id="cb21-4"><a href="#cb21-4"></a>EQ&lt;-<span class="kw">data.frame</span>()</span>
<span id="cb21-5"><a href="#cb21-5"></a>P&lt;-<span class="kw">seq</span>(<span class="dv">0</span>,<span class="kw">max</span>(Parameters<span class="op">$</span>v, <span class="dt">na.rm=</span>T)<span class="op">+</span><span class="dv">1</span>,<span class="fl">0.01</span>)</span>
<span id="cb21-6"><a href="#cb21-6"></a></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="cf">for</span> (rr <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>) { </span>
<span id="cb21-8"><a href="#cb21-8"></a>  </span>
<span id="cb21-9"><a href="#cb21-9"></a>  <span class="co"># supply and demand functions</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>  Qd&lt;-<span class="cf">function</span>(p,r) {</span>
<span id="cb21-11"><a href="#cb21-11"></a>    v&lt;-Parameters <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Part<span class="op">==</span>r) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(v) </span>
<span id="cb21-12"><a href="#cb21-12"></a>    <span class="kw">sum</span>(v<span class="op">&gt;=</span>p,<span class="dt">na.rm=</span>T)</span>
<span id="cb21-13"><a href="#cb21-13"></a>  }</span>
<span id="cb21-14"><a href="#cb21-14"></a>  Qs&lt;-<span class="cf">function</span>(p,r) {</span>
<span id="cb21-15"><a href="#cb21-15"></a>    c&lt;-Parameters  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Part<span class="op">==</span>r) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(c)</span>
<span id="cb21-16"><a href="#cb21-16"></a>    <span class="kw">sum</span>(c<span class="op">&lt;=</span>p,<span class="dt">na.rm=</span>T)</span>
<span id="cb21-17"><a href="#cb21-17"></a>  }</span>
<span id="cb21-18"><a href="#cb21-18"></a>  </span>
<span id="cb21-19"><a href="#cb21-19"></a></span>
<span id="cb21-20"><a href="#cb21-20"></a>  Q&lt;-<span class="kw">apply</span>(<span class="kw">as.matrix</span>(P),<span class="dv">1</span>,<span class="dt">FUN =</span> {<span class="cf">function</span>(p) <span class="kw">Qs</span>(p,rr)})</span>
<span id="cb21-21"><a href="#cb21-21"></a>  tmp&lt;-<span class="kw">data.frame</span>(P,Q)</span>
<span id="cb21-22"><a href="#cb21-22"></a>  tmp<span class="op">$</span>type=<span class="st">&quot;Supply&quot;</span></span>
<span id="cb21-23"><a href="#cb21-23"></a>  tmp<span class="op">$</span>Part =<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Part&quot;</span>,rr)</span>
<span id="cb21-24"><a href="#cb21-24"></a>  SupplyDemand&lt;-<span class="kw">rbind</span>(SupplyDemand,tmp)</span>
<span id="cb21-25"><a href="#cb21-25"></a>  </span>
<span id="cb21-26"><a href="#cb21-26"></a>  ExcessDemand&lt;-Q</span>
<span id="cb21-27"><a href="#cb21-27"></a>  </span>
<span id="cb21-28"><a href="#cb21-28"></a>  </span>
<span id="cb21-29"><a href="#cb21-29"></a>  Q&lt;-<span class="kw">apply</span>(<span class="kw">as.matrix</span>(P),<span class="dv">1</span>,<span class="dt">FUN =</span> {<span class="cf">function</span>(p) <span class="kw">Qd</span>(p,rr)})</span>
<span id="cb21-30"><a href="#cb21-30"></a>  tmp&lt;-<span class="kw">data.frame</span>(P,Q)</span>
<span id="cb21-31"><a href="#cb21-31"></a>  tmp<span class="op">$</span>type=<span class="st">&quot;Demand&quot;</span></span>
<span id="cb21-32"><a href="#cb21-32"></a>  tmp<span class="op">$</span>Part =<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Part&quot;</span>,rr)</span>
<span id="cb21-33"><a href="#cb21-33"></a>  SupplyDemand&lt;-<span class="kw">rbind</span>(SupplyDemand,tmp)</span>
<span id="cb21-34"><a href="#cb21-34"></a>  </span>
<span id="cb21-35"><a href="#cb21-35"></a>  ExcessDemand&lt;-<span class="st"> </span><span class="op">-</span>(ExcessDemand<span class="op">-</span>Q)</span>
<span id="cb21-36"><a href="#cb21-36"></a>  </span>
<span id="cb21-37"><a href="#cb21-37"></a>  ii&lt;-<span class="kw">sum</span>(<span class="dv">1</span><span class="op">*!</span>(ExcessDemand<span class="op">&lt;=</span><span class="dv">0</span>))</span>
<span id="cb21-38"><a href="#cb21-38"></a>  Peq&lt;-<span class="kw">round</span>(P[ii]) <span class="co"># I know there is an integer solution</span></span>
<span id="cb21-39"><a href="#cb21-39"></a>  Qeq&lt;-Q[ii]</span>
<span id="cb21-40"><a href="#cb21-40"></a>  </span>
<span id="cb21-41"><a href="#cb21-41"></a>  tmp&lt;-<span class="kw">data.frame</span>(Peq,Qeq)</span>
<span id="cb21-42"><a href="#cb21-42"></a>  tmp<span class="op">$</span>Part&lt;-<span class="kw">paste</span>(<span class="st">&quot;Part&quot;</span>,rr)</span>
<span id="cb21-43"><a href="#cb21-43"></a>  EQ&lt;-<span class="kw">rbind</span>(EQ,tmp) </span>
<span id="cb21-44"><a href="#cb21-44"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">print</span>(EQ)</span></code></pre></div>
<pre><code>##   Peq Qeq   Part
## 1   5  20 Part 1
## 2   6  16 Part 2</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>EQ<span class="op">$</span>type&lt;-<span class="st">&quot;Equilibrium&quot;</span></span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a>plt&lt;-(</span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="kw">ggplot</span>(SupplyDemand,<span class="kw">aes</span>(<span class="dt">x=</span>Q,<span class="dt">y=</span>P,<span class="dt">color=</span>type,<span class="dt">group=</span><span class="kw">paste</span>(type,Part),<span class="dt">linetype=</span>Part))</span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="op">+</span><span class="kw">geom_path</span>(<span class="dt">size=</span><span class="dv">1</span>,<span class="dt">alpha=</span><span class="fl">0.8</span>)</span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb24-7"><a href="#cb24-7"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Quantity&quot;</span>)<span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;Price ($)&quot;</span>)</span>
<span id="cb24-8"><a href="#cb24-8"></a>  <span class="op">+</span><span class="kw">geom_vline</span>(<span class="dt">data=</span>EQ,<span class="kw">aes</span>(<span class="dt">xintercept=</span>Qeq),<span class="dt">color=</span><span class="st">&quot;black&quot;</span>,<span class="dt">linetype=</span><span class="st">&quot;dotted&quot;</span>)</span>
<span id="cb24-9"><a href="#cb24-9"></a>  <span class="op">+</span><span class="kw">geom_hline</span>(<span class="dt">data=</span>EQ,<span class="kw">aes</span>(<span class="dt">yintercept=</span>Peq),<span class="dt">color=</span><span class="st">&quot;black&quot;</span>,<span class="dt">linetype=</span><span class="st">&quot;dotted&quot;</span>)</span>
<span id="cb24-10"><a href="#cb24-10"></a>  <span class="op">+</span><span class="kw">geom_point</span>(<span class="dt">data=</span>EQ,<span class="kw">aes</span>(<span class="dt">x=</span>Qeq,<span class="dt">y=</span>Peq),<span class="dt">size=</span><span class="dv">4</span>)</span>
<span id="cb24-11"><a href="#cb24-11"></a>  <span class="co">#+theme(legend.position=&quot;none&quot;)</span></span>
<span id="cb24-12"><a href="#cb24-12"></a>)</span>
<span id="cb24-13"><a href="#cb24-13"></a><span class="kw">print</span>(plt)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p>From the above Figure, we can see that supply has shifted to the left (or up, by $2). Two possible causes of this could be:</p>
<ul>
<li>The government imposes a $2 tax on sellers</li>
<li>An input cost increases</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>On a separate plot, show every trade price for every round. Include your predicted prices from Part 1.
(this is a deliberately vague question, I am asking you to think about how to communicate the results of this experiment graphically)</li>
</ol>
<p><strong>Solution</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">library</span>(latex2exp)</span>
<span id="cb25-2"><a href="#cb25-2"></a>NewRound&lt;-<span class="kw">c</span>()</span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="cf">for</span> (rr <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) {</span>
<span id="cb25-4"><a href="#cb25-4"></a>  NewRound[rr]&lt;-<span class="st"> </span><span class="kw">max</span>((D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Round<span class="op">==</span>rr ))<span class="op">$</span>Record)<span class="op">-</span><span class="dv">1</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>}</span>
<span id="cb25-6"><a href="#cb25-6"></a></span>
<span id="cb25-7"><a href="#cb25-7"></a>Summary&lt;-(D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Record<span class="op">&gt;=</span><span class="dv">450</span> <span class="op">&amp;</span><span class="st"> </span>Status<span class="op">==</span><span class="st">&quot;t&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Round)</span>
<span id="cb25-8"><a href="#cb25-8"></a>                <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb25-9"><a href="#cb25-9"></a>                      <span class="dt">m=</span><span class="kw">mean</span>(Bid,<span class="dt">na.rm=</span>T),</span>
<span id="cb25-10"><a href="#cb25-10"></a>                      <span class="dt">s=</span><span class="kw">sd</span>(Bid,<span class="dt">na.rm=</span>T))</span>
<span id="cb25-11"><a href="#cb25-11"></a>)</span>
<span id="cb25-12"><a href="#cb25-12"></a></span>
<span id="cb25-13"><a href="#cb25-13"></a>D &lt;-<span class="st"> </span>D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">left_join</span>(Summary,<span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Round&quot;</span>))</span>
<span id="cb25-14"><a href="#cb25-14"></a></span>
<span id="cb25-15"><a href="#cb25-15"></a>(</span>
<span id="cb25-16"><a href="#cb25-16"></a>  <span class="kw">ggplot</span>(D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Status<span class="op">==</span><span class="st">&quot;t&quot;</span>),<span class="kw">aes</span>(<span class="dt">x=</span>Record))</span>
<span id="cb25-17"><a href="#cb25-17"></a>  <span class="op">+</span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y=</span>Bid,<span class="dt">color=</span><span class="st">&quot;data&quot;</span>))</span>
<span id="cb25-18"><a href="#cb25-18"></a>  <span class="co">#+geom_line(aes(y=Bid,color=&quot;data&quot;))</span></span>
<span id="cb25-19"><a href="#cb25-19"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb25-20"><a href="#cb25-20"></a>  <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Record,<span class="dt">y=</span>m,<span class="dt">group=</span>Round,<span class="dt">color=</span><span class="st">&quot;mean&quot;</span>))</span>
<span id="cb25-21"><a href="#cb25-21"></a>  <span class="op">+</span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Record,<span class="dt">ymax=</span>(m<span class="op">+</span>s),<span class="dt">ymin=</span>(m<span class="op">-</span>s),<span class="dt">fill=</span><span class="st">&quot;\U00B1 1 sd&quot;</span>),<span class="dt">alpha=</span><span class="fl">0.1</span>)</span>
<span id="cb25-22"><a href="#cb25-22"></a>  <span class="op">+</span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span>NewRound)</span>
<span id="cb25-23"><a href="#cb25-23"></a>  <span class="op">+</span><span class="kw">ylim</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">11</span>))</span>
<span id="cb25-24"><a href="#cb25-24"></a>  <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Record,<span class="dt">y=</span>EQ<span class="op">$</span>Peq[Part],<span class="dt">group=</span>Part,<span class="dt">color=</span><span class="st">&quot;Equilibrium&quot;</span>))</span>
<span id="cb25-25"><a href="#cb25-25"></a>  <span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;Traded price ($)&quot;</span>)</span>
<span id="cb25-26"><a href="#cb25-26"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Record number&quot;</span>)</span>
<span id="cb25-27"><a href="#cb25-27"></a>  <span class="op">+</span><span class="kw">ylim</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">10</span>))<span class="op">+</span><span class="kw">xlim</span>(<span class="kw">c</span>(<span class="dv">500</span>,<span class="dv">1100</span>))</span>
<span id="cb25-28"><a href="#cb25-28"></a>  </span>
<span id="cb25-29"><a href="#cb25-29"></a>  </span>
<span id="cb25-30"><a href="#cb25-30"></a>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Compute the predicted producer, consumer, and total surplus in both parts. Compare these to the actual consumer, producer, and total surplus from the experiment (dividing this up by round).</li>
</ol>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Surplus for each part</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>Parameters&lt;-(Parameters</span>
<span id="cb26-3"><a href="#cb26-3"></a>             <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">EQ_CS =</span> v<span class="op">-</span>EQ<span class="op">$</span>Peq[Part],</span>
<span id="cb26-4"><a href="#cb26-4"></a>                        <span class="dt">EQ_PS =</span> EQ<span class="op">$</span>Peq[Part]<span class="op">-</span>c)</span>
<span id="cb26-5"><a href="#cb26-5"></a>                            </span>
<span id="cb26-6"><a href="#cb26-6"></a>             <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">EQ_CS =</span> EQ_CS<span class="op">*</span>(EQ_CS<span class="op">&gt;=</span><span class="dv">0</span>),</span>
<span id="cb26-7"><a href="#cb26-7"></a>                        <span class="dt">EQ_PS =</span> EQ_PS<span class="op">*</span>(EQ_PS<span class="op">&gt;=</span><span class="dv">0</span>)</span>
<span id="cb26-8"><a href="#cb26-8"></a>                        )</span>
<span id="cb26-9"><a href="#cb26-9"></a>             </span>
<span id="cb26-10"><a href="#cb26-10"></a>  </span>
<span id="cb26-11"><a href="#cb26-11"></a>)</span>
<span id="cb26-12"><a href="#cb26-12"></a></span>
<span id="cb26-13"><a href="#cb26-13"></a>Surplus&lt;-(</span>
<span id="cb26-14"><a href="#cb26-14"></a>  Parameters </span>
<span id="cb26-15"><a href="#cb26-15"></a>  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Part) </span>
<span id="cb26-16"><a href="#cb26-16"></a>  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">CS =</span> <span class="kw">sum</span>(EQ_CS,<span class="dt">na.rm=</span>T),<span class="dt">PS =</span> <span class="kw">sum</span>(EQ_PS,<span class="dt">na.rm=</span>T)) </span>
<span id="cb26-17"><a href="#cb26-17"></a>  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">TS =</span> CS<span class="op">+</span>PS)</span>
<span id="cb26-18"><a href="#cb26-18"></a>    </span>
<span id="cb26-19"><a href="#cb26-19"></a>  </span>
<span id="cb26-20"><a href="#cb26-20"></a>)</span>
<span id="cb26-21"><a href="#cb26-21"></a></span>
<span id="cb26-22"><a href="#cb26-22"></a>knitr<span class="op">::</span><span class="kw">kable</span>(Surplus)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Part</th>
<th align="right">CS</th>
<th align="right">PS</th>
<th align="right">TS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">42</td>
<td align="right">42</td>
<td align="right">84</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">26</td>
<td align="right">24</td>
<td align="right">50</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>D &lt;-<span class="st"> </span>(D</span>
<span id="cb27-2"><a href="#cb27-2"></a>      <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Status<span class="op">==</span><span class="st">&quot;t&quot;</span>)</span>
<span id="cb27-3"><a href="#cb27-3"></a>      <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Round)</span>
<span id="cb27-4"><a href="#cb27-4"></a>      <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">CumlativeSurplus =</span> <span class="kw">cumsum</span>(Earnings))</span>
<span id="cb27-5"><a href="#cb27-5"></a>)</span>
<span id="cb27-6"><a href="#cb27-6"></a></span>
<span id="cb27-7"><a href="#cb27-7"></a>(<span class="kw">ggplot</span>(D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Status<span class="op">==</span><span class="st">&quot;t&quot;</span>))</span>
<span id="cb27-8"><a href="#cb27-8"></a>        <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Record,<span class="dt">y=</span>CumlativeSurplus,<span class="dt">group=</span>Round,<span class="dt">color=</span><span class="st">&quot;Data&quot;</span>))</span>
<span id="cb27-9"><a href="#cb27-9"></a>        <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb27-10"><a href="#cb27-10"></a>        <span class="op">+</span><span class="kw">geom_vline</span>(<span class="dt">xintercept=</span>NewRound)</span>
<span id="cb27-11"><a href="#cb27-11"></a>        <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Record,<span class="dt">y=</span>Surplus<span class="op">$</span>TS[Part],<span class="dt">group=</span>Part,<span class="dt">color=</span><span class="st">&quot;Equilibrium&quot;</span>))</span>
<span id="cb27-12"><a href="#cb27-12"></a>        <span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;Cumulative surplus&quot;</span>)</span>
<span id="cb27-13"><a href="#cb27-13"></a>        )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>knitr<span class="op">::</span><span class="kw">kable</span>(</span>
<span id="cb28-2"><a href="#cb28-2"></a>D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Round,Part)</span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">FracSurplus =</span> <span class="kw">max</span>(CumlativeSurplus<span class="op">/</span>Surplus<span class="op">$</span>TS[Part],<span class="dt">na.rm=</span>T))</span>
<span id="cb28-4"><a href="#cb28-4"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Round</th>
<th align="right">Part</th>
<th align="right">FracSurplus</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.3928571</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">0.7976190</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">0.7976190</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">1</td>
<td align="right">0.7500000</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">2</td>
<td align="right">0.6000000</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">2</td>
<td align="right">0.6600000</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">2</td>
<td align="right">0.8000000</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">2</td>
<td align="right">0.7200000</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="right">2</td>
<td align="right">0.7200000</td>
</tr>
</tbody>
</table>
<ol start="5" style="list-style-type: decimal">
<li>Write a short paragraph telling me your main findings. When needed, make reference to the three plots you made.</li>
</ol>
<p><strong>Solution</strong> We studied a market experiment in which buyers and sellers traded a fictitious good. In the second part of the experiment, the supply curve shifted up by $2 (see first Figure). In general, traded prices were above the equilibrium, but they moved up on average in the second part:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>(</span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="kw">ggplot</span>(D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Status<span class="op">==</span><span class="st">&quot;t&quot;</span>),<span class="kw">aes</span>(<span class="dt">x=</span>Market_Price,<span class="dt">color=</span><span class="kw">paste</span>(<span class="st">&quot;Part&quot;</span>,Part),<span class="dt">linetype=</span><span class="st">&quot;Data&quot;</span>))</span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="op">+</span><span class="kw">stat_ecdf</span>()</span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="op">+</span><span class="kw">geom_vline</span>(<span class="dt">data=</span>EQ,<span class="kw">aes</span>(<span class="dt">xintercept=</span>Peq,<span class="dt">color=</span>Part,<span class="dt">linetype=</span><span class="st">&quot;Equilibrium&quot;</span>))</span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb29-6"><a href="#cb29-6"></a><span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;p&quot;</span>)<span class="op">+</span><span class="kw">ylab</span>(<span class="kw">TeX</span>(<span class="st">&quot;$</span><span class="ch">\\</span><span class="st">Pr(</span><span class="ch">\\</span><span class="st">mathrm{Trade Price}) </span><span class="ch">\\</span><span class="st">leq p$&quot;</span>))</span>
<span id="cb29-7"><a href="#cb29-7"></a></span>
<span id="cb29-8"><a href="#cb29-8"></a></span>
<span id="cb29-9"><a href="#cb29-9"></a>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<ol start="6" style="list-style-type: decimal">
<li>(6260 students only) The model also makes predictions about how many items each seller will sell, and how many items each buyer will buy. Comment on how well the theory is predicting these individual-level quantities (Again, this is another deliberately vague question. I am looking to see how you approach this problem)</li>
</ol>
<p><strong>Solution</strong></p>
<p>First, let’s make a list of how many items each buyer and seller should trade in equilibrium</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>Parameters&lt;-(Parameters</span>
<span id="cb30-2"><a href="#cb30-2"></a>             <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">ShouldBuy =</span> v<span class="op">&gt;=</span><span class="st"> </span>EQ<span class="op">$</span>Peq[Part],</span>
<span id="cb30-3"><a href="#cb30-3"></a>                        <span class="dt">ShouldSell =</span> c<span class="op">&lt;=</span><span class="st"> </span>EQ<span class="op">$</span>Peq[Part])</span>
<span id="cb30-4"><a href="#cb30-4"></a>)</span>
<span id="cb30-5"><a href="#cb30-5"></a>EQQdemand&lt;-Parameters <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(idBuyer,Part) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">qEQ =</span> <span class="kw">sum</span>(<span class="dv">1</span><span class="op">*</span>ShouldBuy)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">ID=</span>idBuyer,<span class="dt">Role=</span><span class="st">&quot;Buyer&quot;</span>) </span>
<span id="cb30-6"><a href="#cb30-6"></a>EQQsupply&lt;-Parameters <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(idSeller,Part) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">qEQ =</span> <span class="kw">sum</span>(<span class="dv">1</span><span class="op">*</span>ShouldSell)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">ID=</span>idSeller,<span class="dt">Role=</span><span class="st">&quot;Seller&quot;</span>) </span>
<span id="cb30-7"><a href="#cb30-7"></a>EQindividual&lt;-<span class="kw">rbind</span>(EQQdemand,EQQsupply)[,<span class="kw">c</span>(<span class="st">&quot;ID&quot;</span>,<span class="st">&quot;Part&quot;</span>,<span class="st">&quot;qEQ&quot;</span>,<span class="st">&quot;Role&quot;</span>)] </span>
<span id="cb30-8"><a href="#cb30-8"></a><span class="co">#knitr::kable((EQindividual))</span></span></code></pre></div>
<p>Now, let’s work out what these were empirically:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>TradeCounts&lt;-(D <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Status<span class="op">==</span><span class="st">&quot;t&quot;</span>)</span>
<span id="cb31-2"><a href="#cb31-2"></a>              <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Round,Part,ID,Role)</span>
<span id="cb31-3"><a href="#cb31-3"></a>              <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">ntrades=</span><span class="kw">n</span>())</span>
<span id="cb31-4"><a href="#cb31-4"></a>              <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">left_join</span>(EQindividual,<span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;ID&quot;</span>,<span class="st">&quot;Part&quot;</span>,<span class="st">&quot;Role&quot;</span>))</span>
<span id="cb31-5"><a href="#cb31-5"></a>              <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Part,qEQ,Round)</span>
<span id="cb31-6"><a href="#cb31-6"></a>              <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">mtrades=</span><span class="kw">mean</span>(ntrades,<span class="dt">na.rm=</span>T,<span class="dt">sdtrades=</span><span class="kw">sd</span>(ntrades)))</span>
<span id="cb31-7"><a href="#cb31-7"></a>              )</span>
<span id="cb31-8"><a href="#cb31-8"></a></span>
<span id="cb31-9"><a href="#cb31-9"></a>(<span class="kw">ggplot</span>(<span class="dt">data=</span>TradeCounts,<span class="kw">aes</span>(<span class="dt">x=</span>Round,<span class="dt">y=</span>mtrades,<span class="dt">color=</span><span class="kw">paste</span>(qEQ)))</span>
<span id="cb31-10"><a href="#cb31-10"></a>  <span class="op">+</span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">linetype=</span><span class="st">&quot;Data&quot;</span>),<span class="dt">size=</span><span class="dv">1</span>)</span>
<span id="cb31-11"><a href="#cb31-11"></a>  <span class="op">+</span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept=</span><span class="dv">1</span>,<span class="dt">color=</span><span class="st">&quot;1&quot;</span>,<span class="dt">linetype=</span><span class="st">&quot;Equilibrium&quot;</span>))</span>
<span id="cb31-12"><a href="#cb31-12"></a>  <span class="op">+</span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept=</span><span class="dv">2</span>,<span class="dt">color=</span><span class="st">&quot;2&quot;</span>,<span class="dt">linetype=</span><span class="st">&quot;Equilibrium&quot;</span>))</span>
<span id="cb31-13"><a href="#cb31-13"></a>  <span class="op">+</span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept=</span><span class="dv">3</span>,<span class="dt">color=</span><span class="st">&quot;3&quot;</span>,<span class="dt">linetype=</span><span class="st">&quot;Equilibrium&quot;</span>))</span>
<span id="cb31-14"><a href="#cb31-14"></a>  <span class="op">+</span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept=</span><span class="fl">5.5</span>),<span class="dt">color=</span><span class="st">&quot;black&quot;</span>,<span class="dt">linetype=</span><span class="st">&quot;dashed&quot;</span>)</span>
<span id="cb31-15"><a href="#cb31-15"></a>  <span class="op">+</span><span class="kw">ylim</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">4</span>))</span>
<span id="cb31-16"><a href="#cb31-16"></a>  <span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;Mean number of trades&quot;</span>)</span>
<span id="cb31-17"><a href="#cb31-17"></a>  <span class="op">+</span><span class="kw">theme_bw</span>()</span>
<span id="cb31-18"><a href="#cb31-18"></a>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>The theory is not predicting the number of items each player will trade well. For example, in the first part of the experiment, the players who should make 2 trades on average trade more than those who should trade two.</p>
</div>
</div>
</div>
<div id="risk" class="section level2">
<h2><span class="header-section-number">2.3</span> Risk</h2>
<div id="questions" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Questions</h3>
<ol style="list-style-type: decimal">
<li><p>Calculate the expected value of each option, and the expected utility of each option, assuming that everyone have utility function <span class="math inline">\(u(x)=x^{0.2}\)</span></p></li>
<li><p>The <em>certainty equivalent</em> of a lottery is the dollar amount $C that a person would accept with certainty instead of the lottery itself. For example, if the lottery I hsve chosen is $1 with probability 50%, and $0 otherwise, then my certainty equivalent is defined as:
<span class="math display">\[
u(C)=0.5u(1)+0.5u(0)
\]</span>
For our utility function <span class="math inline">\(u(x) =x^{0.2}\)</span>, we can solve for the certainty equivalent as follows:
<span class="math display">\[
\begin{aligned}
C^{r}&amp;=0.5\times 0^{r}+0.5\times 1^{r}\\
C&amp;=\left(0.5\times 0^{r}+0.5\times 1^{r}\right)^{1/r}\\
\end{aligned}
\]</span>
and so <span class="math inline">\(0.5^{1/0.2}=0.5^5\approx\$0.031\)</span>
Produce a plot with the expected value of each choice on the horizontal axis, and the certainty equivalent of each choice on the vertical axis. Incluse a <span class="math inline">\(45^\circ\)</span> line (i.e. plot <span class="math inline">\(y=x\)</span>), and explain the relationship between this line and the points that you have plot.</p></li>
<li><p>On a separate graph, plot the expected value of choice a (horizontal axis) against the expected value of choice b (vertical axis). Also plot the certainty equivalents. Add a <span class="math inline">\(45^\circ\)</span> line. What does a point being above (or to the right of) this line mean?</p></li>
</ol>
<p>4u. (undergrad students only) For each participant in the experiment, determine whether there decisions look more like maximizing <span class="math inline">\(E(X)\)</span> or <span class="math inline">\(E(u(x))\)</span>. Report the fraction of subjects for each type. This is a deliberately vague question. <em>Hint:</em> Start by thinking about the predictions for each of these models.</p>
<p>4m. (masters students only) Estimate <span class="math inline">\(r\)</span> for all participants in the experiment, where <span class="math inline">\(r\)</span> is the parameter in the utility function <span class="math inline">\(u(x)=x^r\)</span>. Consider values for <span class="math inline">\(r\)</span> in the range <span class="math inline">\((0.1,1.5)\)</span></p>
<!--chapter:end:index.Rmd-->
</div>
</div>
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
